<app-navbar (themeChanged)="themeChangedHandler($event)"></app-navbar>
<div class="content-wrapper pt-0 pl-3" [ngClass]="Themecolor == 'Dark' ? '' : 'content-wrapper-light'">
  <ngb-tabset justify="fill" *ngIf="!spot" [activeId]="activeIdString" [ngClass]="Themecolor == 'Dark' ? 'tab-dark' : 'tab-light'" >
    <ngb-tab id="spot" (click)="walletHistoryList('1')" 
    *ngIf="data.isSpot == 1 
    || data.isFutures == 1 
    || data.isOptions == 1
    || data.isConvert == 1
    || data.isOtc == 1

    ">
      <ng-template ngbTabTitle>
        <h5 class="market-reset" id="spotTab" style="padding: 8px 10px" (click)="handleSelectedTab('spot');marketTypeNavSeve('spot');data.checkUserBlockStatus()">SPOT</h5>
      </ng-template>
      <ng-template ngbTabContent>
        <!--first parent tab-->
        <div style="top: 151px; right: 11px; position: absolute; z-index: 999999">
          <div class="icon-section pull-left">
            <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('portfolioGraphInfo')"></i>
          </div>
          <div class="info-section" id="portfolioGraphInfo" style="display: none; top: 59px; left: -880px">
            <div class="info-header">
              <div class="info-title">Portfolio Graph</div>
              <div class="info-close">
                <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('portfolioGraphInfo')"></i>
              </div>
            </div>
            <div class="info-body">Displays portfolio holdings in dollars of particular customer within 1 day, 1 month, 3 months, 6 months, and 1 year. </div>
          </div>
        </div>
        <div>
          <app-walletgraph></app-walletgraph>
        </div>
        <!-- search for coin  -->

        <div class="input-group">
          <div class="form-outline">
            <input id="search-input" type="search" id="form1" class="search form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light-search'" [(ngModel)]="currencyFilter" placeholder="Search coin...  " style="width: 270px; background: #31313a" />
            <!-- <label class="form-label" for="form1">Search</label> -->
          </div>
          <!-- <button id="search-button" type="button" class="btn btn=-primary">
            <i class="fas fa-search">
          </button> -->
        </div>

        <!-- <button (click)="changeArray()">Test button</button> -->

        <div class="row d-flex section-position" data-ng-init="loginDuration();" data-ng-controller="myWalletCtrl">
          <div class="col-12 mt-3 align-self-stretch" >
            <div class=" p-2 pl-3 pr-3 rounded h-100" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
              <span class="font-lg text-green"> </span>
              <div class="w-100 mt-2"></div>
              <div class="table-responsive-sm">
                <div style="height: 400px; overflow: auto" [ngClass]="Themecolor == 'Dark' ? '' : 'tab-pane active scrollable_light'">
                  <table class="table table-sm table-hover">
                    <thead>
                      <tr class="" style="position: sticky; inset-block-start: 0" [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                        <th scope="col" class="tablefirstRow">
                          Asset
                          <span style="cursor: pointer;margin-left:10px;">
                            <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('assetInfo')"></i>
                          </span>
                          <div class="info-section" id="assetInfo" style="display: none;margin:auto; top: 10px">
                            <div class="info-header">
                              <div class="info-title">Asset</div>
                              <div class="info-close">
                                <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('assetInfo')"></i>
                              </div>
                            </div>
                            <div class="info-body">
                              <p>This column displays the name of currencies listed in PayBito exchange.</p>
                            </div>
                          </div>
                        </th>
                        <th scope="col">
                          Price
                          <span style="cursor: pointer;margin-left:10px;">
                            <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('priceInfo')"></i>
                          </span>
                          <div class="info-section" id="priceInfo" style="display: none;margin:auto; top: 10px">
                            <div class="info-header">
                              <div class="info-title">Price</div>
                              <div class="info-close">
                                <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('priceInfo')"></i>
                              </div>
                            </div>
                            <div class="info-body">
                              <p>This column displays the price of a particular currency with respect to USD.</p>
                            </div>
                          </div>
                        
                        </th>
                        <th scope="col">
                          Change
                          <span style="cursor: pointer;margin-left:10px;">
                            <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('changeInfo')"></i>
                          </span>
                          <div class="info-section" id="changeInfo" style="display: none;margin:auto; top: 10px">
                            <div class="info-header">
                              <div class="info-title">Change</div>
                              <div class="info-close">
                                <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('changeInfo')"></i>
                              </div>
                            </div>
                            <div class="info-body">
                              <p>This column displays the price change of a currency within 24 hours.</p>
                            </div>
                          </div>


                        </th>
                        <th scope="col">
                          Holdings
                          <span style="cursor: pointer;margin-left:10px;">
                            <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('holdingInfo')"></i>
                          </span>
                          <div class="info-section" id="holdingInfo" style="display: none;margin:auto; top: 10px">
                            <div class="info-header">
                              <div class="info-title">Holdings</div>
                              <div class="info-close">
                                <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('holdingInfo')"></i>
                              </div>
                            </div>
                            <div class="info-body">
                              <p>Holdings displays the balance of a particular currency.</p>
                            </div>
                          </div>
                        </th>
                        <th scope="col">
                          Holdings ($)
                          <span style="cursor: pointer;margin-left:10px;">
                            <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('holdingsInfo')"></i>
                          </span>
                          <div class="info-section" id="holdingsInfo" style="display: none;margin:auto; top: 10px">
                            <div class="info-header">
                              <div class="info-title">Holdings ($)</div>
                              <div class="info-close">
                                <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('holdingsInfo')"></i>
                              </div>
                            </div>
                            <div class="info-body">
                              <p>Holdings ($) displays the balance of a currency in dollars ($).</p>
                            </div>
                          </div>
                        </th>
                        <th scope="col">
                          <div class="row">
                            <span class="col-6 mt-2">
                              Send
                              <span style="cursor: pointer;margin-left:10px;">
                                <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('fiatSendInfo')"></i>
                              </span>
                              <div class="info-section" id="fiatSendInfo" style="display: none;margin:auto;left:-310px; top: 10px">
                                <div class="info-header">
                                  <div class="info-title">SEND</div>
                                  <div class="info-close">
                                    <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('fiatSendInfo')"></i>
                                  </div>
                                </div>
                                <div class="info-body">
                                  <p>Users can withdraw fiat and crypto from here.</p>
                                </div>
                              </div>
                            </span>
                            
                          </div>
                        </th>
                        <th scope="col">
                          <div class="row">
                            <span class="col-8 mt-2">
                              Receive
                              <span style="cursor: pointer;margin-left:10px;">
                                <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('fiatRecieveInfo')"></i>
                              </span>
                              <div class="info-section" id="fiatRecieveInfo" style="display: none;margin:auto;left:-473px; top: 10px">
                                <div class="info-header">
                                  <div class="info-title">RECEIVE</div>
                                  <div class="info-close">
                                    <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('fiatRecieveInfo')"></i>
                                  </div>
                                </div>
                                <div class="info-body">
                                  <p>Users can Deposit fiat and crypto from here.</p>
                                </div>
                              </div>
                            </span>
                            
                          </div>
                        </th>
                        <!-- <th scope="col">Buy</th> -->
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let b of myBalanceList | myfilter: currencyFilter; let i = index" [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'">
                        <td style="width: 14.28%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-yellow tablefirstRow">
                          <img alt="{{b.currencyCode}}" src="{{ data.ASSETICONBASEURL + b.currencyCode.toUpperCase() + '.png' }}" width="20px" height="20px" />

                          <span> {{ b.currencyCode | uppercase }} </span>
                        </td>
                        <td *ngIf="b.lastPrice != '0'; else last_price" style="width: 15%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                          {{ b.lastPrice }}
                        </td>
                        <ng-template #last_price>
                          <td style="width: 14.28%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">-</td>
                        </ng-template>
                        <td *ngIf="b.roc != '0'; else roc_blnc" style="width: 15%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                          {{ b.roc }}
                        </td>
                        <ng-template #roc_blnc>
                          <td style="width: 14.28%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">-</td>
                        </ng-template>
                        <td style="width: 14.28%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                          {{ b.closingBalance }}
                        </td>
                        <td style="width: 14.28%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                          {{ b.holdingInUsd }}
                        </td>
                        <td style="width: 14.28%; padding: 10px 0; border-bottom: 1px solid #ddd">
                          <a
                            *ngIf="b.sendAccess == 1 && b.currencyCode != 'HCX'"
                            (click)="data.checkUserBlockStatus();getmodalcurrency(sendmodal, b.currencyCode, b.closingBalance, b.currencyId)"
                            class="text-skyblue"
                            href="javascript:void(0);"
                          >
                            <span class="font-xs mr-1 deposit-withdraw-btn">
                              <span class="diposit-hover " [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">SEND</span>
                              <img alt="send" src="../../assets/img/send.png" alt="send logo" style="width: 20px" />
                            </span>
                          </a>
                          <a
                            *ngIf="b.sendAccess == 1 && b.currencyCode == 'HCX'"
                            (click)="data.checkUserBlockStatus();getmodalcurrency(sendmodalhcx, b.currencyCode, b.closingBalance, b.currencyId, b.currencyName)"
                            class="text-skyblue"
                            href="javascript:void(0);"
                          >
                            <span class="font-xs mr-1 deposit-withdraw-btn">
                              <span class="diposit-hover " [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">SEND</span>
                              <img alt="send" src="../../assets/img/send.png" alt="send logo" style="width: 20px" />
                            </span>
                          </a>
                          <a
                            *ngIf="(b.currencyCode == 'USD' || b.currencyCode == 'AED' || b.currencyCode == 'INR' || b.currencyCode == 'EUR' || b.currencyCode == 'SGD') && b.isWithdraw == 1"
                            class="text-skyblue"
                            routerLink="/withdraw-funds"
                          >
                            <span class="font-xs mr-1 deposit-withdraw-btn">
                              <span class="diposit-hover " [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">SEND</span>
                              <img alt="send" src="../../assets/img/send.png" alt="send logo" style="width: 20px" />
                            </span>
                          </a>
                        </td>
                        <td style="width: 14.28%; padding: 10px 0; border-bottom: 1px solid #ddd">
                          <a
                            *ngIf="b.receiveAccess == 1 && b.currencyCode != 'HCX'"
                            class="text-green aaa"
                            (click)="data.checkUserBlockStatus();getCurrencyForRecieveModalNative(rcvCodeModal, b.currencyCode, b.currencyId, b.currencyName)"
                            href="javascript:void(0);"
                          >
                            <span class="font-xs mr-1 deposit-withdraw-btn">
                              <span class="diposit-hover " [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">RECEIVE</span>
                              <img alt="RECEIVE" src="../../assets/img/send.png" alt="pay logo" style="width: 20px" />
                            </span>
                          </a>

                          <a
                            *ngIf="b.receiveAccess == 1 && b.currencyCode == 'HCX'"
                            class="text-green bbb"
                            (click)="data.checkUserBlockStatus();getCurrencyForRecieveModalErc(rcvCodeModalhcx, b.currencyCode, b.currencyId, b.currencyName)"
                            href="javascript:void(0);"
                          >
                            <span class="font-xs mr-1 deposit-withdraw-btn">
                              <span class="diposit-hover " [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">RECEIVE</span>
                              <img alt="RECEIVE" src="../../assets/img/send.png" alt="pay logo" style="width: 20px" /> </span
                          ></a>
                          <a
                            *ngIf="(b.currencyCode == 'USD' || b.currencyCode == 'AED' || b.currencyCode == 'INR' || b.currencyCode == 'EUR' || b.currencyCode == 'SGD') && b.isDeposit == 1"
                            class="text-green bbb"
                            routerLink="/deposit-funds"
                            href="javascript:void(0);"
                          >
                            <span class="font-xs mr-1 deposit-withdraw-btn">
                              <span class="diposit-hover " [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">RECEIVE</span>
                              <img alt="RECEIVE" src="../../assets/img/send.png" alt="pay logo" style="width: 20px" /> </span
                          ></a>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 mt-3">
            <div class="p-2 pl-3 pr-3 rounded h-100" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
              <span class="font-md " [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                Wallet Transactions History 
                <span style="cursor: pointer;margin-left:10px;">
                  <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('walletTranscationInfo')" style="font-size:15px;"></i>
                </span>
                <div class="info-section" id="walletTranscationInfo" style="display: none;margin:auto; top: 10px">
                  <div class="info-header">
                    <div class="info-title" style="font-size:17px;">Wallet Transactions History</div>
                    <div class="info-close">
                      <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('walletTranscationInfo')"></i>
                    </div>
                  </div>
                  <div class="info-body" style="font-size:15px;">
                    <p>Wallet Transactions History displays the send receive of cryptocurrency.</p>
                  </div>
                </div>
              </span>
              <div class="p-2 float-right">
                <div class="btn-group btn-group-sm" role="group" aria-label="transaction-history">
                  <button type="button" class="btn btn-dark font-xs filter-button mywallet_filter_btn send_filter_btn_wallet btn_active" (click)="filterType('send')">
                    SEND 
                  </button>

                  <span style="cursor: pointer;margin-left:10px;">
                    <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('walletTranscationSendInfo')" style="font-size:15px;"></i>
                  </span>
                  <div class="info-section" id="walletTranscationSendInfo" style="display: none;margin:auto; top: 10px;left:-500px;">
                    <div class="info-header">
                      <div class="info-title" style="font-size:17px;">Send</div>
                      <div class="info-close">
                        <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('walletTranscationSendInfo')"></i>
                      </div>
                    </div>
                    <div class="info-body" style="font-size:15px;">
                      <p>Send displays the send operation details.</p>
                    </div>
                  </div>

                  <button type="button" class="btn btn-dark font-xs filter-button mywallet_filter_btn recieved_filter_btn_wallet ml-2" (click)="filterType('recieved')">RECEIVE</button>

                  <span style="cursor: pointer;margin-left:10px;">
                    <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('walletTranscationReceiveInfo')" style="font-size:15px;"></i>
                  </span>
                  <div class="info-section" id="walletTranscationReceiveInfo" style="display: none;margin:auto; top: 10px;left:-500px;">
                    <div class="info-header">
                      <div class="info-title" style="font-size:17px;">Receive</div>
                      <div class="info-close">
                        <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('walletTranscationReceiveInfo')"></i>
                      </div>
                    </div>
                    <div class="info-body" style="font-size:15px;">
                      <p>Receive displays the receive operation details.</p>
                    </div>
                  </div>

                </div>
              </div>
              <div class="w-100 mt-2"></div>
              <div class="table-responsive-sm">
                <table class="table table-sm table-hover">
                  <thead>
                    <tr class="" [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                      <th scope="col">TimeStamp</th>
                      <th scope="col">Description</th>
                      <!-- <th scope="col">Type</th> -->
                      <th scope="col">Asset</th>
                      <th scope="col">Amount</th>
                      <th scope="col">Action</th>
                      <th scope="col">Status</th>
                    </tr>
                  </thead>
                  
                  <tbody class="walletHistoryTableBody" id="walletHistoryTableBody" *ngIf="whistoryDetails1.length > 0">

                    <tr *ngFor="let data of whistoryDetails1" [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'">
                      <td [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">{{data.timestamp}}</td>
                      <td [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">{{data.descriptionTd}} <br> <a *ngIf="data.hrefForTxn!= ''" href="{{data.hrefForTxn}}" target="_blank">(Check Transaction Block)</a> </td>
                      <td><span [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">{{data.amount}}</span></td>
                      <td [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">{{data.amountdbtcrdt}}</td>
                      <td [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">{{data.action}}</td>
                      <td class="{{data.statusClass}}">{{data.status}}</td>


                    </tr>
                    <!-- <tr>
                      <td colspan="5" class="text-center py-3">
                        <img src="./assets/svg-loaders/puff.svg" width="50" alt="">
                      </td>
                    </tr> -->
                  </tbody>
                  
                </table>
              </div>
              <div class="row">
                <div class="col-12">
                  <div class="float-sm-right btn-group btn-group-sm pagination_div" role="group"
                    aria-label="transaction-history">
                    <!-- <ngb-pagination [collectionSize]="collection" [(page)]="page" [directionLinks]="false" (click)="pager(page);" ></ngb-pagination> -->
                    <div class="btn-group">
                      <!-- <button class="btn btn-info" (click)="pager(1)" [disabled]="page==1">
                        <i class="fa fa-angle-double-left" aria-hidden="true"></i>
                      </button> -->
                      <button name="paginationBUtton" class="btn btn-info" (click)="pagerPre(page)" [disabled]="page==1">
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                      </button>
                      <button name="paginationBUtton" class="btn btn-info {{page==p?'active':''}} {{((p<page+5)&&(p>page-5))?'':'d-none'}}"
                        (click)="pager(p);" *ngFor="let p of pgn">{{p}}</button>
                      <button name="paginationBUtton" class="btn btn-info" (click)="pagerNext(page)" [disabled]="page==main.pgn.length">
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                      </button>
                      <!-- <button class="btn btn-info" (click)="pager(main.pgn.length)" [disabled]="page==main.pgn.length">
                        <i class="fa fa-angle-double-right" aria-hidden="true"></i>
                      </button> -->
                    </div>
                  </div>
                </div>
                </div>
              <div class="row">
                <div class="col-12">
                  <div class="float-sm-right btn-group btn-group-sm pagination_div" role="group" aria-label="transaction-history"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-template>
    </ngb-tab>

   <!--  <ngb-tab id="sanu">
      <ng-template ngbTabTitle>
        <h5 class="market-reset" style="padding: 8px 10px" id="marginTab" (click)="handleSelectedTab('margin'); getAssets(); userPortfolioBalance(); marginTransactionHistory(); portfolioDeatils()">
          MARGIN
        </h5>
      </ng-template>
      <ng-template ngbTabContent>
        <ngb-tabset justify="fill" [ngClass]="Themecolor == 'Dark' ? 'tab-dark' : 'tab-light'">
          <ngb-tab id="iso">
            <ng-template ngbTabTitle>
              <h5 class="market-reset" id="marginIsoTab" (click)="handleSelectMarginType(1); handleSelectedTab('marginIso')" style="padding: 8px 10px">ISOLATED 3X</h5>
            </ng-template>
            <ng-template ngbTabContent>
              <ngb-tabset justify="fill" class="childTab " [ngClass]="Themecolor == 'Dark' ? 'tab-dark' : 'tab-lightHidden'">
                <ngb-tab id="main">
                  <ng-template ngbTabTitle>
                    
                  </ng-template>
                  <ng-template ngbTabContent>
                    <div class="row">
                      <div class="col-6 mt-3">
                        <div class=" p-2 pl-3 pr-3 rounded h-100" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                          <span class="font-md " [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-dark'"><p class="text-center">Fiat Holdings</p></span>
                          <ngb-tabset justify="fill" class="normalTab" [ngClass]="Themecolor == 'Dark' ? 'tab-dark' : 'tab-light'">
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 style="padding: 8px 10px">SPOT WALLET</h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="row">
                                  <div class="col-12 mt-3 align-self-stretch">
                                    <div class="p-2 pl-3 pr-3 rounded h-100 customer-report-widget" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                                      <div class="table-responsive-sm">
                                        <table class="table table-sm table-hover">
                                          <thead>
                                            <tr class="" [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                              <th style="width: 25%" class="tablefirstRow" scope="col">Fiat</th>
                                              <th style="width: 25%" scope="col">Amount</th>
                                              <th style="width: 25%" scope="col-2">Transfer To</th>
                                            </tr>
                                          </thead>
                                          <tbody>
                                            <tr [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" >
                                              <td class="tablefirstRow" style="width: 25%">USD</td>
                                              <td style="width: 25%">
                                                {{ usdbalance1 }}
                                              </td>
                                              <td style="width: 25%">
                                                <button style="margin: 0px 6px" class="btn btn-primary btn-sm" (click)="modalOpen(marginfiath, usdbalance1, 'usd')">Margin</button>
                                                <button class="btn btn-primary btn-sm" (click)="modalOpen(fundingfiath, usdbalance1, 'usd')">Funding</button>
                                              </td>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </ng-template>
                            </ngb-tab>
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 (click)="faitmargin()" style="padding: 8px 10px">MARGIN</h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="row">
                                  <div class="col-12 mt-3 align-self-stretch">
                                    <div class=" p-2 pl-3 pr-3 rounded h-100 customer-report-widget" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                                      <div class="table-responsive-sm">
                                        <table class="table table-sm table-hover">
                                          <thead>
                                            <tr [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                              <th style="width: 10%" scope="col">Fiat</th>
                                              <th style="width: 30%" scope="col">Margin Wallet Balance</th>
                                              <th style="width: 10%" scope="col">Used Balance</th>
                                              <th style="width: 20%" scope="col">Available Balance</th>
                                              <th style="width: 10%" scope="col">Transfer To</th>
                                            </tr>
                                          </thead>
                                          <tbody>
                                            <tr [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'">
                                              <td style="width: 10%">USD</td>
                                              <td style="width: 30%">
                                                {{ marginWalletBalance }}
                                              </td>
                                              <td style="width: 10%">
                                                {{ usedBalance }}
                                              </td>
                                              <td style="width: 20%">
                                                {{ availableBalance }}
                                              </td>
                                              <td style="width: 10%">
                                                <button
                                                  style="margin: 0px 6px"
                                                  class="btn btn-primary btn-sm"
                                                  (click)="assetmarginmodal(fiatholdingmargin, marginWalletBalance, fiatCurrencyId, marginWalletid, 'margin')"
                                                  href="javascript:void(0);"
                                                >
                                                  SPOT
                                                </button>
                                              </td>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </ng-template>
                            </ngb-tab>
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 style="padding: 8px 10px">FUNDING</h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="tab-pane p-3 tab-1" id="funding" role="tabpanel" aria-labelledby="market-sell-tab">


                                  <div class="row form-group">
                                    <div class="col-sm-3">From Date:</div>
                                    <div class="col-sm-6">
                                      <div class="input-group">
                                        <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="dd-mm-yyyy" name="dp" [(ngModel)]="assetfromdate" ngbDatepicker #ds="ngbDatepicker" />
                                        <div class="input-group-append">
                                          <button class="btn btn-secondary" (click)="ds.toggle()" type="button">
                                            <i class="fa fa-calendar" aria-hidden="true"></i>
                                          </button>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="row form-group">
                                    <div class="col-sm-3">To Date:</div>
                                    <div class="col-sm-6">
                                      <div class="input-group">
                                        <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="dd-mm-yyyy" name="dp" [(ngModel)]="assettodate" ngbDatepicker #do="ngbDatepicker" />
                                        <div class="input-group-append">
                                          <button class="btn btn-secondary" (click)="do.toggle()" type="button">
                                            <i class="fa fa-calendar" aria-hidden="true"></i>
                                          </button>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  
                                  <button type="submit" class="text-white btn btn-primary" (click)="modalUpFiat(fiathmodal); assetfundingmargin(); reset()">Submit</button>
                                </div>
                              </ng-template>
                            </ngb-tab>
                          </ngb-tabset>
                        </div>
                      </div>
                      <div class="col-6 mt-3 align-self-stretch">
                        <div class=" p-2 pl-3 pr-3 rounded h-100" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                          <span class="font-md " [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-dark'"><p class="text-center">Asset Holdings</p></span>

                          <ngb-tabset justify="fill" class="normalTab">
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 (click)="reset()" style="padding: 8px 10px">SPOT WALLET</h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                               
                                <div class="w-100 mt-2"></div>
                                <div class="table-responsive-sm">
                                  <table class="table table-sm table-hover">
                                    <thead>
                                      <tr class="" [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                        <th class="tablefirstRow" style="width: 33.33%" scope="col">Asset</th>
                                        <th style="width: 33.33%" scope="col">Balance</th>
                                        <th style="width: 33.33%" scope="col">Action</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                      <tr [hidden]="myBalanceList" class="" [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'">
                                        <td colspan="3" class="text-center tablefirstRow">
                                          <img src="./assets/svg-loaders/puff.svg" width="50" alt="" />
                                        </td>
                                      </tr>
                                      <tr class="" [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" *ngFor="let b of myBalanceList; let i = index">
                                        <td *ngIf="b.currencyType == '2' && b.isFund == '1'" style="width: 33.33%" class="text-yellow tablefirstRow">
                                          {{ b.currencyCode | uppercase }}
                                        </td>
                                        <td *ngIf="b.currencyType == '2' && b.isFund == '1'" style="width: 33.33%" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                                          {{ b.closingBalance }}
                                        </td>
                                        <td *ngIf="b.currencyType == '2' && b.isFund == '1'" style="width: 33.33%">
                                          <a
                                            class="text-skyblue"
                                            (click)="modalOpen(assetmargin, b.closingBalance, b.currencyCode, b.currencyId)"
                                            href="javascript:void(0);"
                                            *ngIf="b.isIsoMargin == '1'"
                                            >MARGIN</a
                                          >
                                          <span *ngIf="b.isIsoMargin == '0'" style="margin-left: 72px"></span>
                                          <a
                                            class="text-green"
                                            (click)="modalOpen(assetfunding, b.closingBalance, b.currencyCode, b.currencyId); getmarginval(b.currencyCode)"
                                            href="javascript:void(0);"
                                            *ngIf="b.isFund == '1'"
                                            >FUNDING</a
                                          >
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>
                              </ng-template>
                            </ngb-tab>
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 (click)="reset()" style="padding: 8px 10px">MARGIN</h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="row">
                                  <div class="col-md-3">
                                    <h6>Asset :</h6>
                                  </div>
                                  <div class="col-md-6">
                                    <select class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" (change)="somethingChanged($event.target.value); reset()">
                                      <option hidden value="marginholding" disabled>Select Currency</option>
                                      <option *ngFor="let items of fundingHomeViewIso" [value]="items.CURRENCY_NAME">
                                        <div *ngIf="items.CURRENCYNAME != 'BCC'">
                                          <option>
                                            {{ items.CURRENCY_NAME }}
                                          </option>
                                        </div>
                                        <div *ngIf="items.CURRENCY_NAME == 'BCC'">
                                          <option>BCH</option>
                                        </div>
                                      </option>
                                    </select>
                                  </div>
                                </div>
                                <br /><br />
                                <div class="row">
                                  <div class="col-md-9" [(ngModel)]="assetBalance">
                                    <h6>
                                      Margin Wallet Balance:
                                      <span class="font-md text-green">{{ marginWalletBalance1 }}</span>
                                    </h6>
                                    <h6>
                                      Used Balance:
                                      <span class="font-md text-green">{{ usedBalance1 }}</span>
                                    </h6>
                                    <h6>
                                      Available Balance:
                                      <span class="font-md text-green">{{ availableBalance1 }}</span>
                                    </h6>
                                    <td>
                                      <span>Transfer To : </span>
                                      <button
                                        class="btn btn-primary btn-sm"
                                        (click)="cryptoholdingmargin(cryptomargin, cryptoCurrency1, marginWalletBalance1, currencyId1, marginwalletId1)"
                                        href="javascript:void(0);"
                                      >
                                        SPOT
                                      </button>
                                    </td>
                                  </div>
                                </div>
                              </ng-template>
                            </ngb-tab>
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 (click)="reset()" style="padding: 8px 10px">FUNDING</h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="row form-group">
                                  <label class="control-label col-sm-2" for="email">Asset Provided:</label>
                                  <div class="col-sm-4">
                                    <select class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" [(ngModel)]="arrayy">
                                      <option hidden value="assetcurrency" disabled>Select Currency</option>
                                      <option *ngFor="let item of fundingHomeViewFunding" [value]="item.CURRENCYID">
                                        <div *ngIf="item.CURRENCY_NAME != 'BCC'">
                                          <option>
                                            {{ item.CURRENCY_NAME }}
                                          </option>
                                        </div>
                                        <div *ngIf="item.CURRENCY_NAME == 'BCC'">
                                          <option>BCH</option>
                                        </div>
                                      </option>
                                    </select>
                                  </div>
                                  <label class="control-label col-sm-2" for="email">Base Currency:</label>
                                  <div class="col-sm-4">
                                    
                                    <input type="text" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" ng-model="base" placeholder="USD" disabled />
                                  </div>
                                </div>
                                <div class="row form-group">
                                  <div class="col-sm-3">From Date:</div>
                                  <div class="col-sm-6">
                                    <div class="input-group">
                                      <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="dd-mm-yyyy" name="dp" [(ngModel)]="modelabc" ngbDatepicker #ds="ngbDatepicker" />
                                      <div class="input-group-append">
                                        <button class="btn btn-secondary" (click)="ds.toggle()" type="button">
                                          <i class="fa fa-calendar" aria-hidden="true"></i>
                                        </button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="row form-group">
                                  <div class="col-sm-3">To Date:</div>
                                  <div class="col-sm-6">
                                    <div class="input-group">
                                      <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="dd-mm-yyyy" name="dp" [(ngModel)]="modeldate" ngbDatepicker #do="ngbDatepicker" />
                                      <div class="input-group-append">
                                        <button class="btn btn-secondary" (click)="do.toggle()" type="button">
                                          <i class="fa fa-calendar" aria-hidden="true"></i>
                                        </button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <button type="submit" class="text-white btn btn-primary" (click)="modalUp(popup); findingViewForInputServise(); reset()">Submit</button>
                              </ng-template>
                            </ngb-tab>
                          </ngb-tabset>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </ngb-tab>
              </ngb-tabset>

              <div class="row" style="margin-top: 20px">
                <span style="display: table; margin: 0 auto;" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'"><h2>Portfolio</h2></span>
              </div>
              <ngb-tabset>
                <ngb-tab id="portfolio">
                  <ng-template ngbTabTitle>
                    
                  </ng-template>
                  <ng-template ngbTabContent>
                    <div class="col-12 mt-3 align-self-stretch">
                      <div class=" p-2 pl-3 pr-3 rounded h-100" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                        <span class="font-lg text-green"> </span>
                        <div class="w-100 mt-2"></div>
                        <div class="table-responsive-sm">
                          <table class="table table-sm table-hover">
                            <thead>
                              <tr class="" [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                <th scope="col">Currency</th>
                                <th scope="col">Balance</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr class="" [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" *ngFor="let p of portfolioBalance; let i = index">
                                <td style="width: 50%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                                  {{ p.currencyName }}
                                </td>
                                <td style="width: 50%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                                  {{ p.amount }}
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                    <div class="col-12 mt-3 align-self-stretch">
                      <div class="p-2 pl-3 pr-3 rounded h-100" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                        <span class="font-lg text-green"> </span>
                        <div class="w-100 mt-2"></div>
                        <div class="table-responsive-sm">
                          <table class="table table-sm table-hover">
                            <thead>
                              <tr class="" [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                <th scope="col">{{ portfolioId }}</th>
                                <th scope="col">{{ portfolioDate }}</th>
                                <th scope="col">{{ currencyName }}</th>
                                <th scope="col">{{ baseCurrency }}</th>
                                <th scope="col">{{ balance }}</th>
                                <th scope="col">{{ price }}</th>
                                <th scope="col">{{ portfolioType }}</th>
                                <th scope="col">Action</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr class="" [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" *ngFor="let p of portfolioDetails; let i = index">
                                <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                                  {{ p.mpTransactionId }}
                                </td>
                                <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                                  {{ p.transactionDate }}
                                </td>
                                
                                <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                                  {{ p.currencyName }}
                                </td>
                                <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                                  {{ p.baseCurrency }}
                                </td>
                                <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                                  {{ p.amount }}
                                </td>
                                <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                                  {{ p.price }}
                                </td>
                                <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                                  {{ p.portfolioType }}
                                </td>
                                <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" *ngIf="p.transactionType == 2">
                                  <button
                                    class="btn btn-primary text-{{ p.transactionType == '2' ? 'success' : 'danger' }}"
                                    (click)="modalbuy(buyoffer, p.amount, p.currencyName, p.baseCurrency, p.assetCode, p.mpTransactionId)"
                                  >
                                    BUY
                                  </button>
                                </td>
                                <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" *ngIf="p.transactionType == 1">
                                  <button
                                    class="btn btn-primary text-{{ p.transactionType == '2' ? 'success' : 'danger' }}"
                                    (click)="modalbuy(selloffer, p.amount, p.currencyName, p.baseCurrency, p.assetCode, p.mpTransactionId)"
                                  >
                                    SELL
                                  </button>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </ngb-tab>
              </ngb-tabset>
            </ng-template>
          </ngb-tab>
          <ngb-tab id="cross">
            <ng-template ngbTabTitle>
              <h5 class="market-reset" id="marginCrossTab" (click)="handleSelectMarginType(2); handleSelectedTab('marginCross')" style="padding: 8px 10px">CROSS 3X</h5>
            </ng-template>
            <ng-template ngbTabContent>
              <ngb-tabset justify="fill" class="childTab" [ngClass]="Themecolor == 'Dark' ? 'tab-dark' : 'tab-lightHidden'" >
                <ngb-tab id="main">
                  <ng-template ngbTabTitle>
                   
                  </ng-template>
                  <ng-template ngbTabContent>
                    <div class="row">
                      <div class="col-6 mt-3">
                        <div class="p-2 pl-3 pr-3 rounded h-100" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                          <span class="font-md " [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'"><p class="text-center">Fiat Holdings</p></span>

                          <ngb-tabset justify="fill" class="normalTab">
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 style="padding: 8px 10px">SPOT WALLET</h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="row">
                                  <div class="col-12 mt-3 align-self-stretch">
                                    <div class=" p-2 pl-3 pr-3 rounded h-100 customer-report-widget" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                                      <div class="table-responsive-sm">
                                        <table class="table table-sm table-hover">
                                          <thead>
                                            <tr class="" [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                              <th style="width: 25%" class="tablefirstRow" scope="col">Fiat</th>
                                              <th style="width: 25%" scope="col">Amount</th>
                                              <th style="width: 25%" scope="col-2">Transfer To</th>
                                            </tr>
                                          </thead>
                                          <tbody>
                                            <tr [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'">
                                              <td style="width: 25%" class="tablefirstRow">USD</td>
                                              <td style="width: 25%">
                                                {{ usdbalance1 }}
                                              </td>
                                              <td style="width: 25%">
                                                <button style="margin: 0px 6px" class="btn btn-primary btn-sm" (click)="modalOpen(marginfiath, usdbalance1, 'usd')">Margin</button>
                                                <button class="btn btn-primary btn-sm" (click)="modalOpen(fundingfiath, usdbalance1, 'usd')">Funding</button>
                                              </td>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </ng-template>
                            </ngb-tab>
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 (click)="faitmargin()" style="padding: 8px 10px">MARGIN</h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="row">
                                  <div class="col-12 mt-3 align-self-stretch">
                                    <div class="p-2 pl-3 pr-3 rounded h-100 customer-report-widget" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                                      <div class="table-responsive-sm">
                                        <table class="table table-sm table-hover">
                                          <thead>
                                            <tr class="" [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                              <th style="width: 10%" scope="col">Fiat</th>
                                              <th style="width: 30%" scope="col">Margin Wallet Balance</th>
                                              <th style="width: 10%" scope="col">Used Balance</th>
                                              <th style="width: 20%" scope="col">Available Balance</th>
                                              <th style="width: 10%" scope="col">Transfer To</th>
                                            </tr>
                                          </thead>
                                          <tbody>
                                            <tr [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'">
                                              <td style="width: 10%">USD</td>
                                              <td style="width: 30%">
                                                {{ marginWalletBalance }}
                                              </td>
                                              <td style="width: 10%">
                                                {{ usedBalance }}
                                              </td>
                                              <td style="width: 20%">
                                                {{ availableBalance }}
                                              </td>
                                              <td style="width: 10%">
                                                <button
                                                  style="margin: 0px 6px"
                                                  class="btn btn-primary btn-sm"
                                                  (click)="assetmarginmodal(fiatholdingmargin, marginWalletBalance, fiatCurrencyId, marginWalletid, 'margin')"
                                                  href="javascript:void(0);"
                                                >
                                                  SPOT
                                                </button>
                                              </td>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </ng-template>
                            </ngb-tab>
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 style="padding: 8px 10px">FUNDING</h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="tab-pane p-3 tab-1" id="funding" role="tabpanel" aria-labelledby="market-sell-tab">
                                  

                                  <div class="row form-group">
                                    <div class="col-sm-3">From Date:</div>
                                    <div class="col-sm-6">
                                      <div class="input-group">
                                        <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="dd-mm-yyyy" name="dp" [(ngModel)]="assetfromdate" ngbDatepicker #ds="ngbDatepicker" />
                                        <div class="input-group-append">
                                          <button class="btn btn-secondary" (click)="ds.toggle()" type="button">
                                            <i class="fa fa-calendar" aria-hidden="true"></i>
                                          </button>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="row form-group">
                                    <div class="col-sm-3">To Date:</div>
                                    <div class="col-sm-6">
                                      <div class="input-group">
                                        <input class="form-control" placeholder="dd-mm-yyyy" name="dp" [(ngModel)]="assettodate" ngbDatepicker #do="ngbDatepicker" />
                                        <div class="input-group-append">
                                          <button class="btn btn-secondary" (click)="do.toggle()" type="button">
                                            <i class="fa fa-calendar" aria-hidden="true"></i>
                                          </button>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  
                                  <button type="submit" class="text-white btn btn-primary" (click)="modalUpFiat(fiathmodal); assetfundingmargin(); reset()">Submit</button>
                                </div>
                              </ng-template>
                            </ngb-tab>
                          </ngb-tabset>
                        </div>
                      </div>
                      <div class="col-6 mt-3 align-self-stretch">
                        <div class="p-2 pl-3 pr-3 rounded h-100" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                          <span class="font-md" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'"><p class="text-center">Asset Holdings</p></span>

                          <ngb-tabset justify="fill" class="normalTab">
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 (click)="reset()" style="padding: 8px 10px">SPOT WALLET</h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                
                                <div class="w-100 mt-2"></div>
                                <div class="table-responsive-sm">
                                  <table class="table table-sm table-hover">
                                    <thead>
                                      <tr  [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                        <th style="width: 33.33%" scope="col" class="tablefirstRow">Asset</th>
                                        <th style="width: 33.33%" scope="col">Balance</th>
                                        <th style="width: 33.33%" scope="col">Action</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                      <tr [hidden]="myBalanceList" [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'">
                                        <td colspan="3" class="text-center">
                                          <img src="./assets/svg-loaders/puff.svg" width="50" alt="" />
                                        </td>
                                      </tr>
                                      <tr class=" tablefirstRow" [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" *ngFor="let b of myBalanceList; let i = index">
                                        <td *ngIf="b.currencyType == '2' && b.isFund == '1'" style="width: 33.33%" class="text-yellow tablefirstRow">
                                          {{ b.currencyCode | uppercase }}
                                        </td>
                                        <td *ngIf="b.currencyType == '2' && b.isFund == '1'" style="width: 33.33%" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                                          {{ b.closingBalance }}
                                        </td>
                                        <td *ngIf="b.currencyType == '2' && b.isFund == '1'" style="width: 33.33%">
                                          <a
                                            class="text-skyblue"
                                            (click)="modalOpen(assetmargin, b.closingBalance, b.currencyCode, b.currencyId)"
                                            href="javascript:void(0);"
                                            *ngIf="b.isCrossMargin == '1'"
                                            >MARGIN</a
                                          >
                                          <span *ngIf="b.isCrossMargin == '0'" style="margin-left: 72px"></span>
                                          <a
                                            class="text-green"
                                            (click)="modalOpen(assetfunding, b.closingBalance, b.currencyCode, b.currencyId); getmarginval(b.currencyCode)"
                                            href="javascript:void(0);"
                                            *ngIf="b.isFund == '1'"
                                            >FUNDING</a
                                          >
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>
                              </ng-template>
                            </ngb-tab>
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 (click)="reset()" style="padding: 8px 10px">MARGIN</h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="row">
                                  <div class="col-md-3">
                                    <h6>Asset :</h6>
                                  </div>
                                  <div class="col-md-6">
                                    <select class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" (change)="somethingChanged($event.target.value); reset()">
                                      <option hidden value="marginholding" disabled>Select Currency</option>
                                      <option *ngFor="let items of fundingHomeViewCross" [value]="items.CURRENCY_NAME">
                                        <div *ngIf="items.CURRENCYNAME != 'BCC'">
                                          <option>
                                            {{ items.CURRENCY_NAME }}
                                          </option>
                                        </div>
                                        <div *ngIf="items.CURRENCY_NAME == 'BCC'">
                                          <option>BCH</option>
                                        </div>
                                      </option>
                                    </select>
                                  </div>
                                </div>
                                <br /><br />
                                <div class="row">
                                  <div class="col-md-9" [(ngModel)]="assetBalance">
                                    <h6>
                                      Margin Wallet Balance:
                                      <span class="font-md text-green">{{ marginWalletBalance1 }}</span>
                                    </h6>
                                    <h6>
                                      Used Balance:
                                      <span class="font-md text-green">{{ usedBalance1 }}</span>
                                    </h6>
                                    <h6>
                                      Available Balance:
                                      <span class="font-md text-green">{{ availableBalance1 }}</span>
                                    </h6>
                                    <td>
                                      <span>Transfer To : </span>
                                      <button
                                        class="btn btn-primary btn-sm"
                                        (click)="cryptoholdingmargin(cryptomargin, cryptoCurrency1, marginWalletBalance1, currencyId1, marginwalletId1)"
                                        href="javascript:void(0);"
                                      >
                                        SPOT
                                      </button>
                                    </td>
                                  </div>
                                </div>
                              </ng-template>
                            </ngb-tab>
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 (click)="reset()" style="padding: 8px 10px">FUNDING</h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="row form-group">
                                  <label class="control-label col-sm-2" for="email">Asset Provided:</label>
                                  <div class="col-sm-4">
                                    <select class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" [(ngModel)]="arrayy">
                                      <option hidden value="assetcurrency" disabled>Select Currency</option>
                                      <option *ngFor="let item of fundingHomeViewFunding" [value]="item.CURRENCYID">
                                        <div *ngIf="item.CURRENCY_NAME != 'BCC'">
                                          <option>
                                            {{ item.CURRENCY_NAME }}
                                          </option>
                                        </div>
                                        <div *ngIf="item.CURRENCY_NAME == 'BCC'">
                                          <option>BCH</option>
                                        </div>
                                      </option>
                                    </select>
                                  </div>
                                  <label class="control-label col-sm-2" for="email">Base Currency:</label>
                                  <div class="col-sm-4">
                                    
                                    <input type="text" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" ng-model="base" placeholder="USD" disabled />
                                  </div>
                                </div>
                                <div class="row form-group">
                                  <div class="col-sm-3">From Date:</div>
                                  <div class="col-sm-6">
                                    <div class="input-group">
                                      <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="dd-mm-yyyy" name="dp" [(ngModel)]="modelabc" ngbDatepicker #ds="ngbDatepicker" />
                                      <div class="input-group-append">
                                        <button class="btn btn-secondary" (click)="ds.toggle()" type="button">
                                          <i class="fa fa-calendar" aria-hidden="true"></i>
                                        </button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="row form-group">
                                  <div class="col-sm-3">To Date:</div>
                                  <div class="col-sm-6">
                                    <div class="input-group">
                                      <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="dd-mm-yyyy" name="dp" [(ngModel)]="modeldate" ngbDatepicker #do="ngbDatepicker" />
                                      <div class="input-group-append">
                                        <button class="btn btn-secondary" (click)="do.toggle()" type="button">
                                          <i class="fa fa-calendar" aria-hidden="true"></i>
                                        </button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <button type="submit" class="text-white btn btn-primary" (click)="modalUp(popup); findingViewForInputServise(); reset()">Submit</button>
                              </ng-template>
                            </ngb-tab>
                          </ngb-tabset>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </ngb-tab>
              </ngb-tabset>

              <div class="row" style="margin-top: 20px">
                <span style="display: table; margin: 0 auto;" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'"><h2>Portfolio</h2></span>
              </div>

              <ngb-tabset>
                <ngb-tab id="portfolio">
                  <ng-template ngbTabTitle>
                    
                  </ng-template>
                  <ng-template ngbTabContent>
                    <div class="col-12 mt-3 align-self-stretch">
                      <div class="p-2 pl-3 pr-3 rounded h-100" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                        <span class="font-lg text-green"> </span>
                        <div class="w-100 mt-2"></div>
                        <div class="table-responsive-sm">
                          <table class="table table-sm table-hover">
                            <thead>
                              <tr class="" [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                <th scope="col">Currency</th>
                                <th scope="col">Balance</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr class="" [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" *ngFor="let p of portfolioBalance; let i = index">
                                <td style="width: 50%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                                  {{ p.currencyName }}
                                </td>
                                <td style="width: 50%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                                  {{ p.amount }}
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                    <div class="col-12 mt-3 align-self-stretch">
                      <div class="p-2 pl-3 pr-3 rounded h-100" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                        <span class="font-lg text-green"> </span>
                        <div class="w-100 mt-2"></div>
                        <div class="table-responsive-sm">
                          <table class="table table-sm table-hover">
                            <thead>
                              <tr class="" [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                <th scope="col">{{ portfolioId }}</th>
                                <th scope="col">{{ portfolioDate }}</th>
                                <th scope="col">{{ currencyName }}</th>
                                <th scope="col">{{ baseCurrency }}</th>
                                <th scope="col">{{ balance }}</th>
                                <th scope="col">{{ price }}</th>
                                <th scope="col">{{ portfolioType }}</th>
                                <th scope="col">Action</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr class="" [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" *ngFor="let p of portfolioDetails; let i = index">
                                <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                                  {{ p.mpTransactionId }}
                                </td>
                                <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                                  {{ p.transactionDate }}
                                </td>
                                
                                <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                                  {{ p.currencyName }}
                                </td>
                                <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                                  {{ p.baseCurrency }}
                                </td>
                                <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                                  {{ p.amount }}
                                </td>
                                <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                                  {{ p.price }}
                                </td>
                                <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                                  {{ p.portfolioType }}
                                </td>
                                <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" *ngIf="p.transactionType == 2">
                                  <button
                                    class="btn btn-primary text-{{ p.transactionType == '2' ? 'success' : 'danger' }}"
                                    (click)="modalbuy(buyoffer, p.amount, p.currencyName, p.baseCurrency, p.assetCode, p.mpTransactionId)"
                                  >
                                    BUY
                                  </button>
                                </td>
                                <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" *ngIf="p.transactionType == 1">
                                  <button
                                    class="btn btn-primary text-{{ p.transactionType == '2' ? 'success' : 'danger' }}"
                                    (click)="modalbuy(selloffer, p.amount, p.currencyName, p.baseCurrency, p.assetCode, p.mpTransactionId)"
                                  >
                                    SELL
                                  </button>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                        <div class="row">
                          <div class="col-12">
                            <div class="float-sm-right btn-group btn-group-sm pagination_div" role="group" aria-label="transaction-history">
                              
                              <div class="btn-group">
                                <button class="btn btn-info" (click)="pagermargin(1)" [disabled]="mpage == 1">
                                  <i class="fa fa-angle-double-left" aria-hidden="true"></i>
                                </button>
                                <button class="btn btn-info" (click)="pagermarginPre(mpage)" [disabled]="mpage == 1">
                                  <i class="fa fa-angle-left" aria-hidden="true"></i>
                                </button>
                                <button class="btn btn-info {{ mpage == p ? 'active' : '' }} {{ p <mpage + 5 && p > mpage - 5 ? '' : 'd-none' }}" 
                                  (click)="pagermargin(p)" *ngFor="let p of mpgn">{{ p }}</button>
                                <button class="btn btn-info" (click)="pagermarginNext(mpage)" [disabled]="mpage == mpgn.length">
                                  <i class="fa fa-angle-right" aria-hidden="true"></i>
                                </button>
                                <button class="btn btn-info" (click)="pagermargin(mpgn.length)" [disabled]="mpage == mpgn.length">
                                  <i class="fa fa-angle-double-right" aria-hidden="true"></i>
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </ngb-tab>
              </ngb-tabset>
            </ng-template>
          </ngb-tab>
        </ngb-tabset>
      </ng-template>
    </ngb-tab> -->

    <ngb-tab id="future" *ngIf="data.isFutures == 1">
      <ng-template ngbTabTitle >
        <h5 class="market-reset" id="futuresTab" style="padding: 8px 10px" (click)="data.checkUserBlockStatus();handleSelectedTab('futures'); callMethodsOnFutureTabLoad();marketTypeNavSeve('future')">FUTURES</h5>
      </ng-template>
      <ng-template ngbTabContent>
        <ngb-tabset justify="fill" #ctdTabset="ngbTabset" class="childTab" [ngClass]="Themecolor == 'Dark' ? 'tab-dark' : 'tab-lightHidden'">
          <ngb-tab id="futureWallet">
            <ng-template ngbTabTitle>
              <h5 class="market-reset" style="padding: 8px 10px" id="futuresWalletTab" (click)="handleSelectedTab('futuresWallet')">
                <!-- WALLET -->
              </h5>
            </ng-template>
            <ng-template ngbTabContent>
              <ngb-tabset justify="fill" class="childTab" [activeId]="futureChild">
                <ngb-tab id="futureWalletIso">
                  <ng-template ngbTabTitle>
                    <h5 class="market-reset" id="futuresWalletIsoTab" (click)="data.checkUserBlockStatus();handleSelectMarginType(1); handleSelectedTab('futuresWalletIso');futureChildNavHist('futuresWalletIso')" style="padding: 8px 10px">
                      ISOLATED
                      <span style="cursor: pointer;margin-left:10px;">
                        <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('isolatedInfo')"></i>
                      </span>
                      <div class="info-section" id="isolatedInfo" style="display: none;margin:auto; top: 10px">
                        <div class="info-header">
                          <div class="info-title">Isolated</div>
                          <div class="info-close">
                            <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('isolatedInfo')"></i>
                          </div>
                        </div>
                        <div class="info-body">
                          <p>Isolated Margin is the margin balance allocated to an individual position. Isolated Margin mode allows traders to manage their risk on their individual positions by restricting the amount of margin allocated to each one. The allocated margin balance for each position can be individually adjusted.</p>
                        </div>
                      </div>

                    </h5>
                  </ng-template>
                  <ng-template ngbTabContent>
                    <div class="row">
                      <!--second parent tab-->
                      <div class="col-6 mt-3">
                        <div class=" p-2 pl-3 pr-3 rounded h-100" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                          <!-- <span class="font-md text-theme-dark-blue">Fiat Holdings</span> -->
                          <span class="font-md " [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                            
                            <span class="text-center" style="display:flex;justify-content:center">
                              Fiat Holdings
                              <span style="cursor: pointer;margin-left:10px;">
                                <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('fiatHoldingInfo')" style="font-size:14px;"></i>
                              </span>
                            </span>
                            
                            <div class="info-section" id="fiatHoldingInfo" style="display: none;margin:auto; top: 10px">
                              <div class="info-header">
                                <div class="info-title" style="font-size: 20px;">Fiat Holdings</div>
                                <div class="info-close">
                                  <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('fiatHoldingInfo')" style="font-size:18px;position:relative;bottom:10px;"></i>
                                </div>
                              </div>
                              <div class="info-body">
                                <p style="font-size: 17px;">You can do margin and funding in your fiat currency from this section.</p>
                              </div>
                            </div>

                          </span>

                          <!-- new -->
                          <ngb-tabset justify="fill" class="normalTab">
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 style="padding: 8px 10px">
                                  SPOT WALLET
                                  <span style="cursor: pointer;margin-left:10px;">
                                    <i class="fa fa-info-circle" aria-hidden="true" (click)="data.checkUserBlockStatus();data.handleInfoSection('spotWalletInfo')"></i>
                                  </span>
                                  <div class="info-section" id="spotWalletInfo" style="display: none;margin:auto; top: 10px;left:36px;">
                                    <div class="info-header">
                                      <div class="info-title" style="font-size: 20px;font-weight: 100;">SPOT WALLET</div>
                                      <div class="info-close">
                                        <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('spotWalletInfo')"  style="font-size:18px;"></i>
                                      </div>
                                    </div>
                                    <div class="info-body">
                                      <p style="font-size: 17px;font-weight: 100;">You can see your fiat balance, do margins, and fund your fiat through SPOT WALLET.</p>
                                    </div>
                                  </div>

                                </h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="row">
                                  <div class="col-12 mt-3 align-self-stretch">
                                    <div class=" p-2 pl-3 pr-3 rounded h-100 customer-report-widget" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                                      <div class="table-responsive-sm">
                                        <table class="table table-sm table-hover">
                                          <thead>
                                            <tr [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                              <th style="width: 25%" class="tablefirstRow" scope="col">Fiat</th>
                                              <th style="width: 25%" scope="col">Amount</th>
                                              <th style="width: 25%" scope="col-2">
                                                Transfer To
                                                <span style="cursor: pointer;margin-left:5px;">
                                                  <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('transferToSpotInfo')"></i>
                                                </span>
                                                <div class="info-section" id="transferToSpotInfo" style="display: none;margin:auto; top: 10px;left:200px;">
                                                  <div class="info-header">
                                                    <div class="info-title">Transfer to SPOT</div>
                                                    <div class="info-close">
                                                      <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('transferToSpotInfo')"></i>
                                                    </div>
                                                  </div>
                                                  <div class="info-body">
                                                    <p>You can transfer your margin wallet balance to the spot wallet through this SPOT button.</p>
                                                  </div>
                                                </div>
                                              </th>
                                            </tr>
                                          </thead>
                                          <tbody>
                                            <tr [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" *ngFor="let b of myBalanceListForFutureSpot">
                                              <td class="tablefirstRow" style="width: 25%">
                                                {{ b.currency }}
                                              </td>
                                              <td style="width: 25%">
                                                {{ b.currentBalance }}
                                              </td>
                                              <td style="width: 25%">
                                                <button style="margin: 0px 6px" class="btn btn-primary btn-sm" (click)="data.checkUserBlockStatus();modalOpen(marginfuture, b.currentBalance, 'usd')" *ngIf="b.isFuturesIsoMargin == 1">
                                                  Margin
                                                </button>

                                                <span style="cursor: pointer;margin-left:2px;margin-right:10px;">
                                                  <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('marginBtnInfo')"></i>
                                                </span>
                                                <div class="info-section" id="marginBtnInfo" style="display: none;margin:auto; top: 10px;left:200px;">
                                                  <div class="info-header">
                                                    <div class="info-title">Margin</div>
                                                    <div class="info-close">
                                                      <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('marginBtnInfo')"></i>
                                                    </div>
                                                  </div>
                                                  <div class="info-body">
                                                    <p>You can transfer your fiat balance to your Margin Wallet through this Margin button.</p>
                                                  </div>
                                                </div>
                                                <button class="btn btn-primary btn-sm" (click)="data.checkUserBlockStatus();modalOpen(fundingfiathfuture, b.currentBalance, 'usd')" *ngIf="b.isFuturesIsoMargin == 1">
                                                  Funding
                                                </button>

                                                <span style="cursor: pointer;margin-left:5px;">
                                                  <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('fundingBtnInfo')"></i>
                                                </span>
                                                <div class="info-section" id="fundingBtnInfo" style="display: none;margin:auto; top: 10px;left:200px;">
                                                  <div class="info-header">
                                                    <div class="info-title">Funding</div>
                                                    <div class="info-close">
                                                      <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('fundingBtnInfo')"></i>
                                                    </div>
                                                  </div>
                                                  <div class="info-body">
                                                    <p>You can transfer your fiat balance to Funding Wallet through this Funding button.</p>
                                                  </div>
                                                </div>
                                              </td>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </ng-template>
                            </ngb-tab>
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 (click)="data.checkUserBlockStatus();faitmarginForFuture()" style="padding: 8px 10px">
                                  MARGIN
                                  <span style="cursor: pointer;margin-left:10px;">
                                    <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('marginWalletInfo')"></i>
                                  </span>
                                  <div class="info-section" id="marginWalletInfo" style="display: none;margin:auto; top: 10px;left:-93px;">
                                    <div class="info-header">
                                      <div class="info-title" style="font-weight:100;">MARGIN WALLET</div>
                                      <div class="info-close">
                                        <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('marginWalletInfo')"  style="font-size:18px;"></i>
                                      </div>
                                    </div>
                                    <div class="info-body">
                                      <p style="font-size: 15px;font-weight: 100;">You can see your margin wallet balance, used balance, and available margin wallet balance. You can transfer your margin wallet balance to your spot wallet through the transfer to SPOT button.</p>
                                    </div>                 
                                  </div>

                                </h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="row">
                                  <div class="col-12 mt-3 align-self-stretch">
                                    <div class="p-2 pl-3 pr-3 rounded h-100 customer-report-widget" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                                      <div class="table-responsive-sm">
                                        <table class="table table-sm table-hover">
                                          <thead>
                                            <tr [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                              <th style="width: 10%" scope="col">Fiat</th>
                                              <th style="width: 30%" scope="col">Margin Wallet Balance</th>
                                              <th style="width: 10%" scope="col">Used Balance</th>
                                              <th style="width: 20%" scope="col">Available Balance</th>
                                              <th style="width: 10%" scope="col">Transfer To</th>
                                            </tr>
                                          </thead>
                                          <tbody>
                                            <tr [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'">
                                              <td style="width: 10%">USD</td>
                                              <td style="width: 30%">
                                                {{ marginWalletBalance }}
                                              </td>
                                              <td style="width: 10%">
                                                {{ usedBalance }}
                                              </td>
                                              <td style="width: 20%">
                                                {{ availableBalance }}
                                              </td>
                                              <td style="width: 10%">
                                                <button
                                                  style="margin: 0px 6px"
                                                  class="btn btn-primary btn-sm"
                                                  (click)="data.checkUserBlockStatus();assetmarginmodal(fiatholdingmargin, marginWalletBalance, fiatCurrencyId, marginWalletid, 'futures')"
                                                  href="javascript:void(0);"
                                                >
                                                  SPOT
                                                </button>
                                              </td>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </ng-template>
                            </ngb-tab>
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 style="padding: 8px 10px">
                                  VIEW MY FUNDINGS
                                  <span style="cursor: pointer;margin-left:10px;">
                                    <i class="fa fa-info-circle" aria-hidden="true" (click)="data.checkUserBlockStatus();data.handleInfoSection('fundingWalletInfo')"></i>
                                  </span>
                                  <div class="info-section" id="fundingWalletInfo" style="display: none;margin:auto; top: 10px;left:-273px;">
                                    <div class="info-header">
                                      <div class="info-title" style="font-weight: 100;font-size: 20px;">Funding</div>
                                      <div class="info-close">
                                        <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('fundingWalletInfo')"></i>
                                      </div>
                                    </div>
                                    <div class="info-body">
                                      <p style="font-weight: 100;font-size: 15px;">You can see your funding here by providing From Date and To Date.</p>
                                    </div>
                                  </div>
                                </h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="tab-pane p-3 tab-1" id="funding" role="tabpanel" aria-labelledby="market-sell-tab">
                                  <!-- <h4>Fiat: USD</h4>
                              <h5>Amount: <span class="font-lg text-green">{{main.fiatBalance|currency}}</span></h5> -->

                                  <div class="row form-group">
                                    <div class="col-sm-3 text-theme-dark-blue">From Date:</div>
                                    <div class="col-sm-6">
                                      <div class="input-group">
                                        <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="dd-mm-yyyy" name="dp" [(ngModel)]="assetfromdate" ngbDatepicker #ds="ngbDatepicker" />
                                        <div class="input-group-append">
                                          <button class="btn btn-secondary" (click)="ds.toggle()" type="button">
                                            <i class="fa fa-calendar" aria-hidden="true"></i>
                                          </button>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="row form-group">
                                    <div class="col-sm-3 text-theme-dark-blue">To Date:</div>
                                    <div class="col-sm-6">
                                      <div class="input-group">
                                        <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="dd-mm-yyyy" name="dp" [(ngModel)]="assettodate" ngbDatepicker #do="ngbDatepicker" />
                                        <div class="input-group-append">
                                          <button class="btn btn-secondary" (click)="do.toggle()" type="button">
                                            <i class="fa fa-calendar" aria-hidden="true"></i>
                                          </button>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <!-- <button  type="submit" class="text-green"  (click)="modalUpFiat(popup); assetfundingmargin(); reset()">Submit</button> -->
                                  <button type="submit" class="text-white btn btn-primary" (click)="data.checkUserBlockStatus();modalUpFiat(fiathmodal); assetfundingmargin(); reset()">Submit</button>
                                </div>
                              </ng-template>
                            </ngb-tab>
                          </ngb-tabset>
                        </div>
                      </div>
                      <div class="col-6 mt-3 align-self-stretch">
                        <div class="p-2 pl-3 pr-3 rounded h-100"[ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'"  >
                          <!-- <span class="font-md text-theme-dark-blue">Asset Holdings</span> -->
                          <span class="font-md text-white">
                            <span class="text-center" style="display: flex;justify-content: center;">
                              Asset Holdings
                              <span style="cursor: pointer;margin-left:10px;">
                                <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('assetHoldingInfo')" style="font-size:15px;"></i>
                              </span>
                              <div class="info-section" id="assetHoldingInfo" style="display: none;margin:auto; top: 10px;left:-47px;">
                                <div class="info-header">
                                  <div class="info-title" style="font-size: 20px;">Asset Holdings</div>
                                  <div class="info-close">
                                    <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('assetHoldingInfo')" style="font-size:18px;position:relative;bottom:10px;"></i>
                                  </div>
                                </div>
                                <div class="info-body">
                                  <p style="font-size: 15px;">You can do margin and funding in your Cryptocurrency from this section.</p>
                                </div>
                              </div>
                            </span>
                          </span>

                          <!-- new -->
                          <ngb-tabset justify="fill" class="normalTab">
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 (click)="reset();data.checkUserBlockStatus();" style="padding: 8px 10px">
                                  SPOT WALLET
                                  <span style="cursor: pointer;margin-left:10px;">
                                    <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('assetSpotInfo')"></i>
                                  </span>
                                  <div class="info-section" id="assetSpotInfo" style="display: none;margin:auto; top: 10px;left:26px;">
                                    <div class="info-header">
                                      <div class="info-title" style="font-weight: 100;">SPOT WALLET</div>
                                      <div class="info-close">
                                        <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('assetSpotInfo')"></i>
                                      </div>
                                    </div>
                                    <div class="info-body">
                                      <p style="font-weight: 100;font-size:15px">You can see your Crypto balance, do margins, and fund your Crypto through SPOT WALLET.</p>
                                    </div>
                                  </div>
                                </h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <!-- <span class="font-lg text-green">
                                $ <ng2-odometer [number]="main.fiatBalance" [config]="{ format: '(,ddd).dddd' }"></ng2-odometer>
                              </span> -->
                                <div class="w-100 mt-2"></div>
                                <div class="table-responsive-sm">
                                  <table class="table table-sm table-hover">
                                    <thead>
                                        <tr [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'" >
                                        <th style="width: 33.33%" class="tablefirstRow" scope="col">Asset</th>
                                        <th style="width: 33.33%" scope="col">Balance</th>
                                        <th style="width: 33.33%" scope="col">Action</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                      <tr [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" class="newRowShade" [hidden]="myBalanceListForFuture">
                                        <td colspan="3" class="text-center">
                                          <img src="./assets/svg-loaders/puff.svg" width="50" alt="" />
                                        </td>
                                      </tr>
                                      <tr  [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" class="newRowShade" *ngFor="let b of myBalanceListForFuture; let i = index">
                                        <td *ngIf="b.currencyType == '2'" class="text-theme-dark-blue tablefirstRow">
                                          {{ b.currency | uppercase }}
                                        </td>
                                        <td *ngIf="b.currencyType == '2'"  class="text-theme-dark-blue">
                                          {{ b.currentBalance }}
                                        </td>
                                        <td *ngIf="b.currencyType == '2'">
                                          <a
                                            class="text-blue"
                                            (click)="data.checkUserBlockStatus();modalOpen(assetmarginfuture, b.currentBalance, b.currency, b.currencyId)"
                                            href="javascript:void(0);"
                                            *ngIf="b.isFuturesCrossMargin == '1'"
                                            style="font-size: 14px;"
                                            >MARGIN</a>
                                            <span  *ngIf="b.isFuturesCrossMargin == '1'">
                                              <span style="cursor: pointer;margin-left:5px;margin-right:10px;">
                                                <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('spotMarginLinkInfo')"></i>
                                              </span>
                                              <div class="info-section" id="spotMarginLinkInfo" style="display: none;margin:auto; top: 130px;left:-96px;">
                                                <div class="info-header">
                                                  <div class="info-title">MARGIN</div>
                                                  <div class="info-close">
                                                    <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('spotMarginLinkInfo')"></i>
                                                  </div>
                                                </div>
                                                <div class="info-body">
                                                  <p>You can transfer your Crypto balance to your Margin Wallet through this Margin link.</p>
                                                </div>
                                              </div>
                                            </span>
                                            
                                          <span *ngIf="b.isFuturesCrossMargin == '0'" style="margin-left: 72px"></span>
                                          <a
                                            class="text-green"
                                            (click)="data.checkUserBlockStatus();modalOpen(assetfundingfuture, b.currentBalance, b.currency, b.currencyId); getmarginval(b.currencyCode)"
                                            href="javascript:void(0);"
                                            *ngIf="b.isFuturesFunding == '1'"
                                            style="font-size: 14px;"
                                            >FUNDING</a>
                                            <span *ngIf="b.isFuturesFunding == '1'">
                                              <span style="cursor: pointer;margin-left:5px;margin-right:10px;">
                                                <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('spotFundingLinkInfo')"></i>
                                              </span>
                                              <div class="info-section" id="spotFundingLinkInfo" style="display: none;margin:auto; top: 130px;left:-96px;">
                                                <div class="info-header">
                                                  <div class="info-title">Funding</div>
                                                  <div class="info-close">
                                                    <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('spotFundingLinkInfo')"></i>
                                                  </div>
                                                </div>
                                                <div class="info-body">
                                                  <p style="font-size:15px;font-weight:100;">You can transfer your Crypto balance to your Funding Wallet through this Funding link.</p>
                                                </div>
                                              </div>
                                            </span>
                                            
                                          <span *ngIf="b.isFuturesFunding == '0'"></span>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>
                              </ng-template>
                            </ngb-tab>
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 (click)="reset();data.checkUserBlockStatus();" style="padding: 8px 10px">
                                  MARGIN
                                  <span style="cursor: pointer;margin-left:10px;">
                                    <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('assetholdingMarginInfo')"></i>
                                  </span>
                                  <div class="info-section" id="assetholdingMarginInfo" style="display: none;margin:auto; top: 10px;left:-154px;">
                                    <div class="info-header">
                                      <div class="info-title" style="font-weight: 100;">Margin</div>
                                      <div class="info-close">
                                        <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('assetholdingMarginInfo')"></i>
                                      </div>
                                    </div>
                                    <div class="info-body">
                                      <p style="font-weight: 100;">You can see your margin wallet balance, used balance, and available margin wallet balance. You can transfer your margin wallet balance to your spot wallet through the transfer to SPOT button.</p>
                                    </div>
                                  </div>
                                </h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="row">
                                  <div class="col-md-3">
                                    <h6 class="text-theme-dark-blue">Asset :</h6>
                                  </div>
                                  <div class="col-md-6">
                                    <select class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" (change)="somethingChangedForFuture($event.target.value); reset()">
                                      <option hidden value="marginholding" disabled>Select Currency</option>
                                      <option *ngFor="let items of fundingHomeViewIsoForFuture" [value]="items.CURRENCY_NAME">
                                        <div *ngIf="items.CURRENCYNAME != 'BCC'">
                                          <option>
                                            {{ items.CURRENCY_NAME }}
                                          </option>
                                        </div>
                                        <div *ngIf="items.CURRENCY_NAME == 'BCC'">
                                          <option>BCH</option>
                                        </div>
                                      </option>
                                    </select>
                                  </div>
                                </div>
                                <br /><br />
                                <div class="row">
                                  <div class="col-md-9" [(ngModel)]="assetBalance">
                                    <h6 class="text-theme-dark-blue">
                                      Margin Wallet Balance:
                                      <span class="font-md text-green">{{ marginWalletBalance1 }}</span>
                                    </h6>
                                    <h6 class="text-theme-dark-blue">
                                      Used Balance:
                                      <span class="font-md text-green">{{ usedBalance1 }}</span>
                                    </h6>
                                    <h6 class="text-theme-dark-blue">
                                      Available Balance:
                                      <span class="font-md text-green">{{ availableBalance1 }}</span>
                                    </h6>
                                    <td>
                                      <span class="text-theme-dark-blue">Transfer To : </span>
                                      <button
                                        class="btn btn-primary btn-sm"
                                        (click)="data.checkUserBlockStatus();cryptoholdingmargin(cryptomargin, cryptoCurrency1, marginWalletBalance1, currencyId1, marginwalletId1)"
                                        href="javascript:void(0);"
                                      >
                                        SPOT
                                      </button>
                                      <span style="cursor: pointer;margin-left:10px;">
                                        <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('marginTransfertospotInfo')"></i>
                                      </span>
                                      <div class="info-section" id="marginTransfertospotInfo" style="display: none;margin:auto; top:-137px;left:35px;">
                                        <div class="info-header">
                                          <div class="info-title">TRANSFER TO SPOT</div>
                                          <div class="info-close">
                                            <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('marginTransfertospotInfo')"></i>
                                          </div>
                                        </div>
                                        <div class="info-body">
                                          <p>You can transfer your margin wallet balance to the spot wallet through this SPOT button.</p>
                                        </div>
                                      </div>
                                    </td>
                                  </div>
                                </div>
                              </ng-template>
                            </ngb-tab>
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 (click)="data.checkUserBlockStatus();reset()" style="padding: 8px 10px">
                                  VIEW MY FUNDINGS
                                  <span style="cursor: pointer;margin-left:10px;">
                                    <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('assetholdingFundingInfo')"></i>
                                  </span>
                                  <div class="info-section" id="assetholdingFundingInfo" style="display: none;margin:auto; top: 10px;left:-281px;">
                                    <div class="info-header">
                                      <div class="info-title" style="font-size: 20px;font-weight: 100;">VIEW MY FUNDINGS</div>
                                      <div class="info-close">
                                        <i class="fa fa-times" aria-hidden="true" (click)="data.checkUserBlockStatus();data.handleInfoSection('assetholdingFundingInfo')"></i>
                                      </div>
                                    </div>
                                    <div class="info-body">
                                      <p style="font-size: 17px;font-weight: 100;">You can see your Fundings here by selecting currency and providing From Date and To Date.</p>
                                    </div>
                                  </div>
                                </h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="row form-group">
                                  <label class="control-label col-sm-2 text-theme-dark-blue" for="email">Asset Provided:</label>
                                  <div class="col-sm-4">
                                    <select class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" [(ngModel)]="arrayy">
                                      <option hidden value="assetcurrency" disabled>Select Currency</option>
                                      <!-- <option>Select</option> -->
                                      <option *ngFor="let item of fundingHomeViewFundingForFuture" [value]="item.CURRENCYID">
                                        <div *ngIf="item.CURRENCY_NAME != 'BCC'">
                                          <option>{{ item.CURRENCY_NAME }}</option>
                                        </div>
                                        <div *ngIf="item.CURRENCY_NAME == 'BCC'">
                                          <option>BCH</option>
                                        </div>
                                      </option>
                                    </select>
                                  </div>
                                  <!--<label class="control-label col-sm-2 text-theme-dark-blue" for="email">Base Currency:</label>
                 <div class="col-sm-4">
                  <input type="text" class="form-control" ng-model="base" placeholder="USD" disabled>
                </div> -->
                                </div>
                                <div class="row form-group">
                                  <div class="col-sm-3 text-theme-dark-blue">From Date:</div>
                                  <div class="col-sm-6">
                                    <div class="input-group">
                                      <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="dd-mm-yyyy" name="dp" [(ngModel)]="modelabc" ngbDatepicker #ds="ngbDatepicker" />
                                      <div class="input-group-append">
                                        <button class="btn btn-secondary" (click)="ds.toggle()" type="button">
                                          <i class="fa fa-calendar" aria-hidden="true"></i>
                                        </button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="row form-group">
                                  <div class="col-sm-3 text-theme-dark-blue">To Date:</div>
                                  <div class="col-sm-6">
                                    <div class="input-group">
                                      <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="dd-mm-yyyy" name="dp" [(ngModel)]="modeldate" ngbDatepicker #do="ngbDatepicker" />
                                      <div class="input-group-append">
                                        <button class="btn btn-secondary" (click)="do.toggle()" type="button">
                                          <i class="fa fa-calendar" aria-hidden="true"></i>
                                        </button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <button type="submit" class="text-white btn btn-primary" (click)="data.checkUserBlockStatus();modalUp(popup); findingViewForInputServiseForFuture(); reset()">Submit</button>
                              </ng-template>
                            </ngb-tab>
                          </ngb-tabset>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </ngb-tab>
                <ngb-tab id="futureWalletCross">
                  <ng-template ngbTabTitle>
                    <h5 class="market-reset" id="futuresWalletCrossTab" (click)="data.checkUserBlockStatus();handleSelectMarginType(2); handleSelectedTab('futuresWalletCross');futureChildNavHist('futureWalletCross')" style="padding: 8px 10px">
                      CROSS
                      <span style="cursor: pointer;margin-left:10px;">
                        <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('crossInfo')"></i>
                      </span>
                      <div class="info-section" id="crossInfo" style="display: none;margin:auto; top: 10px">
                        <div class="info-header">
                          <div class="info-title">Cross</div>
                          <div class="info-close">
                            <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('crossInfo')"></i>
                          </div>
                        </div>
                        <div class="info-body">
                          <p>Cross Wallet is a crypto wallet built to hold multiple blockchain cryptocurrencies in one wallet.</p>
                        </div>
                      </div>
                    </h5>
                  </ng-template>
                  <ng-template ngbTabContent>
                    <div class="row">
                      <!--second parent tab-->
                      <div class="col-6 mt-3">
                        <div class="p-2 pl-3 pr-3 rounded h-100" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                          <!-- <span class="font-md text-theme-dark-blue">Fiat Holdings</span> -->
                          <span class="font-md " [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                            <span class="text-center" style="display:flex;justify-content:center">
                              Fiat Holdings
                              <span style="cursor: pointer;margin-left:10px;">
                                <i class="fa fa-info-circle" aria-hidden="true" (click)="data.checkUserBlockStatus();data.handleInfoSection('fiatCrossHoldingInfo')" style="font-size:15px;"></i>
                              </span>
                            </span>
                            <div class="info-section" id="fiatCrossHoldingInfo" style="display: none;margin:auto; top: 10px">
                              <div class="info-header">
                                <div class="info-title">Fiat Holdings</div>
                                <div class="info-close">
                                  <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('fiatCrossHoldingInfo')"></i>
                                </div>
                              </div>
                              <div class="info-body">
                                <p>You can do margin and funding in your fiat currency from this section.</p>
                              </div>
                            </div>

                          </span>

                          <!-- new -->
                          <ngb-tabset justify="fill" class="normalTab">
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 style="padding: 8px 10px">
                                  SPOT WALLET
                                  <span style="cursor: pointer;margin-left:10px;">
                                    <i class="fa fa-info-circle" aria-hidden="true" (click)="data.checkUserBlockStatus();data.handleInfoSection('spotCrossWalletInfo')"></i>
                                  </span>
                                  <div class="info-section" id="spotCrossWalletInfo" style="display: none;margin:auto; top: 10px;left:720px;">
                                    <div class="info-header">
                                      <div class="info-title" style="font-weight: 100;">SPOT WALLET</div>
                                      <div class="info-close">
                                        <i class="fa fa-times" aria-hidden="true" (click)="data.checkUserBlockStatus();data.handleInfoSection('spotCrossWalletInfo')"></i>
                                      </div>
                                    </div>
                                    <div class="info-body">
                                      <p style="font-size: 15px;font-weight: 100;">You can see your fiat balance, do margins, and fund your fiat through SPOT WALLET.</p>
                                    </div>
                                  </div>
                                </h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="row">
                                  <div class="col-12 mt-3 align-self-stretch">
                                    <div class="p-2 pl-3 pr-3 rounded h-100 customer-report-widget" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                                      <div class="table-responsive-sm">
                                        <table class="table table-sm table-hover">
                                          <thead>
                                            <tr [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                              <th style="width: 25%" class="tablefirstRow" scope="col">Fiat</th>
                                              <th style="width: 25%" scope="col">Amount</th>
                                              <th style="width: 25%" scope="col-2">
                                                Transfer To
                                                <span style="cursor: pointer;margin-left:5px;">
                                                  <i class="fa fa-info-circle" aria-hidden="true" (click)="data.checkUserBlockStatus();data.handleInfoSection('transferToSpotInfo')"></i>
                                                </span>
                                                <div class="info-section" id="transferToSpotInfo" style="display: none;margin:auto; top: 10px;left:200px;">
                                                  <div class="info-header">
                                                    <div class="info-title">Transfer to SPOT</div>
                                                    <div class="info-close">
                                                      <i class="fa fa-times" aria-hidden="true" (click)="data.checkUserBlockStatus();data.handleInfoSection('transferToSpotInfo')"></i>
                                                    </div>
                                                  </div>
                                                  <div class="info-body">
                                                    <p>You can transfer your margin wallet balance to the spot wallet through this SPOT button.</p>
                                                  </div>
                                                </div>
                                              </th>
                                            </tr>
                                          </thead>
                                          <tbody>
                                            <tr [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" *ngFor="let b of myBalanceListForFutureSpot">
                                              <td class="tablefirstRow" style="width: 25%">
                                                {{ b.currency }}
                                              </td>
                                              <td style="width: 25%">
                                                {{ b.currentBalance }}
                                              </td>
                                              <td style="width: 25%">
                                                <button style="margin: 0px 6px" class="btn btn-primary btn-sm" (click)="data.checkUserBlockStatus();modalOpen(marginfuture, b.currentBalance, 'usd')" *ngIf="b.isFuturesIsoMargin == 1">
                                                  Margin
                                                </button>
                                                <span style="cursor: pointer;margin-left:2px;margin-right:10px;">
                                                  <i class="fa fa-info-circle" aria-hidden="true" (click)="data.checkUserBlockStatus();data.handleInfoSection('marginBtnInfo')"></i>
                                                </span>
                                                <div class="info-section" id="marginBtnInfo" style="display: none;margin:auto; top: 10px;left:200px;">
                                                  <div class="info-header">
                                                    <div class="info-title">Margin</div>
                                                    <div class="info-close">
                                                      <i class="fa fa-times" aria-hidden="true" (click)="data.checkUserBlockStatus();data.handleInfoSection('marginBtnInfo')"></i>
                                                    </div>
                                                  </div>
                                                  <div class="info-body">
                                                    <p>You can transfer your fiat balance to your Margin Wallet through this Margin button.</p>
                                                  </div>
                                                </div>
                                                <button class="btn btn-primary btn-sm" (click)="data.checkUserBlockStatus();modalOpen(fundingfiathfuture, b.currentBalance, 'usd')" *ngIf="b.isFuturesIsoMargin == 1">
                                                  Funding
                                                </button>
                                                <span style="cursor: pointer;margin-left:5px;">
                                                  <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('fundingBtnInfo')"></i>
                                                </span>
                                                <div class="info-section" id="fundingBtnInfo" style="display: none;margin:auto; top: 10px;left:200px;">
                                                  <div class="info-header">
                                                    <div class="info-title">Funding</div>
                                                    <div class="info-close">
                                                      <i class="fa fa-times" aria-hidden="true" (click)="data.checkUserBlockStatus();data.handleInfoSection('fundingBtnInfo')"></i>
                                                    </div>
                                                  </div>
                                                  <div class="info-body">
                                                    <p>You can transfer your fiat balance to Funding Wallet through this Funding button.</p>
                                                  </div>
                                                </div>
                                              </td>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </ng-template>
                            </ngb-tab>
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 (click)="faitmarginForFuture()" style="padding: 8px 10px">
                                  MARGIN
                                  <span style="cursor: pointer;margin-left:10px;">
                                    <i class="fa fa-info-circle" aria-hidden="true" (click)="data.checkUserBlockStatus();data.handleInfoSection('marginWalletInfo')"></i>
                                  </span>
                                  <div class="info-section" id="marginWalletInfo" style="display: none;margin:auto; top: 10px;left:200px;">
                                    <div class="info-header">
                                      <div class="info-title">MARGIN WALLET</div>
                                      <div class="info-close">
                                        <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('marginWalletInfo')"></i>
                                      </div>
                                    </div>
                                    <div class="info-body">
                                      <p>You can see your margin wallet balance, used balance, and available margin wallet balance. You can transfer your margin wallet balance to your spot wallet through the transfer to SPOT button</p>
                                    </div>
                                  </div>
                                </h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="row">
                                  <div class="col-12 mt-3 align-self-stretch">
                                    <div class="p-2 pl-3 pr-3 rounded h-100 customer-report-widget" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                                      <div class="table-responsive-sm">
                                        <table class="table table-sm table-hover">
                                          <thead>
                                            <tr [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                              <th style="width: 10%" scope="col">Fiat</th>
                                              <th style="width: 30%" scope="col">Margin Wallet Balance</th>
                                              <th style="width: 10%" scope="col">Used Balance</th>
                                              <th style="width: 20%" scope="col">Available Balance</th>
                                              <th style="width: 10%" scope="col">Transfer To</th>
                                            </tr>
                                          </thead>
                                          <tbody>
                                            <tr [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'">
                                              <td style="width: 10%">USD</td>
                                              <td style="width: 30%">
                                                {{ marginWalletBalance }}
                                              </td>
                                              <td style="width: 10%">
                                                {{ usedBalance }}
                                              </td>
                                              <td style="width: 20%">
                                                {{ availableBalance }}
                                              </td>
                                              <td style="width: 10%">
                                                <button
                                                  style="margin: 0px 6px"
                                                  class="btn btn-primary btn-sm"
                                                  (click)="data.checkUserBlockStatus();assetmarginmodal(fiatholdingmargin, marginWalletBalance, fiatCurrencyId, marginWalletid, 'futures')"
                                                  href="javascript:void(0);"
                                                >
                                                  SPOT
                                                </button>
                                                    
                                              </td>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </ng-template>
                            </ngb-tab>
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 style="padding: 8px 10px">
                                  VIEW MY FUNDINGS
                                  <span style="cursor: pointer;margin-left:10px;">
                                    <i class="fa fa-info-circle" aria-hidden="true" (click)="data.checkUserBlockStatus();data.handleInfoSection('fundingWalletInfo')"></i>
                                  </span>
                                  <div class="info-section" id="fundingWalletInfo" style="display: none;margin:auto; top: 10px;left:200px;">
                                    <div class="info-header">
                                      <div class="info-title">Funding</div>
                                      <div class="info-close">
                                        <i class="fa fa-times" aria-hidden="true" (click)="data.checkUserBlockStatus();data.handleInfoSection('fundingWalletInfo')"></i>
                                      </div>
                                    </div>
                                    <div class="info-body">
                                      <p>You can see your funding here by providing From Date and To Date.</p>
                                    </div>
                                  </div>
                                </h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="tab-pane p-3 tab-1" id="funding" role="tabpanel" aria-labelledby="market-sell-tab">
                                  <!-- <h4>Fiat: USD</h4>
                        <h5>Amount: <span class="font-lg text-green">{{main.fiatBalance|currency}}</span></h5> -->

                                  <div class="row form-group">
                                    <div class="col-sm-3 text-theme-dark-blue">From Date:</div>
                                    <div class="col-sm-6">
                                      <div class="input-group">
                                        <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="dd-mm-yyyy" name="dp" [(ngModel)]="assetfromdate" ngbDatepicker #ds="ngbDatepicker" />
                                        <div class="input-group-append">
                                          <button class="btn btn-secondary" (click)="ds.toggle()" type="button">
                                            <i class="fa fa-calendar" aria-hidden="true"></i>
                                          </button>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="row form-group">
                                    <div class="col-sm-3 text-theme-dark-blue">To Date:</div>
                                    <div class="col-sm-6">
                                      <div class="input-group">
                                        <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="dd-mm-yyyy" name="dp" [(ngModel)]="assettodate" ngbDatepicker #do="ngbDatepicker" />
                                        <div class="input-group-append">
                                          <button class="btn btn-secondary" (click)="do.toggle()" type="button">
                                            <i class="fa fa-calendar" aria-hidden="true"></i>
                                          </button>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <!-- <button  type="submit" class="text-green"  (click)="modalUpFiat(popup); assetfundingmargin(); reset()">Submit</button> -->
                                  <button type="submit" class="text-white btn btn-primary" (click)="data.checkUserBlockStatus();modalUpFiat(fiathmodal); assetfundingmargin(); reset()">Submit</button>
                                </div>
                              </ng-template>
                            </ngb-tab>
                          </ngb-tabset>
                        </div>
                      </div>



                      <div class="col-6 mt-3 align-self-stretch">
                        <div class="p-2 pl-3 pr-3 rounded h-100" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                          <!-- <span class="font-md text-theme-dark-blue">Asset Holdings</span> -->
                          <span class="font-md " [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                            <span class="text-center" style="display:flex;justify-content:center">
                              Asset Holdings
                              <span style="cursor: pointer;margin-left:10px;">
                                <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('crossAssetHoldingInfo')" style="font-size:15px;"></i>
                              </span>
                            </span>

                            <div class="info-section" id="crossAssetHoldingInfo" style="display: none;margin:auto; top: 10px">
                              <div class="info-header">
                                <div class="info-title" style="font-weight: 100;font-size:20px;">Asset Holdings</div>
                                <div class="info-close">
                                  <i class="fa fa-times" aria-hidden="true" (click)="data.checkUserBlockStatus();data.handleInfoSection('crossAssetHoldingInfo')"></i>
                                </div>
                              </div>
                              <div class="info-body">
                                <p style="font-size: 15px;">You can do margin and funding in your Cryptocurrency from this section.</p>
                              </div>
                            </div>
                          </span>

                          <!-- new -->
                          <ngb-tabset justify="fill" class="normalTab">
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 (click)="data.checkUserBlockStatus();reset()" style="padding: 8px 10px">
                                  SPOT WALLET
                                  <span style="cursor: pointer;margin-left:10px;">
                                    <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('spotCrossWalletInfo')"></i>
                                  </span>
                                  <div class="info-section" id="spotCrossWalletInfo" style="display: none;margin:auto; top: 10px;left:200px;">
                                    <div class="info-header">
                                      <div class="info-title">SPOT WALLET</div>
                                      <div class="info-close">
                                        <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('spotCrossWalletInfo')"></i>
                                      </div>
                                    </div>
                                    <div class="info-body">
                                      <p>You can see your fiat balance, do margins, and fund your fiat through SPOT WALLET.</p>
                                    </div>
                                  </div>
                                </h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <!-- <span class="font-lg text-green">
                          $ <ng2-odometer [number]="main.fiatBalance" [config]="{ format: '(,ddd).dddd' }"></ng2-odometer>
                        </span> -->
                                <div class="w-100 mt-2"></div>
                                <div class="table-responsive-sm">
                                  <table class="table table-sm table-hover">
                                    <thead>
                                      <tr [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                        <th style="width: 33.33%" class="tablefirstRow" scope="col">Asset</th>
                                        <th style="width: 33.33%" scope="col">Balance</th>
                                        <th style="width: 33.33%" scope="col">Action</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                      <tr [hidden]="myBalanceListForFuture">
                                        <td colspan="3" class="text-center">
                                          <img src="./assets/svg-loaders/puff.svg" width="50" alt="" />
                                        </td>
                                      </tr>
                                      <tr class="newRowShade" [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" *ngFor="let b of myBalanceListForFuture; let i = index">
                                        <td *ngIf="b.currencyType == '2'" class="text-theme-dark-blue tablefirstRow">
                                          {{ b.currency | uppercase }}
                                        </td>
                                        <td *ngIf="b.currencyType == '2'" class="text-theme-dark-blue">
                                          {{ b.currentBalance }}
                                        </td>
                                        <td *ngIf="b.currencyType == '2'" >
                                          <a
                                            class="text-blue"
                                            (click)="data.checkUserBlockStatus();modalOpen(assetmarginfuture, b.currentBalance, b.currency, b.currencyId)"
                                            href="javascript:void(0);"
                                            *ngIf="b.isFuturesCrossMargin == '1'"
                                            style="font-size: 14px;"
                                            >MARGIN</a>

                                            <span  *ngIf="b.isFuturesCrossMargin == '1'">
                                              <span style="cursor: pointer;margin-left:5px;margin-right:10px;">
                                                <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('spotMarginLinkInfo')"></i>
                                              </span>
                                              <div class="info-section" id="spotMarginLinkInfo" style="display: none;margin:auto; top: 130px;left:-96px;">
                                                <div class="info-header">
                                                  <div class="info-title">MARGIN</div>
                                                  <div class="info-close">
                                                    <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('spotMarginLinkInfo')"></i>
                                                  </div>
                                                </div>
                                                <div class="info-body">
                                                  <p>You can transfer your Crypto balance to your Margin Wallet through this Margin link.</p>
                                                </div>
                                              </div>
                                            </span>

                                          <span *ngIf="b.isFuturesCrossMargin == '0'" style="margin-left: 72px"></span>
                                          <a
                                            class="text-green"
                                            (click)="data.checkUserBlockStatus();modalOpen(assetfundingfuture, b.currentBalance, b.currency, b.currencyId); getmarginval(b.currencyCode)"
                                            href="javascript:void(0);"
                                            *ngIf="b.isFuturesFunding == '1'"
                                            style="font-size: 14px;"
                                            >FUNDING</a>

                                            <span *ngIf="b.isFuturesFunding == '1'">
                                              <span style="cursor: pointer;margin-left:5px;margin-right:10px;">
                                                <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('spotFundingLinkInfo')"></i>
                                              </span>
                                              <div class="info-section" id="spotFundingLinkInfo" style="display: none;margin:auto; top: 130px;left:-96px;">
                                                <div class="info-header">
                                                  <div class="info-title">Funding</div>
                                                  <div class="info-close">
                                                    <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('spotFundingLinkInfo')"></i>
                                                  </div>
                                                </div>
                                                <div class="info-body">
                                                  <p>You can transfer your Crypto balance to your Funding Wallet through this Funding link.</p>
                                                </div>
                                              </div>
                                            </span>

                                          <span *ngIf="b.isFuturesFunding == '0'"></span>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>
                              </ng-template>
                            </ngb-tab>
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 (click)="reset()" style="padding: 8px 10px">
                                  MARGIN
                                  <span style="cursor: pointer;margin-left:10px;">
                                    <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('marginCrossWalletInfo')"></i>
                                  </span>
                                  <div class="info-section" id="marginCrossWalletInfo" style="display: none;margin:auto; top: 10px;">
                                    <div class="info-header">
                                      <div class="info-title" style="font-size:20px;font-weight:100;">MARGIN WALLET</div>
                                      <div class="info-close">
                                        <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('marginCrossWalletInfo')"></i>
                                      </div>
                                    </div>
                                    <div class="info-body">
                                      <p style="font-weight:100;font-size:15px;">You can see your margin wallet balance, used balance, and available margin wallet balance. You can transfer your margin wallet balance to your spot wallet through the transfer to SPOT button</p>
                                    </div>
                                  </div>
                                </h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="row">
                                  <div class="col-md-3">
                                    <h6 class="text-theme-dark-blue">Asset :</h6>
                                  </div>
                                  <div class="col-md-6">
                                    <select class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" (change)="somethingChangedForFuture($event.target.value); reset()">
                                      <option hidden value="marginholding" disabled>Select Currency</option>
                                      <option *ngFor="let items of fundingHomeViewCrossForFuture" [value]="items.CURRENCY_NAME">
                                        <div *ngIf="items.CURRENCY_NAME != 'BCC'">
                                          <option>
                                            {{ items.CURRENCY_NAME }}
                                          </option>
                                        </div>
                                        <div *ngIf="items.CURRENCY_NAME == 'BCC'">
                                          <option>BCH</option>
                                        </div>
                                      </option>
                                    </select>
                                  </div>
                                </div>
                                <br /><br />
                                <div class="row">
                                  <div class="col-md-9" [(ngModel)]="assetBalance">
                                    <h6 class="text-theme-dark-blue">
                                      Margin Wallet Balance:
                                      <span class="font-md text-green">{{ marginWalletBalance1 }}</span>
                                    </h6>
                                    <h6 class="text-theme-dark-blue">
                                      Used Balance:
                                      <span class="font-md text-green">{{ usedBalance1 }}</span>
                                    </h6>
                                    <h6 class="text-theme-dark-blue">
                                      Available Balance:
                                      <span class="font-md text-green">{{ availableBalance1 }}</span>
                                    </h6>
                                    <td>
                                      <span class="text-theme-dark-blue">Transfer To : </span>
                                      <button
                                        class="btn btn-primary btn-sm"
                                        (click)="data.checkUserBlockStatus();cryptoholdingmargin(cryptomargin, cryptoCurrency1, marginWalletBalance1, currencyId1, marginwalletId1)"
                                        href="javascript:void(0);"
                                      >
                                        SPOT
                                      </button>
                                        <span style="cursor: pointer;margin-left:10px;">
                                          <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('marginTransfertospotInfo')"></i>
                                        </span>
                                        <div class="info-section" id="marginTransfertospotInfo" style="display: none;margin:auto; top:-137px;left:35px;">
                                          <div class="info-header">
                                            <div class="info-title">TRANSFER TO SPOT</div>
                                            <div class="info-close">
                                              <i class="fa fa-times" aria-hidden="true" (click)="data.checkUserBlockStatus();data.handleInfoSection('marginTransfertospotInfo')"></i>
                                            </div>
                                          </div>
                                          <div class="info-body">
                                            <p>You can transfer your margin wallet balance to the spot wallet through this SPOT button.</p>
                                          </div>
                                        </div>
                                    </td>
                                  </div>
                                </div>
                              </ng-template>
                            </ngb-tab>
                            <ngb-tab>
                              <ng-template ngbTabTitle>
                                <h5 (click)="reset()" style="padding: 8px 10px">
                                  VIEW MY FUNDINGS
                                  <span style="cursor: pointer;margin-left:10px;">
                                    <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('fundingCrossWalletInfo')"></i>
                                  </span>
                                  <div class="info-section" id="fundingCrossWalletInfo" style="display: none;margin:auto; top: 10px;left:-378px;">
                                    <div class="info-header">
                                      <div class="info-title">Funding</div>
                                      <div class="info-close">
                                        <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('fundingCrossWalletInfo')"></i>
                                      </div>
                                    </div>
                                    <div class="info-body">
                                      <p>You can see your funding here by providing From Date and To Date.</p>
                                    </div>
                                  </div>
                                </h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="row form-group">
                                  <label class="control-label col-sm-2 text-theme-dark-blue" for="email">Asset Provided:</label>
                                  <div class="col-sm-4">
                                    <select class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" [(ngModel)]="arrayy">
                                      <option hidden value="assetcurrency" disabled>Select Currency</option>
                                      <!-- <option>Select</option> -->
                                      <option *ngFor="let item of fundingHomeViewFundingForFuture" [value]="item.CURRENCYID">
                                        <div *ngIf="item.CURRENCY_NAME != 'BCC'">
                                          <!-- <option>{{ item.ASSET_PAIR }}</option> -->
                                          <option>{{ item.CURRENCY_NAME }}</option>

                                        </div>
                                        <div *ngIf="item.CURRENCY_NAME == 'BCC'">
                                          <option>BCH</option>
                                        </div>
                                      </option>
                                    </select>
                                  </div>
                                  <!-- <label class="control-label col-sm-2 text-theme-dark-blue" for="email">Base Currency:</label>
          <div class="col-sm-4">
            <input type="text" class="form-control" ng-model="base" placeholder="USD" disabled>
          </div> -->
                                </div>
                                <div class="row form-group">
                                  <div class="col-sm-3 text-theme-dark-blue">From Date:</div>
                                  <div class="col-sm-6">
                                    <div class="input-group">
                                      <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="dd-mm-yyyy" name="dp" [(ngModel)]="modelabc" ngbDatepicker #ds="ngbDatepicker" />
                                      <div class="input-group-append">
                                        <button class="btn btn-secondary" (click)="ds.toggle()" type="button">
                                          <i class="fa fa-calendar" aria-hidden="true"></i>
                                        </button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="row form-group">
                                  <div class="col-sm-3 text-theme-dark-blue">To Date:</div>
                                  <div class="col-sm-6">
                                    <div class="input-group">
                                      <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="dd-mm-yyyy" name="dp" [(ngModel)]="modeldate" ngbDatepicker #do="ngbDatepicker" />
                                      <div class="input-group-append">
                                        <button class="btn btn-secondary" (click)="do.toggle()" type="button">
                                          <i class="fa fa-calendar" aria-hidden="true"></i>
                                        </button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <button type="submit" class="text-white btn btn-primary" (click)="data.checkUserBlockStatus();modalUp(popup); findingViewForInputServiseForFuture(); reset()">Submit</button>
                              </ng-template>
                            </ngb-tab>
                          </ngb-tabset>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </ngb-tab>
              </ngb-tabset>
            </ng-template>
          </ngb-tab>
        </ngb-tabset>

        <div class="row" style="margin-top: 20px">
          <span style="display: table; margin: 0 auto;" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
            <h2>
              Portfolio
              <span style="cursor: pointer;margin-left:5px;margin-right:10px;">
                <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('portfolioInfo')" style="font-size: 17px;"></i>
              </span>
              <div class="info-section" id="portfolioInfo" style="display: none;margin:auto; top:601px;left:-96px;">
                <div class="info-header">
                  <div class="info-title">Portfolio</div>
                  <div class="info-close">
                    <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('portfolioInfo')" style="position: relative;top:-13px;font-size:21px;"></i>
                  </div>
                </div>
                <div class="info-body">
                  <p style="font-size: 13px;">You can see your balances on a contract basis (Perpetual, Quarterly).</p>
                </div>
              </div>
            </h2>
          </span>
          <span style="cursor: pointer;margin-left:10px;">
            <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('portfolioInfo')" style="font-size:17px;"></i>
          </span>
            <div class="info-section" id="portfolioInfo" style="display: none;margin:auto; top: 10px;left:-154px;">
              <div class="info-header">
                <div class="info-title">PORTFOLIO</div>
                <div class="info-close">
                  <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('portfolioInfo')"></i>
                </div>
              </div>
              <div class="info-body">
                <p>YoYou can see your balances on a contract basis (Perpetual, Quarterly).</p>
              </div>
            </div> 
        </div>
        <br />

        <ngb-tabset justify="fill" #ctdTabset="ngbTabset">
          <ngb-tab id="perpetual">
            <ng-template ngbTabTitle>
              <h5
                class="market-reset"
                id="futuresPerpetualTab"
                (click)="autoToggleFinalTabForFuture('perpetual'); handleContractTypeSelection(contractName1Id); handleSelectedTab('futuresPerpetual')"
                style="padding: 8px 10px"
              >
                {{ contractName1 }}
              </h5>
            </ng-template>
            <ng-template ngbTabContent>
              <ngb-tabset justify="fill" class="childTab" [ngClass]="Themecolor == 'Dark' ? 'tab-dark' : 'tab-lightHidden'" [activeId]="finalActiveTabSetForFuture">
                <ngb-tab id="perpetualPortfolio">
                  <ng-template ngbTabTitle>
                    <!-- <h5 class="market-reset" (click)="handleSelectTabForFuture('portfolio')" style="padding: 8px 10px">
              PORTFOLIO
            </h5> -->
                  </ng-template>
                  <ng-template ngbTabContent>
                    <div class="row">
                      <div class="col-md-6">
                        <button
                          type="button"
                          class="btn btn-outline-secondary col-md-5 ml-2"
                          (click)="handleMarginTypeForFuturePortfolio('1')"
                          [ngStyle]="{
                            background: selectedMarginType == '1' ? '#007bff' : '#131416'
                          }"
                        >
                          <i class="fa fa-check-circle" aria-hidden="true" *ngIf="selectedMarginType == 1"></i>
                          Isolated
                        </button>
                        <button
                          type="button"
                          class="btn btn-outline-secondary col-md-5 ml-2"
                          (click)="handleMarginTypeForFuturePortfolio('2')"
                          [ngStyle]="{
                            background: selectedMarginType == '2' ? '#007bff' : '#131416'
                          }"
                        >
                          <i class="fa fa-check-circle" aria-hidden="true" *ngIf="selectedMarginType == 2"></i>
                          Cross
                        </button>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-12 mt-3 align-self-stretch">
                        <div class=" p-2 pl-3 pr-3 rounded h-100" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'"
                        >
                          <span class="font-lg text-green"> </span>
                          <div class="w-100 mt-2"></div>
                          <div class="table-responsive-sm">
                            <table class="table table-sm table-hover">
                              <thead>
                                <tr [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'"
                                >
                                  <th scope="col">Contract Name</th>
                                  <th scope="col">Balance</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr class="newRowShade" [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" *ngFor="let p of portfolioBalanceForFuturePerpetual; let i = index">
                                  <td style="width: 50%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.assetPair }}
                                  </td>
                                  <td style="width: 50%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.amount }}
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                      <div class="col-12 mt-3 align-self-stretch">
                        <div class="p-2 pl-3 pr-3 rounded h-100 customer-report-widget" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                          <div class="table-responsive-sm">
                            <table class="table table-sm table-hover">
                              <thead>
                                <tr [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'" >
                                  <th scope="col" *ngFor="let h of portfolioHeadersForFuture">
                                    <span *ngIf="h != 'FULL NAME'">{{ h }}</span>
                                  </th>
                                  <th>Action</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr class="newRowShade" [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" *ngFor="let p of portfolioValueForFutureContract1">
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.mpTransactionId }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.transactionDate }}
                                  </td>
                                  <!--  <td style="width:12.25%;padding: 10px 0;border-bottom: 1px solid #ddd;" class="text-theme-dark-blue">
                              {{p.fullName}}</td> -->
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.currencyName }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.baseCurrency }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.amount }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.price }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.portfolioType }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.assetPair }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.leverage }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" *ngIf="p.transactionType == 2">
                                    <button
                                      [id]="'btn' + p.mpTransactionId"
                                      class="btn btn-primary text-{{ p.transactionType == '2' ? 'spark-green' : 'danger' }}"
                                      (click)="data.checkUserBlockStatus();modalbuyForFuture(buyofferForFuture, p.amount, p.currencyName, p.baseCurrency, p.assetCode, p.mpTransactionId, p.assetPair, p.leverage)"
                                    >
                                      BUY
                                    </button>
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" *ngIf="p.transactionType == 1">
                                    <button
                                      [id]="'btn' + p.mpTransactionId"
                                      class="btn btn-primary text-{{ p.transactionType == '2' ? 'spark-green' : 'danger' }}"
                                      (click)="data.checkUserBlockStatus();modalbuyForFuture(sellofferForFuture, p.amount, p.currencyName, p.baseCurrency, p.assetCode, p.mpTransactionId, p.assetPair, p.leverage)"
                                    >
                                      SELL
                                    </button>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                          <!-- <div class="row">
                            <div class="col-12">
                              <div class="float-sm-right btn-group btn-group-sm pagination_div" role="group"
                                aria-label="transaction-history"> -->
                                <!-- <ngb-pagination [collectionSize]="collection" [(page)]="page" [directionLinks]="false" (click)="pager(page);" ></ngb-pagination> -->
                                <!-- <div class="btn-group">
                                  <button class="btn btn-info" (click)="pagerFutures(1)" [disabled]="fpage==1"> 
                                    <i class="fa fa-angle-double-left" aria-hidden="true"></i>
                                  </button>
                                  <button class="btn btn-info" (click)="pagerFuturesPre(fpage)" [disabled]="fpage==1">
                                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                                  </button>
                                  <button class="btn btn-info {{fpage==p?'active':''}} {{((p<fpage+5)&&(p>fpage-5))?'':'d-none'}}"
                                    (click)="pagerFutures(p);" *ngFor="let p of fpgn">{{p}}</button>
                                  <button class="btn btn-info" (click)="pagerFuturesNext(fpage)" [disabled]="fpage==fpgn.length">
                                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                                  </button>
                                  <button class="btn btn-info" (click)="pagerFutures(fpgn.length)" [disabled]="fpage==fpgn.length">
                                    <i class="fa fa-angle-double-right" aria-hidden="true"></i>
                                  </button>
                                </div>
                              </div>
                            </div>
                          </div> -->
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </ngb-tab>
              </ngb-tabset>
            </ng-template>
          </ngb-tab>
          <ngb-tab id="currentquater">
            <ng-template ngbTabTitle>
              <h5
                class="market-reset"
                id="futuresCurrentQuarterTab"
                (click)="data.checkUserBlockStatus();autoToggleFinalTabForFuture('currentquater'); handleContractTypeSelection(contractName2Id); handleSelectedTab('futuresCurrentQuarter')"
                style="padding: 8px 10px"
              >
                {{ contractName2 }}
              </h5>
            </ng-template>
            <ng-template ngbTabContent>
              <ngb-tabset justify="fill" class="childTab" [ngClass]="Themecolor == 'Dark' ? 'tab-dark' : 'tab-lightHidden'" [activeId]="finalActiveTabSetForFuture">
                <ngb-tab id="currentquaterPortfolio">
                  <ng-template ngbTabTitle>
                    <!-- <h5 class="market-reset" (click)="handleSelectTabForFuture('portfolio')" style="padding: 8px 10px">
              PORTFOLIO
            </h5> -->
                  </ng-template>
                  <ng-template ngbTabContent>
                    <div class="row">
                      <div class="col-md-6">
                        <button
                          type="button"
                          class="btn btn-outline-secondary col-md-5 ml-2"
                          (click)="data.checkUserBlockStatus();handleMarginTypeForFuturePortfolio('1')"
                          [ngStyle]="{
                            background: selectedMarginType == '1' ? '#007bff' : '#131416'
                          }"
                        >
                          <i class="fa fa-check-circle" aria-hidden="true" *ngIf="selectedMarginType == 1"></i>
                          Isolated
                        </button>
                        <button
                          type="button"
                          class="btn btn-outline-secondary col-md-5 ml-2"
                          (click)="handleMarginTypeForFuturePortfolio('2')"
                          [ngStyle]="{
                            background: selectedMarginType == '2' ? '#007bff' : '#131416'
                          }"
                        >
                          <i class="fa fa-check-circle" aria-hidden="true" *ngIf="selectedMarginType == 2"></i>
                          Cross
                        </button>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-12 mt-3 align-self-stretch">
                        <div class="p-2 pl-3 pr-3 rounded h-100" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                          <span class="font-lg text-green"> </span>
                          <div class="w-100 mt-2"></div>
                          <div class="table-responsive-sm">
                            <table class="table table-sm table-hover">
                              <thead>
                                <tr [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                  <th scope="col">Contract Name</th>
                                  <th scope="col">Balance</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr class="newRowShade" [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" *ngFor="let p of portfolioBalanceForFutureCurrentQuarter; let i = index">
                                  <td style="width: 50%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.assetPair }}
                                  </td>
                                  <td style="width: 50%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.amount }}
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                      <div class="col-12 mt-3 align-self-stretch">
                        <div class="p-2 pl-3 pr-3 rounded h-100 customer-report-widget" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'"
                        >
                          <div class="table-responsive-sm">
                            <table class="table table-sm table-hover">
                              <thead>
                                <tr [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                  <th scope="col" *ngFor="let h of portfolioHeadersForFuture">
                                    <span *ngIf="h != 'FULL NAME'">{{ h }}</span>
                                  </th>
                                  <th>Action</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr class="newRowShade" [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" *ngFor="let p of portfolioValueForFutureContract2">
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.mpTransactionId }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.transactionDate }}
                                  </td>
                                  <!--  <td style="width:12.25%;padding: 10px 0;border-bottom: 1px solid #ddd;" class="text-theme-dark-blue">
                            {{p.fullName}}</td> -->
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.currencyName }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.baseCurrency }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.amount }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.price }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.portfolioType }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.assetPair }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.leverage }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" *ngIf="p.transactionType == 2">
                                    <button
                                      [id]="'btn' + p.mpTransactionId"
                                      class="btn btn-primary text-{{ p.transactionType == '2' ? 'spark-green' : 'danger' }}"
                                      (click)="data.checkUserBlockStatus();modalbuyForFuture(buyofferForFuture, p.amount, p.currencyName, p.baseCurrency, p.assetCode, p.mpTransactionId, p.assetPair, p.leverage)"
                                    >
                                      BUY
                                    </button>
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" *ngIf="p.transactionType == 1">
                                    <button
                                      [id]="'btn' + p.mpTransactionId"
                                      class="btn btn-primary text-{{ p.transactionType == '2' ? 'spark-green' : 'danger' }}"
                                      (click)="data.checkUserBlockStatus();modalbuyForFuture(sellofferForFuture, p.amount, p.currencyName, p.baseCurrency, p.assetCode, p.mpTransactionId, p.assetPair, p.leverage)"
                                    >
                                      SELL
                                    </button>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </ngb-tab>
              </ngb-tabset>
            </ng-template>
          </ngb-tab>
          <ngb-tab id="nextquater">
            <ng-template ngbTabTitle>
              <h5
                class="market-reset"
                id="futuresNextQuarterTab"
                (click)="data.checkUserBlockStatus();autoToggleFinalTabForFuture('nextquater'); handleContractTypeSelection(contractName3Id); handleSelectedTab('futuresNextQuarter')"
                style="padding: 8px 10px"
              >
                {{ contractName3 }}
              </h5>
            </ng-template>
            <ng-template ngbTabContent>
              <ngb-tabset justify="fill" class="childTab" [ngClass]="Themecolor == 'Dark' ? 'tab-dark' : 'tab-lightHidden'" [activeId]="finalActiveTabSetForFuture">
                <ngb-tab id="nextquaterPortfolio">
                  <ng-template ngbTabTitle>
                    <!-- <h5 class="market-reset" (click)="handleSelectTabForFuture('portfolio')" style="padding: 8px 10px">
              PORTFOLIO
            </h5> -->
                  </ng-template>
                  <ng-template ngbTabContent>
                    <div class="row">
                      <div class="col-md-6">
                        <button
                          type="button"
                          class="btn btn-outline-secondary col-md-5 ml-2"
                          (click)="data.checkUserBlockStatus();handleMarginTypeForFuturePortfolio('1')"
                          [ngStyle]="{
                            background: selectedMarginType == '1' ? '#007bff' : '#131416'
                          }"
                        >
                          <i class="fa fa-check-circle" aria-hidden="true" *ngIf="selectedMarginType == 1"></i>
                          Isolated
                        </button>
                        <button
                          type="button"
                          class="btn btn-outline-secondary col-md-5 ml-2"
                          (click)="data.checkUserBlockStatus();handleMarginTypeForFuturePortfolio('2')"
                          [ngStyle]="{
                            background: selectedMarginType == '2' ? '#007bff' : '#131416'
                          }"
                        >
                          <i class="fa fa-check-circle" aria-hidden="true" *ngIf="selectedMarginType == 2"></i>
                          Cross
                        </button>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-12 mt-3 align-self-stretch">
                        <div class="p-2 pl-3 pr-3 rounded h-100" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                          <span class="font-lg text-green"> </span>
                          <div class="w-100 mt-2"></div>
                          <div class="table-responsive-sm">
                            <table class="table table-sm table-hover">
                              <thead>
                                <tr [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                  <th scope="col">Contract Name</th>
                                  <th scope="col">Balance</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr class="newRowShade" [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" *ngFor="let p of portfolioBalanceForFutureNextQuarter; let i = index">
                                  <td style="width: 50%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.assetPair }}
                                  </td>
                                  <td style="width: 50%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.amount }}
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                      <div class="col-12 mt-3 align-self-stretch">
                        <div class="p-2 pl-3 pr-3 rounded h-100 customer-report-widget" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                          <div class="table-responsive-sm">
                            <table class="table table-sm table-hover">
                              <thead>
                                <tr [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                  <th scope="col" *ngFor="let h of portfolioHeadersForFuture">
                                    <span *ngIf="h != 'FULL NAME'">{{ h }}</span>
                                  </th>
                                  <th>Action</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" class="newRowShade" *ngFor="let p of portfolioValueForFutureContract3">
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.mpTransactionId }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.transactionDate }}
                                  </td>
                                  <!--  <td style="width:12.25%;padding: 10px 0;border-bottom: 1px solid #ddd;" class="text-theme-dark-blue">
                            {{p.fullName}}</td> -->
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.currencyName }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.baseCurrency }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.amount }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.price }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.portfolioType }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.assetPair }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                    {{ p.leverage }}
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" *ngIf="p.transactionType == 2">
                                    <button
                                      [id]="'btn' + p.mpTransactionId"
                                      class="btn btn-primary text-{{ p.transactionType == '2' ? 'spark-green' : 'danger' }}"
                                      (click)="modalbuyForFuture(buyofferForFuture, p.amount, p.currencyName, p.baseCurrency, p.assetCode, p.mpTransactionId, p.assetPair, p.leverage)"
                                    >
                                      BUY
                                    </button>
                                  </td>
                                  <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" *ngIf="p.transactionType == 1">
                                    <button
                                      [id]="'btn' + p.mpTransactionId"
                                      class="btn btn-primary text-{{ p.transactionType == '2' ? 'spark-green' : 'danger' }}"
                                      (click)="modalbuyForFuture(sellofferForFuture, p.amount, p.currencyName, p.baseCurrency, p.assetCode, p.mpTransactionId, p.assetPair, p.leverage)"
                                    >
                                      SELL
                                    </button>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </ngb-tab>
              </ngb-tabset>
            </ng-template>
          </ngb-tab>
        </ngb-tabset>
      </ng-template>
    </ngb-tab>
    <!-- options tab -->

    <ngb-tab id="options" *ngIf="data.isOptions == 1">
      <ng-template ngbTabTitle>
        <h5 class="market-reset" style="padding: 8px 10px" (click)="data.checkUserBlockStatus();callMethodsOnOptionsTabLoad();marketTypeNavSeve('options')">OPTIONS</h5>
      </ng-template>
      <ng-template ngbTabContent>
        <ngb-tabset justify="fill" #ctdTabset="ngbTabset" class="childTab" [ngClass]="Themecolor == 'Dark' ? 'tab-dark' : 'tab-lightHidden'">
          <ngb-tab id="futureWallet">
            <ng-template ngbTabTitle>
              <!-- <h5 class="market-reset" style="padding: 8px 10px">WALLET</h5> -->
            </ng-template>
            <ng-template ngbTabContent>
              <ngb-tabset justify="fill" class="childTab" >
                <ngb-tab id="optionWalletCross">
                  <ng-template ngbTabTitle>
                    <h5 class="market-reset" style="padding: 8px 10px" (click)="handleSelectMarginType(2)">
                      CROSS
                      <span style="cursor: pointer;margin-left:10px;">
                        <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('optionCrossInfo')"></i>
                      </span>
                      <div class="info-section" id="optionCrossInfo" style="display: none;margin:auto; top: 10px;left:200px;">
                        <div class="info-header">
                          <div class="info-title">CROSS</div>
                          <div class="info-close">
                            <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('optionCrossInfo')"></i>
                          </div>
                        </div>
                        <div class="info-body">
                          <p>Cross Wallet is a crypto wallet built to hold multiple blockchain cryptocurrencies in one wallet.</p>
                        </div>
                      </div>
                    </h5>
                  </ng-template>
                  <ng-template ngbTabContent>
                    <div class="row">
                      <div class="col-2"></div>
                      <div class="col-8 mt-3 align-self-stretch">
                        <div class="p-2 pl-3 pr-3 rounded h-100" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                          <!-- <span class="font-md text-theme-dark-blue">Asset Holdings</span> -->
                          <span class="font-md " [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                            <span class="text-center" style="display: flex;justify-content: center;">
                                Asset Holdings
                                <span style="cursor: pointer;margin-left:10px;">
                                  <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('optionAssetHoldingInfo')" style="font-size: 14px;"></i>
                                </span>
                                <div class="info-section" id="optionAssetHoldingInfo" style="display: none;margin:auto; top: 10px;left:200px;">
                                  <div class="info-header">
                                    <div class="info-title">Asset Holdings</div>
                                    <div class="info-close">
                                      <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('optionAssetHoldingInfo')"></i>
                                    </div>
                                  </div>
                                  <div class="info-body">
                                    <p>You can do margin and funding in your Cryptocurrency from this section.</p>
                                  </div>
                                </div> 
                            </span>
                          </span>

                          <!-- new -->
                          <ngb-tabset justify="fill" class="normalTab" [activeId]="optionChild">
                            <ngb-tab id="stopWallet">
                              <ng-template ngbTabTitle>
                                <h5 style="padding: 8px 10px" (click)="reset();saveOptionChildNavHist('stopWallet')">
                                  SPOT WALLET
                                  <span style="cursor: pointer;margin-left:10px;">
                                    <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('optionSpotInfo')" style="font-size: 14px;"></i>
                                  </span>
                                  <div class="info-section" id="optionSpotInfo" style="display: none;margin:auto; top: 10px;left:200px;">
                                    <div class="info-header">
                                      <div class="info-title"> SPOT WALLET</div>
                                      <div class="info-close">
                                        <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('optionSpotInfo')"></i>
                                      </div>
                                    </div>
                                    <div class="info-body">
                                      <p>You can see your Crypto balance, do margins, and fund your Crypto through SPOT WALLET.</p>
                                    </div>
                                  </div> 
                                </h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <!-- <span class="font-lg text-green">
                          $ <ng2-odometer [number]="main.fiatBalance" [config]="{ format: '(,ddd).dddd' }"></ng2-odometer>
                        </span> -->
                                <div class="w-100 mt-2"></div>
                                <div class="table-responsive-sm">
                                  <table class="table table-sm table-hover">
                                    <thead>
                                      <tr  [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                        <th style="width: 33.33%" scope="col" class="tablefirstRow">Asset</th>
                                        <th style="width: 33.33%" scope="col">Balance</th>
                                        <th style="width: 33.33%" scope="col">Action</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                      <tr [hidden]="myBalanceListForOption">
                                        <td colspan="3" class="text-center">
                                          <img src="./assets/svg-loaders/puff.svg" width="50" alt="" />
                                        </td>
                                      </tr>
                                      <tr [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" *ngFor="let b of myBalanceListForOption; let i = index">
                                        <td *ngIf="b.currencyType == '2'" style="width: 33.33%" class="text-theme-dark-blue tablefirstRow">
                                          {{ b.currency | uppercase }}
                                        </td>
                                        <td *ngIf="b.currencyType == '2'" style="width: 33.33%" class="text-theme-dark-blue">
                                          {{ b.currentBalance }}
                                        </td>
                                        <td *ngIf="b.currencyType == '2'" style="width: 33.33%">
                                          <a
                                            class="text-blue"
                                            (click)="data.checkUserBlockStatus();modalOpen(assetmarginoption, b.currentBalance, b.currency, b.currencyId)"
                                            href="javascript:void(0);"
                                            *ngIf="b.isOptionsMargin == '1'"
                                            >MARGIN</a
                                          >
                                          <span *ngIf="b.isOptionsMargin == '0'" style="margin-left: 72px"></span>
                                          <a
                                            class="text-green"
                                            (click)="data.checkUserBlockStatus();modalOpen(assetfundingOption, b.currentBalance, b.currency, b.currencyId); getmarginval(b.currencyCode)"
                                            href="javascript:void(0);"
                                            *ngIf="b.isOptionsFunding == '1'"
                                            >FUNDING</a
                                          >
                                          <span *ngIf="b.isOptionsFunding == '0'"></span>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>
                              </ng-template>
                            </ngb-tab>
                            <ngb-tab id="margin">
                              <ng-template ngbTabTitle>
                                <h5 style="padding: 8px 10px" (click)="reset();saveOptionChildNavHist('margin')">
                                  MARGIN
                                  <span style="cursor: pointer;margin-left:10px;">
                                    <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('optionMarginInfo')" style="font-size: 14px;"></i>
                                  </span>
                                  <div class="info-section" id="optionMarginInfo" style="display: none;margin:auto; top: 10px;">
                                    <div class="info-header">
                                      <div class="info-title">MARGIN</div>
                                      <div class="info-close">
                                        <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('optionMarginInfo')"></i>
                                      </div>
                                    </div>
                                    <div class="info-body">
                                      <p>You can see your margin wallet balance, used balance, and available margin wallet balance. You can transfer your margin wallet balance to your spot wallet through the transfer to SPOT button.</p>
                                    </div>
                                  </div> 
                                </h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="row">
                                  <div class="col-md-3">
                                    <h6 class="text-theme-dark-blue">Asset :</h6>
                                  </div>
                                  <div class="col-md-6">
                                    <select class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" (change)="somethingChangedForOption($event.target.value); reset()">
                                      <option hidden value="marginholding" disabled>Select Currency</option>
                                      <option *ngFor="let items of fundingHomeViewCrossForOption" [value]="items.CURRENCY_NAME">
                                        <div *ngIf="items.CURRENCY_NAME != 'BCC'">
                                          <option>
                                            {{ items.CURRENCY_NAME }}
                                          </option>
                                        </div>
                                        <div *ngIf="items.CURRENCY_NAME == 'BCC'">
                                          <option>BCH</option>
                                        </div>
                                      </option>
                                    </select>
                                  </div>
                                </div>
                                <br /><br />
                                <div class="row">
                                  <div class="col-md-9" [(ngModel)]="assetBalance">
                                    <h6 class="text-theme-dark-blue">
                                      Margin Wallet Balance:
                                      <span class="font-md text-green">{{ marginWalletBalanceForOption }}</span>
                                    </h6>
                                    <!-- <h6 class="text-theme-dark-blue">Used Balance: <span class="font-md text-green">{{usedBalance1}}</span></h6> -->
                                    <h6 class="text-theme-dark-blue">
                                      Available Balance:
                                      <span class="font-md text-green">{{ availableBalanceForOption }}</span>
                                    </h6>
                                    <td>
                                      <span class="text-theme-dark-blue">Transfer To : </span>
                                      <button
                                        class="btn btn-primary btn-sm"
                                        (click)="
                                          cryptoholdingmarginForOption(
                                            cryptomarginOption,
                                            cryptoCurrencyForOption,
                                            marginWalletBalanceForOption,
                                            currencyIdForOption,
                                            marginwalletIdForOption,
                                            'options'
                                          )
                                        "
                                        href="javascript:void(0);"
                                      >
                                        SPOT
                                      </button>
                                      <span style="cursor: pointer;margin-left:10px;">
                                        <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('optionTransferToSpotInfo')" style="font-size: 14px;"></i>
                                      </span>
                                      <div class="info-section" id="optionTransferToSpotInfo" style="display: none;margin:auto; top: 10px;">
                                        <div class="info-header">
                                          <div class="info-title">Transfer to SPOT</div>
                                          <div class="info-close">
                                            <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('optionTransferToSpotInfo')"></i>
                                          </div>
                                        </div>
                                        <div class="info-body">
                                          <p>You can transfer your margin wallet balance to the spot wallet through this SPOT button.</p>
                                        </div>
                                      </div> 
                                    </td>
                                  </div>
                                </div>
                              </ng-template>
                            </ngb-tab>
                            <ngb-tab id="fund">
                              <ng-template ngbTabTitle>
                                <h5 style="padding: 8px 10px" (click)="reset();saveOptionChildNavHist('fund')">
                                  VIEW MY FUNDINGS
                                  <span style="cursor: pointer;margin-left:10px;">
                                    <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('optionMyfundingInfo')" style="font-size: 14px;"></i>
                                  </span>
                                  <div class="info-section" id="optionMyfundingInfo" style="display: none;margin:auto; top: 10px;">
                                    <div class="info-header">
                                      <div class="info-title">VIEW MY FUNDINGS</div>
                                      <div class="info-close">
                                        <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('optionMyfundingInfo')"></i>
                                      </div>
                                    </div>
                                    <div class="info-body">
                                      <p>You can see your Fundings here by selecting currency and providing From Date and To Date.</p>
                                    </div>
                                  </div> 
                                </h5>
                              </ng-template>
                              <ng-template ngbTabContent>
                                <div class="row form-group">
                                  <label class="control-label col-sm-2 text-theme-dark-blue" for="email">Asset Provided:</label>
                                  <div class="col-sm-4">
                                    <select class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" [(ngModel)]="arrayy">
                                      <option hidden value="assetcurrency" disabled>Select Currency</option>
                                      <!-- <option>Select</option> -->
                                      <option *ngFor="let item of fundingHomeViewFundingForOption" [value]="item.CURRENCYID">
                                        <div *ngIf="item.CURRENCY_NAME != 'BCC'">
                                          <option>
                                            {{ item.CURRENCY_NAME }}
                                          </option>
                                        </div>
                                        <div *ngIf="item.CURRENCY_NAME == 'BCC'">
                                          <option>BCH</option>
                                        </div>
                                      </option>
                                    </select>
                                  </div>
                                  <!-- <label class="control-label col-sm-2 text-theme-dark-blue" for="email">Base Currency:</label>
          <div class="col-sm-4">
            <input type="text" class="form-control" ng-model="base" placeholder="USD" disabled>
          </div> -->
                                </div>
                                <div class="row form-group">
                                  <div class="col-sm-3 text-theme-dark-blue">From Date:</div>
                                  <div class="col-sm-6">
                                    <div class="input-group">
                                      <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="dd-mm-yyyy" name="dp" [(ngModel)]="modelabc" ngbDatepicker #ds="ngbDatepicker" />
                                      <div class="input-group-append">
                                        <button class="btn btn-secondary" (click)="ds.toggle()" type="button">
                                          <i class="fa fa-calendar" aria-hidden="true"></i>
                                        </button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="row form-group">
                                  <div class="col-sm-3 text-theme-dark-blue">To Date:</div>
                                  <div class="col-sm-6">
                                    <div class="input-group">
                                      <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="dd-mm-yyyy" name="dp" [(ngModel)]="modeldate" ngbDatepicker #do="ngbDatepicker" />
                                      <div class="input-group-append">
                                        <button class="btn btn-secondary" (click)="do.toggle()" type="button">
                                          <i class="fa fa-calendar" aria-hidden="true"></i>
                                        </button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <button type="submit" class="text-white btn btn-primary" (click)="modalUp(popup); findingViewForInputServiseForOptions(); reset()">Submit</button>
                              </ng-template>
                            </ngb-tab>
                          </ngb-tabset>
                        </div>
                      </div>
                      <div class="col-2"></div>
                    </div>
                  </ng-template>
                </ngb-tab>
              </ngb-tabset>

              <div class="row" style="margin-top: 20px">
                <span style="display: table; margin: 0 auto;" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">
                  <h2>
                    Portfolio
                    <span style="cursor: pointer;margin-left:10px;">
                      <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('optionPortfolioInfo')" style="font-size: 14px;"></i>
                    </span>
                    <div class="info-section" id="optionPortfolioInfo" style="display: none;margin:auto; top:482px;">
                      <div class="info-header">
                        <div class="info-title">PORTFOLIO</div>
                        <div class="info-close">
                          <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('optionPortfolioInfo')"></i>
                        </div>
                      </div>
                      <div class="info-body">
                        <p style="font-size: 17px;">You can see your balances on contract (Perpetual, Quartarly) basis.</p>
                      </div>
                    </div>
                  </h2>
                </span>
              </div>
              <br />
              <ngb-tabset justify="fill" class="normalTab " [ngClass]="Themecolor == 'Dark' ? 'childTabExp' : 'childTabExpLight'">
                <ngb-tab *ngFor="let contract of contractListOptions" [id]="contract.contractTypeId">
                  <ng-template ngbTabTitle>
                    <h5 class="market-reset" style="padding: 8px 10px" (click)="data.checkUserBlockStatus();autoToggleFinalTabForOption(contract.contractTypeId); handleContractTypeSelectionForOption(contract.contractTypeId)">
                      {{ contract.contractName }}
                    </h5>
                  </ng-template>
                  <ng-template ngbTabContent>
                    <ngb-tabset justify="fill" [ngClass]="Themecolor == 'Dark' ? 'childTab childTabExp2' : 'tab-lightHiddenOff'"  [activeId]="finalActiveTabSetForOption">
                      <ngb-tab id="perpetualPortfolio">
                        <ng-template ngbTabTitle>
                          <!-- <h5 class="market-reset" style="padding: 8px 10px" (click)="handleSelectTabForOption('portfolio')">
                  PORTFOLIO
                </h5> -->
                        </ng-template>
                        <ng-template ngbTabContent>
                          <div class="row">
                            <div class="col-md-6">
                              <!--  <button type="button" class="btn btn-outline-secondary col-md-5 ml-2" (click)="handleMarginTypeForFuturePortfolio('1')" [ngStyle]="{background : selectedMarginType == '1' ? '#007bff' : '#131416'}"> <i class="fa fa-check-circle" aria-hidden="true" *ngIf="selectedMarginType == 1"></i> Isolated</button> -->
                              <button
                                type="button"
                                class="btn btn-outline-secondary col-md-5 ml-2"
                                (click)="handleMarginTypeForOptionPortfolio('2')"
                                [ngStyle]="{
                                  background: selectedMarginTypeForOptions == '2' ? '#007bff' : '#131416'
                                }"
                              >
                                <i class="fa fa-check-circle" aria-hidden="true" *ngIf="selectedMarginTypeForOptions == 2"></i>
                                Cross
                              </button>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-12 mt-3 align-self-stretch">
                              <div class=" p-2 pl-3 pr-3 rounded h-100" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                                <span class="font-lg text-green"> </span>
                                <div class="w-100 mt-2"></div>
                                <div class="table-responsive-sm">
                                  <table class="table table-sm table-hover">
                                    <thead>
                                      <tr [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                        <th scope="col">Contract Name</th>
                                        <th scope="col">Balance</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                      <tr [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" *ngFor="let p of portfolioBalanceForOptionPerpetual; let i = index">
                                        <td style="width: 50%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                          {{ p.assetPair }}
                                        </td>
                                        <td style="width: 50%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                          {{ p.amount }}
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>
                              </div>
                            </div>
                            <div class="col-12 mt-3 align-self-stretch">
                              <div class="p-2 pl-3 pr-3 rounded h-100 customer-report-widget" [ngClass]="Themecolor == 'Dark' ? 'bg-dark' : 'bg-light'">
                                <div class="table-responsive-sm">
                                  <table class="table table-sm table-hover">
                                    <thead>
                                      <tr [ngClass]="Themecolor == 'Dark' ? 'bg-black text-white' : 'tableHeader-bg-light'">
                                        <th scope="col" *ngFor="let h of portfolioHeadersForOption">
                                          <span *ngIf="h != 'FULL NAME'">{{ h }}</span>
                                        </th>
                                        <th>Action</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                      <tr [ngClass]="Themecolor == 'Dark' ? 'newRowShade' : 'newRowShade-light'" *ngFor="let p of portfolioValueForOptionContract1">
                                        <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                          {{ p.mpTransactionId }}
                                        </td>
                                        <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                          {{ p.transactionDate }}
                                        </td>
                                        <!--  <td style="width:12.25%;padding: 10px 0;border-bottom: 1px solid #ddd;" class="text-theme-dark-blue">
                                  {{p.fullName}}</td> -->
                                        <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                          {{ p.currencyName }}
                                        </td>
                                        <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                          {{ p.baseCurrency }}
                                        </td>
                                        <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                          {{ p.amount }}
                                        </td>
                                        <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                          {{ p.price }}
                                        </td>
                                        <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                          {{ p.portfolioType }}
                                        </td>
                                        <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                          {{ p.assetPair }}
                                        </td>
                                        <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" class="text-theme-dark-blue">
                                          {{ p.leverage }}
                                        </td>
                                        <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" *ngIf="p.transactionType == 2">
                                          <button
                                            class="btn btn-primary text-{{ p.transactionType == '2' ? 'white' : 'white' }}"
                                            (click)="data.checkUserBlockStatus();modalbuyForOption(buyofferForOption, p.amount, p.currencyName, p.baseCurrency, p.assetCode, p.mpTransactionId, p.assetPair, p.leverage)"
                                          >
                                            CLOSE
                                          </button>
                                        </td>
                                        <td style="width: 12.25%; padding: 10px 0; border-bottom: 1px solid #ddd" *ngIf="p.transactionType == 1">
                                          <button
                                            class="btn btn-primary text-{{ p.transactionType == '2' ? 'white' : 'white' }}"
                                            (click)="data.checkUserBlockStatus();modalbuyForOption(sellofferForOption, p.amount, p.currencyName, p.baseCurrency, p.assetCode, p.mpTransactionId, p.assetPair, p.leverage)"
                                          >
                                            CLOSE
                                          </button>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>
                                <!-- <div class="row">
                                  <div class="col-12">
                                    <div class="float-sm-right btn-group btn-group-sm pagination_div" role="group"
                                      aria-label="transaction-history"> -->
                                      <!-- <ngb-pagination [collectionSize]="collection" [(page)]="page" [directionLinks]="false" (click)="pager(page);" ></ngb-pagination> -->
                                      <!-- <div class="btn-group">
                                        <button class="btn btn-info" (click)="pagerOptions(1)" [disabled]="opage==1"> 
                                          <i class="fa fa-angle-double-left" aria-hidden="true"></i>
                                        </button>
                                        <button class="btn btn-info" (click)="pagerOptionsPre(opage)" [disabled]="opage==1">
                                          <i class="fa fa-angle-left" aria-hidden="true"></i>
                                        </button>
                                        <button class="btn btn-info {{opage==p?'active':''}} {{((p<opage+5)&&(p>opage-5))?'':'d-none'}}"
                                          (click)="pagerOptions(p);" *ngFor="let p of opgn">{{p}}</button>
                                        <button class="btn btn-info" (click)="pagerFuturesNext(opage)" [disabled]="opage==opgn.length">
                                          <i class="fa fa-angle-right" aria-hidden="true"></i>
                                        </button>
                                        <button class="btn btn-info" (click)="pagerOptions(opgn.length)" [disabled]="opage==opgn.length">
                                          <i class="fa fa-angle-double-right" aria-hidden="true"></i>
                                        </button>
                                      </div>
                                    </div>
                                  </div>
                                </div> -->
                              </div>
                            </div>
                          </div>
                        
                        
                        </ng-template>
                      </ngb-tab>
                    </ngb-tabset>
                  </ng-template>
                </ngb-tab>
              </ngb-tabset>
            </ng-template>
          </ngb-tab>
        </ngb-tabset>
      </ng-template>
    </ngb-tab>
    <!-- options tab -->
  </ngb-tabset>

  <!-- /.container-fluid-->
</div>
<!-- send modal -->
<ng-template #sendmd let-modal>
  <div id="myDiv" [ngClass]="Themecolor == 'Dark' ? '' : 'lightThemeModalBody'">
    <div *ngIf="cryptoCurrency == 'HCX'; else sendcurrency" class="modal-header sendreceive-wallet">
      <h4 class="modal-title" id="modal-basic-title">Send {{ cryptoCurrency }} Native</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <ng-template #sendcurrency>
      <div class="modal-header sendreceive-wallet">
        <h4 class="modal-title" id="modal-basic-title">Send {{ cryptoCurrency }}</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    </ng-template>
    <div class="modal-body text-center send-wallet" [ngClass]="Themecolor == 'Dark' ? '' : 'lightThemeModalBodyInner'">
      <ngb-tabset>
        <ngb-tab title="Broker Wallet" *ngIf="cryptoCurrency != 'triggers'">
          <ng-template ngbTabContent>
            <div style="top: 78px; left: 37px; position: absolute; z-index: 99999999">
              <div class="icon-section pull-left">
                <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('paybitoWalletInfo')"></i>
              </div>
              <div class="info-section" id="paybitoWalletInfo" style="display: none; left: -459px; top: -20px">
                <div class="info-header">
                  <div class="info-title">{{data.exchange}} Wallet</div>
                  <div class="info-close">
                    <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('paybitoWalletInfo')"></i>
                  </div>
                </div>
                <div class="info-body">You can send asset from {{data.exchange}} wallet to {{data.exchange}} wallet through a users registered mobile number</div>
              </div>
            </div>
            <form name="form" #f="ngForm" novalidate>
              <div class="form-group row">
                <div class="col-4 text-right">Receiver's Mobile No</div>
                <div class="col-8 telInput">
                  <!-- <input
                    type="number"
                    class="form-control paybitophone"
                    [(ngModel)]="paybito_phone"
                    name="a"
                    placeholder="Receiver's Mobile No"
                    (keyup)="handleValidatePhone($event)"
                    autocomplete="off"
                  /> -->
                  <input type="text" class="form-control paybitophone validate"
                  [ngClass]="Themecolor == 'form-control' ? '' : 'form-control-light'"
                    name="dial_code"
                          pattern="[0-9]{8,15}"
                          required
                          [(ngModel)]="paybito_phone"
                          (keyup)="handleValidatePhoneNew($event)"
                          minlength="8" maxlength="15"
                          (ng2TelOutput)="getNumber($event)"
                          (intlTelInputObject)="telInputObject($event)"
                          (countryChange)="onCountryChange($event)"
                          ng2TelInput 
                          style="padding-left: 53px;"/>
                  
                </div>
                
              </div>
              <div class="form-group row">
                <div class="col-4 text-right">Amount</div>
                <div class="col-8">
                  <input type="textbox" class="form-control" [ngClass]="Themecolor == 'form-control' ? '' : 'form-control-light'" numbersOnly [(ngModel)]="paybito_amount" name="b" placeholder="0.00"  (keyup)="checkAmoutPrecision(cryptoCurrency, paybito_amount, 'WALLET')" />
                </div>
              </div>
              <div class="form-group row">
                <div class="col-4"></div>
                <div class="col-8 text-left">
                  <button class="btn btn-success" [disabled]="f.form.invalid || f.form.pristine" (click)="checkforLockStatusWhileSendingToPaybito(twoFactorAuthOnly); modal.close()">Submit</button>
                </div>
              </div>

              <small>
                <small style="font-size: 15px"
                  >Minimum of <img src="{{ data.ASSETICONBASEURL + cryptoCurrency + '.png' }}" width="20" style="padding-right: 5px" alt="" />{{ minValueCoin }} and Maximum
                  <img src="{{ data.ASSETICONBASEURL + cryptoCurrency + '.png' }}" width="20" style="padding-right: 5px" alt="" />{{ maxValueCoin }} can be sent</small
                >
              </small>
              <!--   <small *ngIf="cryptoCurrency =='BTC'">
                <small style="font-size:15px;">Minimum of <img
                    src="{{data.ASSETICONBASEURL+cryptoCurrency+'.png'}}" width="20" style="padding-right: 5px;"
                    alt="" />{{minvalueBtc}} and Maximum <img
                    src="{{data.ASSETICONBASEURL+cryptoCurrency+'.png'}}" width="20" style="padding-right: 5px;"
                    alt="" />{{maxvalueBtc}} can be sent</small>
              </small>
              <small *ngIf="cryptoCurrency == 'ETH'">
                <small style="font-size: 15px"
                  >Minimum of
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ minvalueEth }} and Maximum
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ maxvalueEth }} can be sent</small
                >
              </small>
              <small *ngIf="cryptoCurrency == 'BCH'">
                <small style="font-size: 15px"
                  >Minimum of
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />
                  {{ minvalueBch }} and Maximum
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ maxvalueBch }} can be send</small
                >
              </small>
              <small *ngIf="cryptoCurrency == 'LTC'">
                <small style="font-size: 15px"
                  >Minimum of
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />
                  {{ minvalueLtc }} and Maximum
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ maxvalueLtc }} can be send</small
                >
              </small>
              <small *ngIf="cryptoCurrency == 'USDT'">
                <small style="font-size: 15px"
                  >Minimum of
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ minvalueUsdt }} and Maximum
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ maxvalueUsdt }} can be send</small
                >
              </small>
              <small *ngIf="cryptoCurrency == 'DIAM'">
                <small style="font-size: 15px"
                  >Minimum of
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ minvalueDiam }} and Maximum
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ maxvalueDiam }} can be send</small
                >
              </small>
              <small *ngIf="cryptoCurrency == 'HCX'">
                <small style="font-size: 15px"
                  >Minimum of
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ minvalueHcx }} and Maximum
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ maxvalueHcx }} can be send</small
                >
              </small>
              <small *ngIf="cryptoCurrency == 'BAT'">
                <small style="font-size: 15px"
                  >Minimum of
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ minvalueBat }} and Maximum
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ maxvalueBat }} can be send</small
                >
              </small>
              <small *ngIf="cryptoCurrency == 'HBAR'">
                <small style="font-size: 15px"
                  >Minimum of
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ minvalueHbar }} and Maximum
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ maxvalueHbar }} can be send</small
                >
              </small>
              <small *ngIf="cryptoCurrency == 'LINK'">
                <small style="font-size: 15px"
                  >Minimum of
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ minvalueLink }} and Maximum
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ maxvalueLink }} can be send</small
                >
              </small>
              <small *ngIf="cryptoCurrency == 'XRP'">
                <small style="font-size: 15px"
                  >Minimum of
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ minvalueXrp }} and Maximum
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ maxvalueXrp }} can be send</small
                >
              </small>
              <small *ngIf="cryptoCurrency == 'KICKS'">
                <small style="font-size: 15px"
                  >Minimum of
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ minvalueKicks }} and Maximum
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ maxvalueKicks }} can be send</small
                >
              </small>

              <small *ngIf="cryptoCurrency == 'MRC'">
                <small style="font-size: 15px"
                  >Minimum of
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ minvalueMrc }} and Maximum
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ maxvalueMrc }} can be send</small
                >
              </small>
              <small *ngIf="cryptoCurrency == 'ADA'">
                <small style="font-size: 15px"
                  >Minimum of
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ minvalueAda }} and Maximum
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ maxvalueAda }} can be send</small
                >
              </small>
              <small *ngIf="cryptoCurrency == 'SOL'">
                <small style="font-size: 15px"
                  >Minimum of
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ minvalueSol }} and Maximum
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ maxvalueSol }} can be send</small
                >
              </small>
              <small *ngIf="cryptoCurrency == 'CAR'">
                <small style="font-size: 15px"
                  >Minimum of
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ minvalueCar }} and Maximum
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ maxvalueCar }} can be send</small
                >
              </small>
              <small *ngIf="cryptoCurrency == 'XLM'">
                <small style="font-size: 15px"
                  >Minimum of
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ minvalueXlm }} and Maximum
                  <img
                    src="{{
                      data.ASSETICONBASEURL + cryptoCurrency + '.png'
                    }}"
                    width="20"
                    style="padding-right: 5px"
                    alt=""
                  />{{ maxvalueXlm }} can be send</small
                >
              </small>
              <small>
                <small style="font-size:15px;">Minimum of <img
                    src="{{data.ASSETICONBASEURL+cryptoCurrency+'.png'}}" width="20" style="padding-right: 5px;"
                    alt="" />{{minValueCoin}} and Maximum <img
                    src="{{data.ASSETICONBASEURL+cryptoCurrency+'.png'}}" width="20" style="padding-right: 5px;"
                    alt="" />{{maxValueCoin}} can be send</small>
              </small> -->
            </form>
          </ng-template>
        </ngb-tab>
        <ngb-tab>
          <ng-template ngbTabTitle>
            <h6 (click)="getOtherWalletValue()" class="get-offer" style="padding: 2px 19px">External Address</h6>
          </ng-template>
          <ng-template ngbTabContent>
            <div style="top: 78px; right: 7px; position: absolute; z-index: 99999999">
              <div class="icon-section pull-left">
                <i class="fa fa-info-circle" aria-hidden="true" (click)="data.handleInfoSection('spotExternalWalletInfo')"></i>
              </div>
              <div class="info-section" id="spotExternalWalletInfo" style="display: none; left: -459px; top: -20px">
                <div class="info-header">
                  <div class="info-title">External Wallet</div>
                  <div class="info-close">
                    <i class="fa fa-times" aria-hidden="true" (click)="data.handleInfoSection('spotExternalWalletInfo')"></i>
                  </div>
                </div>
                <div class="info-body">You can send asset from Paybito wallet to an External address</div>
              </div>
            </div>
            <form name="form" id="uc-disclaimer-form" #f="ngForm" novalidate>
              <div class="form-group row">
                <div class="col-3 text-right">Receiver's Address</div>
                <div class="col-9">
                  <input
                    type="text"
                    class="form-control receiveaddrs"
                    [ngClass]="Themecolor == 'form-control' ? '' : 'form-control-light'"
                    [(ngModel)]="other_address"
                    placeholder="Receiver's Address"
                    (keyup)=" checkNodeaddress()"
                    name="a"
                    required
                    autocomplete="off"
                  />
                  <p *ngIf="validmsg != 0; else valid" class="text-danger text-left error-msg-validation errormsgg">
                    {{ errormsg }}
                  </p>
                  <ng-template #valid>
                    <p class="text-success text-left error-msg-validation successmsg">
                      {{ errormsg }}
                    </p>
                  </ng-template>
                </div>
              </div>

              <div *ngIf="cryptoCurrency == 'XRP'" class="form-group row">
                <div class="col-3 text-right">XRP Tag</div>
                <div class="col-9">
                  <input type="text" (keypress)="keyPress($event)" maxlength="10" class="form-control xrpaddrs" [ngClass]="Themecolor == 'form-control' ? '' : 'form-control-light'" [(ngModel)]="memo" placeholder="XRP Tag" name="a" required />
                </div>
              </div>
              <div *ngIf="cryptoCurrency == 'DIAM'" class="form-group row">
                <div class="col-3 text-right">DIAM Tag</div>
                <div class="col-9">
                  <input type="text" (keypress)="keyPress($event)" maxlength="10" class="form-control diamaddrs" [ngClass]="Themecolor == 'form-control' ? '' : 'form-control-light'" [(ngModel)]="memo" placeholder="DIAM Tag" name="a" required />
                </div>
              </div>
              <div *ngIf="cryptoCurrency == 'HCX'" class="form-group row">
                <div class="col-3 text-right">HCX Tag</div>
                <div class="col-9">
                  <input type="text" (keypress)="keyPress($event)" maxlength="10" class="form-control hcxaddrs" [ngClass]="Themecolor == 'form-control' ? '' : 'form-control-light'" [(ngModel)]="memo" placeholder="HCX Tag" name="a" required />
                </div>
              </div>
              <div *ngIf="cryptoCurrency == 'CAR'" class="form-group row">
                <div class="col-3 text-right">CAR Tag</div>
                <div class="col-9">
                  <input type="text" (keypress)="keyPress($event)" maxlength="10" class="form-control hcxaddrs" [ngClass]="Themecolor == 'form-control' ? '' : 'form-control-light'" [(ngModel)]="memo" placeholder="CAR Tag" name="a" required />
                </div>
              </div>
              <div *ngIf="cryptoCurrency == 'XLM'" class="form-group row">
                <div class="col-3 text-right">XLM Tag</div>
                <div class="col-9">
                  <input type="text" (keypress)="keyPress($event)" maxlength="10" class="form-control hcxaddrs" [ngClass]="Themecolor == 'form-control' ? '' : 'form-control-light'" [(ngModel)]="memo" placeholder="XLM Tag" name="a" required />
                </div>
              </div>
              <div *ngIf="cryptoCurrency == 'LUNA'" class="form-group row">
                <div class="col-3 text-right">LUNA Tag</div>
                <div class="col-9">
                  <input type="text" (keypress)="keyPress($event)" maxlength="10" class="form-control hcxaddrs" [ngClass]="Themecolor == 'form-control' ? '' : 'form-control-light'" [(ngModel)]="memo" placeholder="LUNA Tag" name="a" required />
                </div>
              </div>
              <div *ngIf="cryptoCurrency == 'HBAR'" class="form-group row">
                <div class="col-3 text-right">HBAR Tag</div>
                <div class="col-9">
                  <input type="text" (keypress)="keyPress($event)" maxlength="10" class="form-control hcxaddrs" [ngClass]="Themecolor == 'form-control' ? '' : 'form-control-light'" [(ngModel)]="memo" placeholder="HBAR Tag" name="a" required />
                </div>
              </div>
              <div *ngIf="cryptoCurrency == 'EOS'" class="form-group row">
                <div class="col-3 text-right">EOS Tag</div>
                <div class="col-9">
                  <input type="text" (keypress)="keyPress($event)" maxlength="10" class="form-control hcxaddrs" [ngClass]="Themecolor == 'form-control' ? '' : 'form-control-light'" [(ngModel)]="memo" placeholder="EOS Tag" name="a" required />
                </div>
              </div>
              <div class="form-group row">
                <div class="col-3 text-right">Amount</div>
                <div class="col-6">
                  <input
                    type="textbox"
                    id="otherWallet"
                    class="form-control"
                    [ngClass]="Themecolor == 'form-control' ? '' : 'form-control-light'"
                    [(ngModel)]="other_amount"
                    placeholder="0.00"
                    step="0.1"
                    name="b"
                    #b="ngModel"
                    (focus)="show = true"
                    (keyup)="rate(); checkAmoutPrecision(cryptoCurrency, other_amount, 'EXTERNAL'); restrictMinMaxAmount(minValueCoin,maxValueCoin)"
                  />
                </div>
                <div class="col-3 maxamount">
                  <button type="submit" class="btn btn-success maxSendAmount" (click)="MaxSendAmount()">Max</button>
                </div>
              </div>
              
              <div class="form-group row">
                <div class="col-3"></div>
                <div class="col-9 text-left" *ngIf="!flag">
                  <!-- <button class="btn btn-success submitbtn" (click)="transactionSendForOthers(openmodal); modal.close()" style="display: block" [disabled]="f.form.invalid || f.form.pristine">
                    Submit
                  </button> -->
                  <button class="btn btn-success submitbtn exsubmitbtn" (click)="data.checkUserBlockStatus();handleOpenTwoFactorModal(twoFactorAuth,false,true); modal.close()" style="display: block" [disabled]="other_amount == '' || other_address == '' || other_amount == null || other_address == null || other_amount == undefined || other_address == undefined || sendTowalletButtonStatus == false">
                    Submit
                  </button>
                </div>
                <div class="col-9 text-left" *ngIf="flag">
                  <!-- <button class="btn btn-success submitbtn" id="sclaimer" (click)="transactionSendForOthers(); modal.close()" style="display: none" [disabled]="f.form.invalid || f.form.pristine">
                    Submit
                  </button> -->
                  <button class="btn btn-success submitbtn" id="sclaimer" (click)="handleOpenTwoFactorModal(twoFactorAuth,false,false); modal.close()" style="display: none" [disabled]="other_amount == '' || other_address == '' || other_amount == null || other_address == null || other_amount == undefined || other_address == undefined || sendTowalletButtonStatus == false">
                    Submit
                  </button>
                </div>
              </div>
              <div class="text-primary text-left" *ngIf="cryptoCurrency != 'triggers'">
                <h5>Estimated Network Fee {{ networkfee }}</h5>
                <p>
                  <small>
                    <small style="font-size: 15px"
                      >Minimum of <img src="{{ data.ASSETICONBASEURL + cryptoCurrency + '.png' }}" width="20" style="padding-right: 5px" alt="" />{{ minValueCoin }} and Maximum
                      <img src="{{ data.ASSETICONBASEURL + cryptoCurrency + '.png' }}" width="20" style="padding-right: 5px" alt="" />{{ maxValueCoin }} can be sent.</small
                    >
                    <p style="font-size: 15px" *ngIf="sendDisclaimerCoin != ''">{{ sendDisclaimerCoin }}</p>
                  </small>
                </p>
                <p style='color:#fff'>Notice: For the safety of your assets, please make sure the transfer network is {{network}}. If the network does not match, your assets will be lost and cannot be recovered.</p>
              </div>
              <div class="text-primary text-left" *ngIf="cryptoCurrency == 'triggers'">
                <h5 style="cursor: pointer"><u> Disclaimer </u></h5>
                <div class="table-responsive-sm col-md-12">
                  <p>Counterparty Blockchain Network fee is 0.0002 BTC per Triggers at minimum for send operation.</p>
                  <p>Please ensure that you have sufficient BTC balance in your wallet</p>
                  <p>Counterparty Blockchain may take upto 3 days to confirm a transaction.</p>
                </div>
                <div class="modal-footer">
                  <div class="mr-auto text-dark">I Agree:</div>
                  <div>
                    <span class="text-white font-weight-bold font-sm"><input type="checkbox" id="disclaim" (click)="myFunction()" /></span>
                  </div>
                </div>
              </div>
            </form>
          </ng-template>
        </ngb-tab>
      </ngb-tabset>
    </div>

    <!-- <div class="modal-footer">
  </div> -->
  </div>
</ng-template>

<ng-template #sendmodal let-modal>
  <div id="myDiv" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <div *ngIf="cryptoCurrency == 'HCX'; else anothercurrency" class="modal-header sendreceive-wallet" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
      <h4 class="modal-title" id="modal-basic-title">Withdrawal {{ cryptoCurrency | uppercase }} Native</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <ng-template #anothercurrency>
      <div class="modal-header sendreceive-wallet" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
        <h4 class="modal-title" id="modal-basic-title">Withdrawal {{ cryptoCurrency | uppercase }}</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    </ng-template>
    <div class="modal-body text-center send-wallet" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
      <div class="table-responsive-sm col-md-12">
        <p style="text-align: left">
          Once your crypto withdraw operation is completed, the corresponding asset ownership will be changed to the account owner of the target address. Please make sure to check the crypto withdraw
          address information carefully before the crypto withdraw operation to ensure that the action is voluntary, and to confirm this action does not involve any pyramid schemes, illegal
          fund-raising, fraud and other illegal actions. Be cautious of being deceived and avoiding unnecessary asset loss.
        </p>
      </div>
    </div>
    <div style="padding: 0 20px 20px">
      <button style="text-align: center; width: 100%" type="button" class="btn btn-primary" (click)="getCurrencyForSend(sendmd, cryptoCurrency, balance, currencyId,'NA'); modal.close()">
        I Understand
      </button>
    </div>
  </div>
</ng-template>

<ng-template #sendmodalhcx let-modal>
  <div id="myDiv" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <div *ngIf="cryptoCurrency == 'HCX'; else anothercurrency" class="modal-header sendreceive-wallet" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
      <h4 class="modal-title" id="modal-basic-title">Withdrawal {{ cryptoCurrency | uppercase }}</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <ng-template #anothercurrency>
      <div class="modal-header sendreceive-wallet" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
        <h4 class="modal-title" id="modal-basic-title">Withdrawal {{ cryptoCurrency | uppercase }}</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    </ng-template>
    <div class="modal-body text-center send-wallet" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
      <div class="table-responsive-sm col-md-12">
        <p style="text-align: left">
          Once your crypto withdraw operation is completed, the corresponding asset ownership will be changed to the account owner of the target address. Please make sure to check the crypto withdraw
          address information carefully before the crypto withdraw operation to ensure that the action is voluntary, and to confirm this action does not involve any pyramid schemes, illegal
          fund-raising, fraud and other illegal actions. Be cautious of being deceived and avoiding unnecessary asset loss.
        </p>
      </div>
    </div>
    <div style="padding: 0 20px 20px">
      <button style="text-align: center; width: 100%" type="button" class="btn btn-primary" (click)="getCurrencyForSend(sendhcx, cryptoCurrency, balance, currencyId,'NA'); modal.close()">
        I Understand
      </button>
    </div>
  </div>
</ng-template>

<ng-template #senderctoken let-modal>
  <div id="myDiv" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <div class="modal-header sendreceive-wallet">
      <h4 class="modal-title" id="modal-basic-title">Send {{ cryptoCurrency }} ERC</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body text-center send-wallet">
      <ngb-tabset>
        <ngb-tab title="Broker Wallet" *ngIf="cryptoCurrency != 'triggers'">
          <ng-template ngbTabContent>
            <form namw="form" #f="ngForm" novalidate>
              <div class="form-group row">
                <div class="col-4 text-right">Receiver's Mobile No</div>
                <div class="col-8">
                  <input
                    type="number"
                    class="form-control paybitophone"
                    [(ngModel)]="paybito_phone"
                    name="a"
                    placeholder="Receiver's Mobile No"
                    (keyup)="handleValidatePhone($event)"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="form-group row">
                <div class="col-4 text-right">Amount</div>
                <div class="col-8">
                  <input type="textbox" class="form-control" [(ngModel)]="paybito_amount" name="b" placeholder="0.00" (keyup)="checkAmoutPrecision(cryptoCurrency, paybito_amount, 'WALLET')" />
                </div>
              </div>
              <div class="form-group row">
                <div class="col-4"></div>
                <div class="col-8 text-left">
                  <button class="btn btn-success" [disabled]="f.form.invalid || f.form.pristine" (click)="checkforLockStatusWhileSendingToPaybito(twoFactorAuthOnly); modal.close()">Submit</button>
                </div>
              </div>
              <small>
                <small style="font-size: 15px"
                  >Minimum of <img src="{{ data.ASSETICONBASEURL + cryptoCurrency + '.png' }}" width="20" style="padding-right: 5px" alt="" />{{ minValueCoin }} and Maximum
                  <img src="{{ data.ASSETICONBASEURL + cryptoCurrency + '.png' }}" width="20" style="padding-right: 5px" alt="" />{{ maxValueCoin }} can be sent</small
                >
              </small>
            </form>
          </ng-template>
        </ngb-tab>
        <ngb-tab>
          <ng-template ngbTabTitle>
            <h6 (click)="getHcxErcOtherWalletValue()" class="get-offer" style="padding: 2px 19px">External Address</h6>
          </ng-template>
          <ng-template ngbTabContent>
            <form name="form" id="uc-disclaimer-form" #f="ngForm" novalidate>
              <div class="form-group row">
                <div class="col-3 text-right">Receiver's Address</div>
                <div class="col-9">
                  <input
                    type="text"
                    class="form-control ercreceiveaddrs"
                    [(ngModel)]="other_address"
                    placeholder="Receiver's Address"
                    (keyup)="receveraddrs(); checkercNodeaddress()"
                    name="a"
                    required
                    autocomplete="off"
                  />
                  <p *ngIf="validmsg != 0; else valid" class="text-danger text-left error-msg-validation errormsgg">
                    {{ errormsg }}
                  </p>
                  <ng-template #valid>
                    <p class="text-success text-left error-msg-validation successmsg">
                      {{ errormsg }}
                    </p>
                  </ng-template>
                </div>
              </div>

              <div *ngIf="cryptoCurrency == 'XRP'" class="form-group row">
                <div class="col-3 text-right">XRP Tag</div>
                <div class="col-9">
                  <input type="text" class="form-control" [(ngModel)]="memo" placeholder="XRP Tag" name="a" required />
                </div>
              </div>
              <div *ngIf="cryptoCurrency == 'DIAM'" class="form-group row">
                <div class="col-3 text-right">DIAM Tag</div>
                <div class="col-9">
                  <input type="text" class="form-control" [(ngModel)]="memo" placeholder="DIAM Tag" name="a" required />
                </div>
              </div>
              <div *ngIf="cryptoCurrency == 'LUNA'" class="form-group row">
                <div class="col-3 text-right">LUNA Tag</div>
                <div class="col-9">
                  <input type="text" class="form-control" [(ngModel)]="memo" placeholder="LUNA Tag" name="a" required />
                </div>
              </div>
              <div *ngIf="cryptoCurrency == 'HBAR'" class="form-group row">
                <div class="col-3 text-right">HBAR Tag</div>
                <div class="col-9">
                  <input type="text" class="form-control" [(ngModel)]="memo" placeholder="HBAR Tag" name="a" required />
                </div>
              </div>
              <div *ngIf="cryptoCurrency == 'EOS'" class="form-group row">
                <div class="col-3 text-right">EOS Tag</div>
                <div class="col-9">
                  <input type="text" class="form-control" [(ngModel)]="memo" placeholder="EOS Tag" name="a" required />
                </div>
              </div>
              <!-- <div *ngIf="cryptoCurrency=='HCX'" class="form-group row">
              <div class="col-md-4 text-right">HCX Tag</div>
              <div class="col-md-8"><input type="text" class="form-control" [(ngModel)]="memo" placeholder="HCX Tag"
                  name="a" required></div>
            </div> -->
              <div class="form-group row">
                <div class="col-3 text-right">Amount</div>
                <div class="col-6">
                  <input
                    type="textbox"
                    class="form-control"
                    id="ercotherwallet"
                    [(ngModel)]="other_amount"
                    placeholder="0.00"
                    step="0.1"
                    name="b"
                    #b="ngModel"
                    (focus)="show = true"
                    (keyup)="rateHcxErc(); checkAmoutPrecision(cryptoCurrency, other_amount, 'EXTERNAL')"
                  />
                </div>
                <div class="col-3 maxamount">
                  <button class="btn btn-success maxsendamountforerc" (click)="MaxSendAmountForErc()">Max</button>
                </div>
              </div>
              <div class="form-group row">
                <div class="col-3"></div>
                <div class="col-9 text-left" *ngIf="!flag">
                  <!-- <button class="btn btn-success submitbtn" (click)="transactionSendForOthersErc(openmodal); modal.close()" style="display: block" [disabled]="f.form.invalid || f.form.pristine">
                    Submit
                  </button> -->
                  <button class="btn btn-success submitbtn" (click)="handleOpenTwoFactorModal(twoFactorAuth,true,true); modal.close()" style="display: block" [disabled]="f.form.invalid || f.form.pristine">
                    Submit
                  </button>
                </div>
                <div class="col-9 text-left" *ngIf="flag">
                  <button class="btn btn-success submitbtn" id="sclaimer" (click)="handleOpenTwoFactorModal(twoFactorAuth,true,false); modal.close()" style="display: none" [disabled]="f.form.invalid || f.form.pristine">
                    Submit
                  </button>
                </div>
              </div>
              <div class="text-primary text-left" *ngIf="cryptoCurrency != 'triggers'">
                <h5>Estimated Network Fee {{ networkfee }}</h5>
                <p>
                  <small>
                    <small style="font-size: 15px"
                      >Minimum of <img src="{{ data.ASSETICONBASEURL + cryptoCurrency + '.png' }}" width="20" style="padding-right: 5px" alt="" />{{ minValueCoin }} and Maximum
                      <img src="{{ data.ASSETICONBASEURL + cryptoCurrency + '.png' }}" width="20" style="padding-right: 5px" alt="" />{{ maxValueCoin }} can be sent.</small
                    >
                    <p style="font-size: 15px" *ngIf="sendisclaimerBtc != ''">{{ sendDisclaimerCoin }}</p>
                  </small>
                  <!--   <small *ngIf="cryptoCurrency =='BTC'">
                    <small style="font-size:15px;">Minimum of <img
                        src="{{data.ASSETICONBASEURL+cryptoCurrency+'.png'}}" width="20"
                        style="padding-right: 5px;" alt="" />{{minvalueBtc}} and Maximum <img
                        src="{{data.ASSETICONBASEURL+cryptoCurrency+'.png'}}" width="20"
                        style="padding-right: 5px;" alt="" />{{maxvalueBtc}} can be sent.</small>
                    <p style="font-size:15px;" *ngIf="sendisclaimerBtc !=''"> {{sendisclaimerBtc}} </p>
                  </small>
                  <small *ngIf="cryptoCurrency == 'ETH'">
                    <small style="font-size: 15px"
                      >Minimum of
                      <img
                        src="{{
                          data.ASSETICONBASEURL + cryptoCurrency + '.png'
                        }}"
                        width="20"
                        style="padding-right: 5px"
                        alt=""
                      />{{ minvalueEth }} and Maximum
                      <img
                        src="{{
                          data.ASSETICONBASEURL + cryptoCurrency + '.png'
                        }}"
                        width="20"
                        style="padding-right: 5px"
                        alt=""
                      />{{ maxvalueEth }} can be sent.</small
                    >
                    <p
                      style="font-size: 15px; margin-top: 5px"
                      *ngIf="sendisclaimerEth != ''"
                    >
                      {{ sendisclaimerEth }}
                    </p>
                  </small>
                  <small *ngIf="cryptoCurrency == 'BCH'">
                    <small style="font-size: 15px"
                      >Minimum of
                      <img
                        src="{{
                          data.ASSETICONBASEURL + cryptoCurrency + '.png'
                        }}"
                        width="20"
                        style="padding-right: 5px"
                        alt=""
                      />
                      {{ minvalueBch }} and Maximum
                      <img
                        src="{{
                          data.ASSETICONBASEURL + cryptoCurrency + '.png'
                        }}"
                        width="20"
                        style="padding-right: 5px"
                        alt=""
                      />{{ maxvalueBch }} can be send.</small
                    >
                    <p
                      style="font-size: 15px; margin-top: 5px"
                      *ngIf="sendisclaimerBch != ''"
                    >
                      {{ sendisclaimerBch }}
                    </p>
                  </small>
                  <small *ngIf="cryptoCurrency == 'LTC'">
                    <small style="font-size: 15px; padding-bottom: 5px"
                      >Minimum of
                      <img
                        src="{{
                          data.ASSETICONBASEURL + cryptoCurrency + '.png'
                        }}"
                        width="20"
                        style="padding-right: 5px"
                        alt=""
                      />
                      {{ minvalueLtc }} and Maximum
                      <img
                        src="{{
                          data.ASSETICONBASEURL + cryptoCurrency + '.png'
                        }}"
                        width="20"
                        style="padding-right: 5px"
                        alt=""
                      />{{ maxvalueLtc }} can be send.</small
                    >
                    <p
                      style="font-size: 15px; margin-top: 5px"
                      *ngIf="sendisclaimerLtc != ''"
                    >
                      {{ sendisclaimerLtc }}
                    </p>
                  </small>
                  <small *ngIf="cryptoCurrency == 'USDT'">
                    <small style="font-size: 15px"
                      >Minimum of
                      <img
                        src="{{
                          data.ASSETICONBASEURL + cryptoCurrency + '.png'
                        }}"
                        width="20"
                        style="padding-right: 5px"
                        alt=""
                      />{{ minvalueUsdt }} and Maximum
                      <img
                        src="{{
                          data.ASSETICONBASEURL + cryptoCurrency + '.png'
                        }}"
                        width="20"
                        style="padding-right: 5px"
                        alt=""
                      />{{ maxvalueUsdt }} can be send.</small
                    >
                    <p style="font-size: 15px; margin-top: 5px">
                      {{ sendisclaimerUsdt }}
                    </p>
                  </small>
                  <small *ngIf="cryptoCurrency == 'DIAM'">
                    <small style="font-size: 15px"
                      >Minimum of
                      <img
                        src="{{
                          data.ASSETICONBASEURL + cryptoCurrency + '.png'
                        }}"
                        width="20"
                        style="padding-right: 5px"
                        alt=""
                      />{{ minvalueDiam }} and Maximum
                      <img
                        src="{{
                          data.ASSETICONBASEURL + cryptoCurrency + '.png'
                        }}"
                        width="20"
                        style="padding-right: 5px"
                        alt=""
                      />{{ maxvalueDiam }} can be send.</small
                    >
                    <p
                      style="font-size: 15px; margin-top: 5px"
                      *ngIf="sendisclaimerDiam != ''"
                    >
                      {{ sendisclaimerDiam }}
                    </p>
                  </small>
                  <small *ngIf="cryptoCurrency == 'HCX'">
                    <small style="font-size: 15px"
                      >Minimum of
                      <img
                        src="{{
                          data.ASSETICONBASEURL + cryptoCurrency + '.png'
                        }}"
                        width="20"
                        style="padding-right: 5px"
                        alt=""
                      />{{ minvalueHcx }} and Maximum
                      <img
                        src="{{
                          data.ASSETICONBASEURL + cryptoCurrency + '.png'
                        }}"
                        width="20"
                        style="padding-right: 5px"
                        alt=""
                      />{{ maxvalueHcx }} can be send.</small
                    >
                    <p
                      style="font-size: 15px; margin-top: 5px"
                      *ngIf="sendisclaimerHcx != ''"
                    >
                      {{ sendisclaimerHcx }}
                    </p>
                  </small>
                  <small *ngIf="cryptoCurrency == 'HBAR'">
                    <small style="font-size: 15px"
                      >Minimum of
                      <img
                        src="{{
                          data.ASSETICONBASEURL + cryptoCurrency + '.png'
                        }}"
                        width="20"
                        style="padding-right: 5px"
                        alt=""
                      />{{ minvalueHbar }} and Maximum
                      <img
                        src="{{
                          data.ASSETICONBASEURL + cryptoCurrency + '.png'
                        }}"
                        width="20"
                        style="padding-right: 5px"
                        alt=""
                      />{{ maxvalueHbar }} can be send.</small
                    >
                    <p style="font-size: 15px" *ngIf="sendisclaimerHbar != ''">
                      {{ sendisclaimerHbar }}
                    </p>
                  </small>
                  <small *ngIf="cryptoCurrency == 'BAT'">
                    <small style="font-size: 15px"
                      >Minimum of
                      <img
                        src="{{
                          data.ASSETICONBASEURL + cryptoCurrency + '.png'
                        }}"
                        width="20"
                        style="padding-right: 5px"
                        alt=""
                      />{{ minvalueBat }} and Maximum
                      <img
                        src="{{
                          data.ASSETICONBASEURL + cryptoCurrency + '.png'
                        }}"
                        width="20"
                        style="padding-right: 5px"
                        alt=""
                      />{{ maxvalueBat }} can be send.</small
                    >
                    <p
                      style="font-size: 15px; margin-top: 5px"
                      *ngIf="sendisclaimerBat != ''"
                    >
                      {{ sendisclaimerBat }}
                    </p>
                  </small>
                  <small *ngIf="cryptoCurrency == 'LINK'">
                    <small style="font-size: 15px"
                      >Minimum of
                      <img
                        src="{{
                          data.ASSETICONBASEURL + cryptoCurrency + '.png'
                        }}"
                        width="20"
                        style="padding-right: 5px"
                        alt=""
                      />{{ minvalueLink }} and Maximum
                      <img
                        src="{{
                          data.ASSETICONBASEURL + cryptoCurrency + '.png'
                        }}"
                        width="20"
                        style="padding-right: 5px"
                        alt=""
                      />{{ maxvalueLink }} can be send.</small
                    >
                    <p
                      style="font-size: 15px; margin-top: 5px"
                      *ngIf="sendisclaimerLink != ''"
                    >
                      {{ sendisclaimerLink }}
                    </p>
                  </small>
                  <small *ngIf="cryptoCurrency =='XRP'">
                    <small style="font-size:15px;">Minimum of <img
                        src="{{data.ASSETICONBASEURL+cryptoCurrency+'.png'}}" width="20"
                        style="padding-right: 5px;" alt="" />{{minvalueXrp}} and Maximum <img
                        src="{{data.ASSETICONBASEURL+cryptoCurrency+'.png'}}" width="20"
                        style="padding-right: 5px;" alt="" />{{maxvalueXrp}} can be send.</small>
                    <p style="font-size:15px;margin-top: 5px;" *ngIf="sendisclaimerXrp !=''"> {{sendisclaimerXrp}} </p>
                  </small> -->
                </p>
                <p style="color:#fff;">Notice: For the safety of your assets, please make sure the transfer network is {{network}}. If the network does not match, your assets will be lost and cannot be recovered.</p>
                <p></p>
              </div>
              <div class="text-primary text-left" *ngIf="cryptoCurrency == 'triggers'">
                <h5 style="cursor: pointer"><u> Disclaimer </u></h5>
                <div class="table-responsive-sm col-md-12">
                  <p>Counterparty Blockchain Network fee is 0.0002 BTC per Triggers at minimum for send operation.</p>
                  <p>Please ensure that you have sufficient BTC balance in your wallet</p>
                  <p>Counterparty Blockchain may take upto 3 days to confirm a transaction.</p>
                </div>
                <div class="modal-footer">
                  <div class="mr-auto text-dark">I Agree:</div>
                  <div>
                    <span class="text-white font-weight-bold font-sm"><input type="checkbox" id="disclaim" (click)="myFunction()" /></span>
                  </div>
                </div>
              </div>
            </form>
          </ng-template>
        </ngb-tab>
      </ngb-tabset>
    </div>
  </div>
</ng-template>

<ng-template #rcvCode let-modal>
  <div id="myDiv" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <div *ngIf="cryptoCurrency == 'HCX'; else anothercurrency" class="modal-header sendreceive-wallet">
      <h4 class="modal-title" id="modal-basic-title">Receive code for {{ cryptoCurrency | uppercase }} Native</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <ng-template #anothercurrency>
      <div class="modal-header sendreceive-wallet">
        <h4 class="modal-title" id="modal-basic-title">Receive code for {{ cryptoCurrency | uppercase }}</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    </ng-template>
    <div class="modal-body text-center send-wallet">
      <div *ngIf="!rcv" class="text-center">
        <i class="fa fa-circle-o-notch fa-spin fa-5x fa-fw"></i>
      </div>
      <div *ngIf="rcv">
        <div *ngIf="rcv != 0">
          <!-- <div *ngIf="cryptoCurrency == 'XRP'">
            <h4 class="modal-title">XRP Tag</h4>
            <input type="text" class="form-control" [value]="xrptag" #xrpID readonly />
            <button class="btn btn-primary m-3" (click)="copy(xrpID)">Copy</button>
          </div>
          <div *ngIf="cryptoCurrency == 'DIAM'">
            <h4 class="modal-title">DIAM Tag</h4>
            <input type="text" class="form-control" [value]="diamtag" #diamID readonly />
            <button class="btn btn-primary m-3" (click)="copy(diamID)">Copy</button>
          </div>
          <div *ngIf="cryptoCurrency == 'HCX'">
            <h4 class="modal-title">HCX Tag</h4>
            <input type="text" class="form-control" [value]="hcxtag" #hcxID readonly />
            <button class="btn btn-primary m-3" (click)="copy(hcxID)">Copy</button>
          </div>
          <div *ngIf="cryptoCurrency == 'CAR'">
            <h4 class="modal-title">CAR Tag</h4>
            <input type="text" class="form-control" [value]="cartag" #carID readonly />
            <button class="btn btn-primary m-3" (click)="copy(carID)">Copy</button>
          </div>
          <div *ngIf="cryptoCurrency == 'XLM'">
            <h4 class="modal-title">XLM Tag</h4>
            <input type="text" class="form-control" [value]="xlmtag" #xlmID readonly />
            <button class="btn btn-primary m-3" (click)="copy(xlmID)">Copy</button>
          </div> -->
          <div *ngIf="coinTag != null">
            <h4 class="modal-title">{{cryptoCurrency | uppercase}} Tag</h4>
            <input type="text" class="form-control" [value]="coinTag" #tagId readonly />
            <button class="btn btn-primary m-3" (click)="copy(tagId)">Copy</button>
          </div>

          <input type="text" class="form-control" [value]="rcv" #myId readonly />
          <button class="btn btn-primary m-3" (click)="copy(myId)">Copy</button>
          <div class="p-3" id="qrcd">
            <qrcode [qrdata]="rcv" [size]="256" [level]="'M'"></qrcode>
          </div>
        </div>
        <div *ngIf="rcv == 0">
          <h3 class="text-center">Coming Soon...</h3>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #rcvCodeModal let-modal>
  <div id="myDiv" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <div *ngIf="cryptoCurrency == 'HCX'; else anothercurrency" class="modal-header sendreceive-wallet" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
      <h4 class="modal-title" id="modal-basic-title">Deposit {{ cryptoCurrency | uppercase }} Native</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <ng-template #anothercurrency>
      <div class="modal-header sendreceive-wallet" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
        <h4 class="modal-title" id="modal-basic-title">Deposit {{ cryptoCurrency | uppercase }}</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    </ng-template>
    <!-- <div *ngIf="cryptoCurrency=='USDT';else btccurrency" class="modal-body text-center send-wallet">
      <div class="table-responsive-sm col-md-12">
        <small>
          <small style="font-size: 15px"
            ><img
              src="{{ data.ASSETICONBASEURL + cryptoCurrency + '.png' }}"
              width="40"
              alt=""
          /></small>
        </small>
        <h4 style="margin-top: 10px">
          Only send {{ cryptoCurrency }} to this address
        </h4>
        <p>Sending any other cryptoCurrency will result in permanent loss</p>
      </div>
    </div> -->
    <div class="modal-body text-center send-wallet" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
      <div class="table-responsive-sm col-md-12">
        <small>
          <small style="font-size: 15px"><img src="{{ data.ASSETICONBASEURL + cryptoCurrency + '.png' }}" width="40" alt="" /></small>
        </small>
        <h4 style="margin-top: 10px">Only send {{ currencyFullName }} ({{ cryptoCurrency }}) to this address</h4>
        <p>Sending any other cryptocurrency will result in permanent loss</p>
      </div>
    </div>
    <!-- <ng-template #btccurrency>
      <div *ngIf="cryptoCurrency=='BTC';else bchcurrency" class="modal-body text-center send-wallet">
        <div class="table-responsive-sm col-md-12">
          <small>
            <small style="font-size: 15px"
              ><img
                src="{{
                  data.ASSETICONBASEURL + cryptoCurrency + '.png'
                }}"
                width="40"
                alt=""
            /></small>
          </small>
          <h4 style="margin-top: 10px">
            Only send Bitcoin ({{ cryptoCurrency }}) to this address
          </h4>
          <p>Sending any other cryptoCurrency will result in permanent loss</p>
        </div>
      </div>
    </ng-template>

    <ng-template #bchcurrency>
      <div
        *ngIf="cryptoCurrency == 'BCH'; else ltccurrency"
        class="modal-body text-center send-wallet"
      >
        <div class="table-responsive-sm col-md-12">
          <small>
            <small style="font-size: 15px"
              ><img
                src="{{
                  data.ASSETICONBASEURL + cryptoCurrency + '.png'
                }}"
                width="40"
                alt=""
            /></small>
          </small>
          <h4 style="margin-top: 10px">
            Only send Bitcoin Cash ({{ cryptoCurrency }}) to this address
          </h4>
          <p>Sending any other cryptoCurrency will result in permanent loss</p>
        </div>
      </div>
    </ng-template>

    <ng-template #ltccurrency>
      <div
        *ngIf="cryptoCurrency == 'LTC'; else xrpcurrency"
        class="modal-body text-center send-wallet"
      >
        <div class="table-responsive-sm col-md-12">
          <small>
            <small style="font-size: 15px"
              ><img
                src="{{
                  data.ASSETICONBASEURL + cryptoCurrency + '.png'
                }}"
                width="40"
                alt=""
            /></small>
          </small>
          <h4 style="margin-top: 10px">
            Only send Litecoin ({{ cryptoCurrency }}) to this address
          </h4>
          <p>Sending any other cryptoCurrency will result in permanent loss</p>
        </div>
      </div>
    </ng-template>

    <ng-template #xrpcurrency>
      <div
        *ngIf="cryptoCurrency == 'XRP'; else batcurrency"
        class="modal-body text-center send-wallet"
      >
        <div class="table-responsive-sm col-md-12">
          <small>
            <small style="font-size: 15px"
              ><img
                src="{{
                  data.ASSETICONBASEURL + cryptoCurrency + '.png'
                }}"
                width="40"
                alt=""
            /></small>
          </small>
          <h4 style="margin-top: 10px">
            Only send Ripple ({{ cryptoCurrency }}) to this address
          </h4>
          <p>Sending any other cryptoCurrency will result in permanent loss</p>
        </div>
      </div>
    </ng-template>

    <ng-template #batcurrency>
      <div
        *ngIf="cryptoCurrency == 'BAT'; else kickscurrency"
        class="modal-body text-center send-wallet"
      >
        <div class="table-responsive-sm col-md-12">
          <small>
            <small style="font-size: 15px"
              ><img
                src="{{
                  data.ASSETICONBASEURL + cryptoCurrency + '.png'
                }}"
                width="40"
                alt=""
            /></small>
          </small>
          <h4 style="margin-top: 10px">
            Only send Basic Attention Token ({{ cryptoCurrency }}) to this
            address
          </h4>
          <p>Sending any other cryptoCurrency will result in permanent loss</p>
        </div>
      </div>
    </ng-template>

    <ng-template #kickscurrency>
      <div
        *ngIf="cryptoCurrency == 'KICKS'; else ETHcurrency"
        class="modal-body text-center send-wallet"
      >
        <div class="table-responsive-sm col-md-12">
          <small>
            <small style="font-size: 15px"
              ><img
                src="{{
                  data.ASSETICONBASEURL + cryptoCurrency + '.png'
                }}"
                width="40"
                alt=""
            /></small>
          </small>
          <h4 style="margin-top: 10px">
            Only send SESSIA ({{ cryptoCurrency }}) to this address
          </h4>
          <p>Sending any other cryptoCurrency will result in permanent loss</p>
        </div>
      </div>
    </ng-template>

    <ng-template #ETHcurrency>
      <div
        *ngIf="cryptoCurrency == 'ETH'; else linkcurrency"
        class="modal-body text-center send-wallet"
      >
        <div class="table-responsive-sm col-md-12">
          <small>
            <small style="font-size: 15px"
              ><img
                src="{{
                  data.ASSETICONBASEURL + cryptoCurrency + '.png'
                }}"
                width="40"
                alt=""
            /></small>
          </small>
          <h4 style="margin-top: 10px">
            Only send Ethereum ({{ cryptoCurrency }}) to this address
          </h4>
          <p>Sending any other cryptoCurrency will result in permanent loss</p>
        </div>
      </div>
    </ng-template>

    <ng-template #linkcurrency>
      <div
        *ngIf="cryptoCurrency == 'LINK'; else adacurrency"
        class="modal-body text-center send-wallet"
      >
        <div class="table-responsive-sm col-md-12">
          <small>
            <small style="font-size: 15px"
              ><img
                src="{{
                  data.ASSETICONBASEURL + cryptoCurrency + '.png'
                }}"
                width="40"
                alt=""
            /></small>
          </small>
          <h4 style="margin-top: 10px">
            Only send Chainlink ({{ cryptoCurrency }}) to this address
          </h4>
          <p>Sending any other cryptoCurrency will result in permanent loss</p>
        </div>
      </div>
    </ng-template>
    <ng-template #adacurrency>
      <div
        *ngIf="cryptoCurrency == 'ADA'; else solcurrency"
        class="modal-body text-center send-wallet"
      >
        <div class="table-responsive-sm col-md-12">
          <small>
            <small style="font-size: 15px"
              ><img
                src="{{
                  data.ASSETICONBASEURL + cryptoCurrency + '.png'
                }}"
                width="40"
                alt=""
            /></small>
          </small>
          <h4 style="margin-top: 10px">
            Only send Cardano ({{ cryptoCurrency }}) to this address
          </h4>
          <p>Sending any other cryptoCurrency will result in permanent loss</p>
        </div>
      </div>
    </ng-template>
    <ng-template #solcurrency>
      <div
        *ngIf="cryptoCurrency == 'SOL'; else xlmcurrency"
        class="modal-body text-center send-wallet"
      >
        <div class="table-responsive-sm col-md-12">
          <small>
            <small style="font-size: 15px"
              ><img
                src="{{
                  data.ASSETICONBASEURL + cryptoCurrency + '.png'
                }}"
                width="40"
                alt=""
            /></small>
          </small>
          <h4 style="margin-top: 10px">
            Only send Solana ({{ cryptoCurrency }}) to this address
          </h4>
          <p>Sending any other cryptoCurrency will result in permanent loss</p>
        </div>
      </div>
    </ng-template>
    <ng-template #xlmcurrency>
      <div
        *ngIf="cryptoCurrency == 'XLM'; else carcurrency"
        class="modal-body text-center send-wallet"
      >
        <div class="table-responsive-sm col-md-12">
          <small>
            <small style="font-size: 15px"
              ><img
                src="{{
                  data.ASSETICONBASEURL + cryptoCurrency + '.png'
                }}"
                width="40"
                alt=""
            /></small>
          </small>
          <h4 style="margin-top: 10px">
            Only send XLM ({{ cryptoCurrency }}) to this address
          </h4>
          <p>Sending any other cryptoCurrency will result in permanent loss</p>
        </div>
      </div>
    </ng-template>
    <ng-template #carcurrency>
      <div
        *ngIf="cryptoCurrency == 'CAR'"
        class="modal-body text-center send-wallet"
      >
        <div class="table-responsive-sm col-md-12">
          <small>
            <small style="font-size: 15px"
              ><img
                src="{{
                  data.ASSETICONBASEURL + cryptoCurrency + '.png'
                }}"
                width="40"
                alt=""
            /></small>
          </small>
          <h4 style="margin-top: 10px">
            Only send Carrera ({{ cryptoCurrency }}) to this address
          </h4>
          <p>Sending any other cryptoCurrency will result in permanent loss</p>
        </div>
      </div>
    </ng-template> -->

    <div style="padding: 0 20px 20px">
      <button style="text-align: center; width: 100%" type="button" class="btn btn-primary" (click)="getCurrencyForRecieveNative(rcvCode, cryptoCurrency, currencyID); modal.close()">
        I Understand
      </button>
    </div>
  </div>
</ng-template>

<ng-template #rcvCodeModalhcx let-modal>
  <div id="myDiv" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <div *ngIf="cryptoCurrency == 'HCX'; else anothercurrency" class="modal-header sendreceive-wallet" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
      <h4 class="modal-title" id="modal-basic-title">Deposit {{ cryptoCurrency | uppercase }}</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <ng-template #anothercurrency>
      <div class="modal-header sendreceive-wallet">
        <h4 class="modal-title" id="modal-basic-title">Deposit {{ cryptoCurrency | uppercase }}</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    </ng-template>
    <div class="modal-body text-center send-wallet" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
      <div class="table-responsive-sm col-md-12">
        <small>
          <small style="font-size: 15px"><img src="{{ data.ASSETICONBASEURL + cryptoCurrency + '.png' }}" width="40" alt="" /></small>
        </small>
        <h4 style="margin-top: 10px">Only send {{ cryptoCurrency }} ({{ cryptoCurrency }}) to this address</h4>
        <p>Sending any other cryptocurrency will result in permanent loss</p>
      </div>
    </div>
    <div style="padding: 0 20px 20px">
      <button style="text-align: center; width: 100%" type="button" class="btn btn-primary" (click)="getCurrencyForRecieveErc(rcvCodehcx, cryptoCurrency, currencyID); modal.close()">
        I Understand
      </button>
    </div>
  </div>
</ng-template>

<ng-template #ercasset let-modal>
  <div id="myDiv" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <div class="modal-header sendreceive-wallet">
      <h4 class="modal-title" id="modal-basic-title">Receive code for {{ cryptoCurrency | uppercase }} ERC</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body text-center send-wallet">
      <div *ngIf="!rcv" class="text-center">
        <i class="fa fa-circle-o-notch fa-spin fa-5x fa-fw"></i>
      </div>
      <div *ngIf="rcv">
        <div *ngIf="rcv != 0">
          <input type="text" class="form-control" [value]="rcv" #myId readonly />
          <button class="btn btn-primary m-3" (click)="copy(myId)">Copy</button>
          <div class="p-3" id="qrcd">
            <qrcode [qrdata]="rcv" [size]="256" [level]="'M'"></qrcode>
          </div>
        </div>
        <div *ngIf="rcv == 0">
          <h3 class="text-center">Coming Soon...</h3>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #networkFee let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Network Fee</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="table-responsive-sm col-md-12">
      <table class="table table-sm table-hover">
        <thead>
          <tr class="text-blue">
            <th scope="col">From</th>
            <th scope="col">To</th>
            <th scope="col">Rate</th>
          </tr>
        </thead>
        <tbody id="network_fee_data">
          <tr *ngIf="!rateList">
            <td colspan="3" class="text-center">Loading...</td>
          </tr>
          <tr *ngFor="let r of rateList">
            <td>{{ r.fromFee }} {{ cryptoCurrency | uppercase }}</td>
            <td>{{ r.toFee }} {{ cryptoCurrency | uppercase }}</td>
            <!-- <td *ngIf="cryptoCurrency=='HBAR' || cryptoCurrency=='BAT' || cryptoCurrency=='LINK' || cryptoCurrency=='USDT'; else crycurrncy" >{{r.feeRate}} ETH</td> -->
            <!-- <ng-template #crycurrncy> -->
            <td>{{ r.feeRate }} {{ cryptoCurrency | uppercase }}</td>
            <!-- </ng-template> -->
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modal.close('Close click')">Close</button>
  </div>
</ng-template>
<ng-template #trigger let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Network Fee</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <form id="uc-disclaimer-form">
    <div class="modal-body">
      <div class="table-responsive-sm col-md-12">
        <p>Counterparty Blockchain Network fee is 0.0002 BTC per Triggers at minimum for send operation.</p>
        <p>Please ensure that you have sufficient BTC balance in your wallet</p>
        <p>Counterparty Blockchain may take upto 3 days to confirm a transaction.</p>
      </div>
    </div>
    <div class="modal-footer">
      <div class="mr-auto text-dark">Agree:</div>
      <div>
        <span class="text-white font-weight-bold font-sm"><input type="checkbox" id="disclaim" (click)="myFunction()" /></span>
      </div>
    </div>
    <div>
      <button type="button" class="btn btn-secondary" (click)="modal.close()">Ok</button>
    </div>
  </form>
</ng-template>
<!-- swap modal -->

<ng-template #swap let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Token Swap Agreement</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <object data="./assets/swap_terms.html" type="text/html" style="width: 100%; height: 29em"></object>
    <input type="checkbox" id="accept" [(ngModel)]="accept" />
    <label for="accept" class="text-dark">&nbsp;&nbsp;I accept terms and conditions for token swapping.</label>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modal.close()">Cancel</button>
    <button type="button" class="btn btn-success" (click)="swapCurrency(); modal.close()" [disabled]="!accept">Swap</button>
  </div>
</ng-template>
<!-- <ng-template #openmodal let-modal>
  <div class="modal-header">
  </div>
  <div class="modal-body text-center">
    <div  class="text-center">
      <i ></i>
    </div>
    <div>
      <h6 class="batchmsg">SEND IS IN PROCESS AND WILL BE CLONE IN NEXT BATCH</h6>
    </div>
  </div>
  <div class="modal-footer">
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
          <span aria-hidden="true">&times;</span>
        </button>
  </div>
</ng-template> -->

<ng-template #rcvCodehcx let-modal>
  <div class="modal-header1 test proper-alighnment-header">
    <button type="button" class="close1 sendotherclosemodal" aria-label="Close" (click)="modal.dismiss()">
      <span aria-hidden="true">&times;</span>
    </button>
    <div class="modal-body1 text-center">
      <div class="text-center">
        <i></i>
      </div>
      <div class="hcxnativercv">
        <h6 class="batchmsg">Do you want to generate HCX NATIVE Address?</h6>
        <a class="text-green hcxnativebtn" (click)="getCurrencyForRecieveNative(rcvCode, cryptoCurrency, currencyID)" href="javascript:void(0);">HCX NATIVE ADDRESS</a>
      </div>
      <div>
        <h6 class="batchmsg">Do you want to generate HCX ERC Address?</h6>
        <a class="text-green hcxnativebtn" (click)="getCurrencyForRecieveErc(ercasset, cryptoCurrency, currencyID)" href="javascript:void(0);">HCX ERC ADDRESS</a>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #sendhcx let-modal>
  <div class="modal-header1 test proper-alighnment-header">
    <button type="button" class="close1 sendotherclosemodal" aria-label="Close" (click)="modal.dismiss()">
      <span aria-hidden="true">&times;</span>
    </button>

    <div class="modal-body1 text-center">
      <div class="text-center">
        <i></i>
      </div>
      <div class="hcxnativercv">
        <h6 class="batchmsg">Do you want to send HCX Native?</h6>
        <a *ngIf="cryptoCurrency == 'HCX'" class="text-green hcxnativebtn" (click)="getCurrencyForSend(sendmd, cryptoCurrency, balance, currencyId,'hcxNative')" href="javascript:void(0);">HCX NATIVE</a>
      </div>
      <div>
        <h6 class="batchmsg">Do you want to send HCX ERC?</h6>
        <a *ngIf="cryptoCurrency == 'HCX'" class="text-green hcxnativebtn" (click)="getCurrencyForSend(senderctoken, cryptoCurrency, balance, currencyId,'NA')" href="javascript:void(0);">HCX ERC</a>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #senbuy let-modal>
  <div class="modal-header payment-gateway">
    <h4 class="modal-title" id="modal-basic-title">BUY {{ cryptoCurrency }}</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss(); reset()">
      <span aria-hidden="true">&times;</span>
    </button>

    <div class="modal-body text-center">
      <ngb-tabset>
        <ngb-tab style="margin-left: 35%" title="Broker Wallet" *ngIf="cryptoCurrency != 'triggers'">
          <ng-template ngbTabContent>
            <!-- <div>
          <p>you are Going to close about 10 seconds.</p>
        </div> -->
            <div class="col-12 col-md-4 text-left">
              <label for="inputBuyUSD" class="col-form-label">Quantity</label>
            </div>
            <div *ngIf="cryptoCurrency == 'USDT'; else otherCurrency" class="col-12 col-md-12">
              <div class="input-group">
                <input
                  numeric
                  numericType="decimal"
                  class="form-control form-control-sm rounded"
                  id="inputOnlyBuyAmount"
                  placeholder="0"
                  [(ngModel)]="onlyBuyAmount"
                  (keyup)="getUsdtBuyVal($event)"
                  #bam="ngModel"
                  [class.is-invalid]="bam.dirty && bam.invalid"
                />
              </div>
            </div>
            <ng-template #otherCurrency>
              <div class="col-12 col-md-12">
                <div class="input-group">
                  <input
                    numeric
                    numericType="decimal"
                    class="form-control form-control-sm rounded"
                    id="inputOnlyBuyAmount"
                    placeholder="0"
                    [(ngModel)]="onlyBuyAmount"
                    (keyup)="getBuyVal($event)"
                    #bam="ngModel"
                    [class.is-invalid]="bam.dirty && bam.invalid"
                  />
                </div>
              </div>
            </ng-template>
            <div class="col-12 col-md-4 text-left">
              <label for="inputBuyUSD" class="col-form-label">Unit Price (INR)</label>
            </div>
            <div class="col-12 col-md-12">
              <div class="input-group">
                <input numeric numericType="decimal" class="form-control form-control-sm rounded" id="inputOnlyBuyPrice" placeholder="0" [(ngModel)]="onlyBuyPrice" readonly />
              </div>
            </div>
            <div class="col-12 col-md-4 text-left">
              <label for="inputBuyUSD" class="col-form-label">Total Price (INR)</label>
            </div>
            <div class="col-12 col-md-12">
              <div class="input-group mb-2">
                <input numeric numericType="decimal" class="form-control form-control-sm rounded" id="inputOnlyBuyTotalPrice" placeholder="0" [(ngModel)]="onlyBuyTotalPrice" disabled />
              </div>
            </div>
            <div class="form-group row">
              <div class="col-md-4"></div>
              <div class="col-md-8 text-left">
                <button class="btn btn-success" id="rzp-button1" (click)="initPay(); modal.close(); reset()">Submit</button>
              </div>
            </div>

            <div class="form-row mt-2 mb-2">
              <div class="col-12 col-md-8 offset-md-4">
                <div class="small">
                  <span> {{ txncharge }}% card payment fees will be charged on this transaction </span>
                </div>
              </div>
            </div>
          </ng-template>
        </ngb-tab>
      </ngb-tabset>
    </div>
  </div>

  <div class="modal-footer"></div>
</ng-template>

<ng-template #cryptomargin let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <h4 class="modal-title">Transfer To Spot</h4>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <div class="row form-group">
      <div class="col-4">Amount available:</div>
      <div class="col">
        <input type="number" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="amount" [(ngModel)]="amount" readonly />
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCur }}</span>
      </div>
    </div>
    <div class="row">
      <div class="col-4">Send amount:</div>
      <div class="col">
        <input type="number" appIsnegative min="0" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="send_amount" [(ngModel)]="send_amount" (keyup)="data.handleNumberFieldValidation($event)" (change)="data.handleNumberFieldValidation($event)"/>
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCur }}</span>
      </div>
    </div>
  </div>
  <div class="modal-footer" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <button class="btn btn-secondary" (click)="modal.close(); reset()">Close</button>
    <button
      type="button"
      class="btn btn-primary"
      data-dismiss="modal"
      *ngIf="send_amount && send_amount <= amount "
      (click)="fiatholdingPrice(); modal.close()"
    >
      Send
    </button>
  </div>
</ng-template>

<ng-template #fiatholdingmargin let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <h4 class="modal-title">Transfer To Spot</h4>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <div class="row form-group">
      <div class="col-4">Amount available:</div>
      <div class="col">
        <input type="number" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="amount" [(ngModel)]="amount" readonly />
      </div>
      <div class="col-2"><span class="curc">USD</span></div>
    </div>
    <div class="row">
      <div class="col-4">Send amount:</div>
      <div class="col">
        <input type="number" appIsnegative min="0" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="send_amount" [(ngModel)]="send_amount" (keyup)="data.handleNumberFieldValidation($event)" (change)="data.handleNumberFieldValidation($event)"/>
      </div>
      <div class="col-2"><span class="curc">USD</span></div>
    </div>
  </div>
  <div class="modal-footer" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <button class="btn btn-secondary" (click)="modal.close(); reset()">Close</button>
    <button
      type="button"
      class="btn btn-primary"
      data-dismiss="modal"
      *ngIf="send_amount && send_amount <= amount "
      (click)="assetholdingPrice(); modal.close()"
    >
      Send
    </button>
  </div>
</ng-template>

<ng-template #marginfiath let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <h4 class="modal-title">Margin</h4>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <div class="row form-group">
      <div class="col-4">Amount available:</div>
      <div class="col">
        <input type="number" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="amount" [(ngModel)]="amount" readonly />
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
    <div class="row">
      <div class="col-4">Send amount:</div>
      <div class="col">
        <input type="number" appIsnegative min="0" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="send_amount" [(ngModel)]="send_amount" (keyup)="data.handleNumberFieldValidation($event)" (change)="data.handleNumberFieldValidation($event)"/>
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
  </div>
  <div class="modal-footer" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <button class="btn btn-secondary" (click)="modal.close(); reset()">Close</button>
    <button
      type="button"
      class="btn btn-primary"
      data-dismiss="modal"
      *ngIf="send_amount && send_amount <= amount "
      (click)="assetlendingPrice(); modal.close(); reset()"
    >
      Send
    </button>
  </div>
</ng-template>
<ng-template #marginfuture let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <h4 class="modal-title">Margin</h4>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <div class="row form-group">
      <div class="col-4">Amount available:</div>
      <div class="col">
        <input type="number" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="amount" [(ngModel)]="amount" readonly />
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
    <div class="row">
      <div class="col-4">Send amount:</div>
      <div class="col">
        <input type="number" appIsnegative class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="send_amount" [(ngModel)]="send_amount" min="0" (keyup)="data.handleNumberFieldValidation($event)" (change)="data.handleNumberFieldValidation($event)"/>
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
  </div>
  <div class="modal-footer" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <button class="btn btn-secondary" (click)="modal.close(); reset()">Close</button>
    <button 
      type="button"
      class="btn btn-primary" 
      data-dismiss="modal"
      *ngIf="send_amount && send_amount <= amount "
      (click)="assetlendingPriceForFuture(); modal.close(); reset()"
    >
      Send
    </button>
  </div>
</ng-template>
<ng-template #fundingfiath let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <h4 class="modal-title">Funding</h4>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <div class="row form-group">
      <div class="col-4">Amount available:</div>
      <div class="col">
        <input type="text" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="amount" [(ngModel)]="amount" readonly />
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
    <div class="row form-group">
      <div class="col-4">Send amount:</div>
      <div class="col">
        <input type="number" appIsnegative min="0" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="send_amount" [(ngModel)]="send_amount" (keyup)="data.handleNumberFieldValidation($event)" (change)="data.handleNumberFieldValidation($event)" />
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
    <div class="row form-group">
      <div class="col-4">Return Date:</div>
      <div class="col">
        <div class="input-group">
          <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="yyyy-mm-dd" name="dp" [(ngModel)]="model" [minDate]="minDate" ngbDatepicker #d="ngbDatepicker" />
          <!-- [minDate]="{year: year, month: month, day: day}"> -->
          <div class="input-group-append">
            <button name="toggleButton" class="btn btn-info" (click)="d.toggle()" type="button">
              <i class="fa fa-calendar" aria-hidden="true"></i>
            </button>
          </div>
        </div>
      </div>
      <div class="col-2">
        <!-- <span class="dtc"></span> -->
      </div>
    </div>
    <div class="modal-footer" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
      <button class="btn btn-secondary" (click)="modal.close(); reset()">Close</button>
      <button
        type="button"
        class="btn btn-success"
        data-dismiss="modal"
        (click)="assetfundBuy(); modal.close(); reset()"
        *ngIf="send_amount && send_amount <= amount "
      >
        Submit
      </button>
    </div>
  </div>
</ng-template>
<ng-template #fundingfiathfuture let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <h4 class="modal-title">Funding</h4>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <div class="row form-group">
      <div class="col-4">Amount available:</div>
      <div class="col">
        <input type="text" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="amount" [(ngModel)]="amount" readonly />
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
    <div class="row form-group">
      <div class="col-4">Send amount:</div>
      <div class="col">
        <input type="number" appIsnegative class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="send_amount" [(ngModel)]="send_amount" min="0" (keyup)="data.handleNumberFieldValidation($event)" (change)="data.handleNumberFieldValidation($event)"/>
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
    <div class="row form-group">
      <div class="col-4">Return Date:</div>
      <div class="col">
        <div class="input-group">
          <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="yyyy-mm-dd" name="dp" [(ngModel)]="model" [minDate]="minDate" ngbDatepicker #d="ngbDatepicker" />
          <!-- [minDate]="{year: year, month: month, day: day}"> -->
          <div class="input-group-append">
            <button name="toggleButton" class="btn btn-info" (click)="d.toggle()" type="button">
              <i class="fa fa-calendar" aria-hidden="true"></i>
            </button>
          </div>
        </div>
      </div>
      <div class="col-2">
        <!-- <span class="dtc"></span> -->
      </div>
    </div>
    <div class="modal-footer" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
      <button class="btn btn-secondary" (click)="modal.close(); reset()">Close</button>
      <button
        type="button"
        class="btn btn-success"
        data-dismiss="modal"
        (click)="assetfundBuyForFuture(); modal.close(); reset()"
        *ngIf="send_amount && send_amount <= amount "
      >
        Submit
      </button>
    </div>
  </div>
</ng-template>

<ng-template #assetmargin let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <h4 class="modal-title">Margin</h4>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <div class="row form-group">
      <div class="col-4">Amount available:</div>
      <div class="col">
        <input type="number" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="amount" [(ngModel)]="amount" readonly />
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
    <div class="row">
      <div class="col-4">Send amount:</div>
      <div class="col">
        <input type="number" appIsnegative min="0" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="send_amount" [(ngModel)]="send_amount" (keyup)="data.handleNumberFieldValidation($event)" (change)="data.handleNumberFieldValidation($event)"/>
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
  </div>
  <div class="modal-footer" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <button class="btn btn-secondary" (click)="modal.close(); reset()">Close</button>
    <button
      type="button"
      class="btn btn-primary"
      data-dismiss="modal"
      *ngIf="send_amount && send_amount <= amount "
      (click)="lendingPrice(); modal.close(); reset()"
    >
      Send
    </button>
  </div>
</ng-template>
<ng-template #assetmarginfuture let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <h4 class="modal-title">Margin</h4>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <div class="row form-group">
      <div class="col-4">Amount available:</div>
      <div class="col">
        <input type="number" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="amount" [(ngModel)]="amount" readonly />
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
    <div class="row">
      <div class="col-4">Send amount:</div>
      <div class="col">
        <input type="number" appIsnegative class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="send_amount" [(ngModel)]="send_amount" min="0" (keyup)="data.handleNumberFieldValidation($event)" (change)="data.handleNumberFieldValidation($event)"/>
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
  </div>
  <div class="modal-footer" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <button class="btn btn-secondary" (click)="modal.close(); reset()">Close</button>
    <button
      type="button"
      class="btn btn-primary"
      data-dismiss="modal"
      *ngIf="send_amount && send_amount <= amount "
      (click)="lendingPriceForFuture(); modal.close(); reset()"
    >
      Send
    </button>
  </div>
</ng-template>
<ng-template #assetfunding let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <h4 class="modal-title">Funding</h4>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <div class="row form-group">
      <div class="col-4">Amount available:</div>
      <div class="col">
        <input type="text" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="amount" [(ngModel)]="amount" readonly />
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
    <div class="row form-group">
      <div class="col-4">Send amount:</div>
      <div class="col">
        <input type="number" appIsnegative min="0" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="send_amount" [(ngModel)]="send_amount" (keyup)="data.handleNumberFieldValidation($event)" (change)="data.handleNumberFieldValidation($event)"/>
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
    <div class="row form-group">
      <div class="col-4">Return Date:</div>
      <div class="col">
        <div class="input-group">
          <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="yyyy-mm-dd" [minDate]="minDate" name="dp" [(ngModel)]="model" ngbDatepicker #d="ngbDatepicker" />
          <!-- [minDate]="{year: year, month: month, day: day}"> -->
          <div class="input-group-append">
            <button name="toggleButton" class="btn btn-info" (click)="d.toggle()" type="button">
              <i class="fa fa-calendar" aria-hidden="true"></i>
            </button>
          </div>
        </div>
      </div>
      <div class="col-2">
        <!-- <span class="dtc"></span> -->
      </div>
    </div>
    <div class="modal-footer" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
      <button class="btn btn-secondary" (click)="modal.close(); reset()">Close</button>
      <button
        type="button"
        class="btn btn-success"
        data-dismiss="modal"
        (click)="fundBuy(); modal.close(); reset()"
        *ngIf="send_amount && send_amount <= amount "
      >
        Submit
      </button>
    </div>
  </div>
</ng-template>
<ng-template #assetfundingfuture let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <h4 class="modal-title">Funding</h4>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <div class="row form-group">
      <div class="col-4">Amount available:</div>
      <div class="col">
        <input type="text" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="amount" [(ngModel)]="amount" readonly />
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
    <div class="row form-group" *ngIf="showDropDownForContract">
      <div class="col-4">Asset Pair:</div>
      <div class="col">
        <select class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="send_amount" [(ngModel)]="assetPairForFunding">
          <option value="">Select Asset Pair</option>
          <option *ngFor="let i of assetPairList" value="{{ i.assetPair }}">
            {{ i.assetPair }}
          </option>
        </select>
      </div>
    </div>
    <div class="row form-group">
      <div class="col-4">Send amount:</div>
      <div class="col">
        <input type="number" appIsnegative class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="send_amount" [(ngModel)]="send_amount" min="0" (keyup)="data.handleNumberFieldValidation($event)" (change)="data.handleNumberFieldValidation($event)"/>
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
    <div class="row form-group">
      <div class="col-4">Return Date:</div>
      <div class="col">
        <div class="input-group">
          <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="yyyy-mm-dd" [minDate]="minDate" name="dp" [(ngModel)]="model" ngbDatepicker #d="ngbDatepicker" />
          <!-- [minDate]="{year: year, month: month, day: day}"> -->
          <div class="input-group-append">
            <button name="toggleButton" class="btn btn-info" (click)="d.toggle()" type="button">
              <i class="fa fa-calendar" aria-hidden="true"></i>
            </button>
          </div>
        </div>
      </div>
      <div class="col-2">
        <!-- <span class="dtc"></span> -->
      </div>
    </div>
    <div class="modal-footer" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
      <button class="btn btn-secondary" (click)="modal.close(); reset()">Close</button>
      <button
        type="button"
        class="btn btn-success"
        data-dismiss="modal"
        (click)="fundBuyForFuture(); modal.close(); reset()"
        *ngIf="send_amount && send_amount <= amount "
      >
        Submit
      </button>
    </div>
  </div>
</ng-template>
<ng-template #fiathmodal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Customer Funding Details View</h4>
  </div>
  <div class="modal-body">
    <div class="row form-group">
      <table class="table table-striped" *ngIf="fdata.length > 0">
        <thead>
          <tr>
            <th scope="col">currencyName</th>
            <th scope="col">lendingDate</th>
            <th scope="col">returnDate</th>
            <th scope="col">amount</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let objfund of fdata; index as i">
            <td>{{ objfund.currencyName }}</td>
            <td>{{ objfund.lendingDate }}</td>
            <td>{{ objfund.returnDate }}</td>
            <td>{{ objfund.amount }}</td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="fdata.length == 0" class="no_data_alert">
        <ngb-alert [dismissible]="false">
          <strong>No Data Found </strong>
        </ngb-alert>
      </div>

      <div *ngIf="fdata == -1" class="no_data_alert">
        <ngb-alert [dismissible]="false">
          <strong>Please fill up all the field </strong>
        </ngb-alert>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" (click)="modal.close(); reset()">Close</button>
    </div>
  </div>
</ng-template>

<ng-template #popup let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Customer Funding Details View</h4>
  </div>
  <div class="modal-body">
    <div class="row form-group">
      <table class="table table-striped" *ngIf="fundingdata.length > 0">
        <thead>
          <tr>
            <th scope="col">currencyName</th>
            <th scope="col">lendingDate</th>
            <th scope="col">returnDate</th>
            <th scope="col">amount</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let objfund of fundingdata; index as i">
            <td *ngIf="objfund.currencyName != 'BCC'">
              {{ objfund.currencyName }}
            </td>
            <td *ngIf="objfund.currencyName == 'BCC'">BCH</td>
            <td>{{ objfund.lendingDate }}</td>
            <td>{{ objfund.returnDate }}</td>
            <td>{{ objfund.amount }}</td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="fundingdata.length == 0" class="no_data_alert">
        <ngb-alert [dismissible]="false">
          <strong>No Data Found </strong>
        </ngb-alert>
      </div>

      <div *ngIf="fundingdata == -1" class="no_data_alert">
        <ngb-alert [dismissible]="false">
          <strong>Please fill up all the field </strong>
        </ngb-alert>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" (click)="modal.close()">Close</button>
    </div>
  </div>
</ng-template>
<ng-template #buyoffer let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <h4 class="modal-title" id="modal-basic-title">Buy Offer</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightThemeModalBody'">
    <p class="text-center">Are you sure you want to place this Buy offer?</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modal.close()">No</button>
    <button type="button" class="btn btn-warning" (click)="modal.close(); portfolioholdingBuy()">Yes</button>
  </div>
</ng-template>

<ng-template #selloffer let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <h4 class="modal-title" id="modal-basic-title">Sell Offer</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightThemeModalBody'">
    <p class="text-center">Are you sure you want to place this Sell offer?</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modal.close()">No</button>
    <button type="button" class="btn btn-warning" (click)="modal.close(); portfolioholdingSell()">Yes</button>
  </div>
</ng-template>
<ng-template #buyofferForFuture let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <h4 class="modal-title" id="modal-basic-title">Buy Offer</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightThemeModalBody'">
    <p class="text-center">Are you sure you want to place this Buy offer?</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modal.close()">No</button>
    <button type="button" class="btn btn-warning" (click)="modal.close(); portfolioholdingBuyForFuture()">Yes</button>
  </div>
</ng-template>

<ng-template #sellofferForFuture let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <h4 class="modal-title" id="modal-basic-title">Sell Offer</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightThemeModalBody'">
    <p class="text-center">Are you sure you want to place this Sell offer?</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modal.close()">No</button>
    <button type="button" class="btn btn-warning" (click)="modal.close(); portfolioholdingSellForFuture()">Yes</button>
  </div>
</ng-template>

<!-- Modal for OPTIONS  -->
<ng-template #cryptomarginOption let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <h4 class="modal-title">Transfer To Spot</h4>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <div class="row form-group">
      <div class="col-4">Amount available:</div>
      <div class="col">
        <input type="number" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="amount" [(ngModel)]="amount" readonly />
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCur }}</span>
      </div>
    </div>
    <div class="row">
      <div class="col-4">Send amount:</div>
      <div class="col">
        <input type="number" appIsnegative min="0" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="send_amount" [(ngModel)]="send_amount" min="0" (keyup)="data.handleNumberFieldValidation($event)" (change)="data.handleNumberFieldValidation($event)"/>
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCur }}</span>
      </div>
    </div>
  </div>
  <div class="modal-footer" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <button class="btn btn-secondary" (click)="modal.close(); reset()">Close</button>
    <button
      type="button"
      class="btn btn-primary"
      data-dismiss="modal"
      *ngIf="send_amount && send_amount <= amount "
      (click)="fiatholdingPrice(); modal.close()"
    >
      Send
    </button>
  </div>
</ng-template>

<ng-template #marginoption let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <h4 class="modal-title">Margin</h4>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <div class="row form-group">
      <div class="col-4">Amount available:</div>
      <div class="col">
        <input type="number" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="amount" [(ngModel)]="amount" readonly />
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
    <div class="row">
      <div class="col-4">Send amount:</div>
      <div class="col">
        <input type="number" appIsnegative class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="send_amount" [(ngModel)]="send_amount" min="0" (keyup)="data.handleNumberFieldValidation($event)" (change)="data.handleNumberFieldValidation($event)"/>
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
  </div>
  <div class="modal-footer" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <button class="btn btn-secondary" (click)="modal.close(); reset()">Close</button>
    <button
      type="button"
      class="btn btn-primary"
      data-dismiss="modal"
      *ngIf="send_amount && send_amount <= amount "
      (click)="assetlendingPriceForOptions(); modal.close(); reset()"
    >
      Send
    </button>
  </div>
</ng-template>

<ng-template #fundingfiathoption let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <h4 class="modal-title">Funding</h4>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <div class="row form-group">
      <div class="col-4">Amount available:</div>
      <div class="col">
        <input type="text" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="amount" [(ngModel)]="amount" readonly />
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
    <div class="row form-group">
      <div class="col-4">Send amount:</div>
      <div class="col">
        <input type="number" appIsnegative class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="send_amount" [(ngModel)]="send_amount" min="0" (keyup)="data.handleNumberFieldValidation($event)" (change)="data.handleNumberFieldValidation($event)"/>
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
    <div class="row form-group">
      <div class="col-4">Return Date:</div>
      <div class="col">
        <div class="input-group">
          <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="yyyy-mm-dd" name="dp" [(ngModel)]="model" [minDate]="minDate" ngbDatepicker #d="ngbDatepicker" />
          <!-- [minDate]="{year: year, month: month, day: day}"> -->
          <div class="input-group-append">
            <button name="toggleButton" class="btn btn-info" (click)="d.toggle()" type="button">
              <i class="fa fa-calendar" aria-hidden="true"></i>
            </button>
          </div>
        </div>
      </div>
      <div class="col-2">
        <!-- <span class="dtc"></span> -->
      </div>
    </div>
    <div class="modal-footer" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
      <button class="btn btn-secondary" (click)="modal.close(); reset()">Close</button>
      <button
        type="button"
        class="btn btn-success"
        data-dismiss="modal"
        (click)="assetfundBuyForOptions(); modal.close(); reset()"
        *ngIf="send_amount && send_amount <= amount "
      >
        Submit
      </button>
    </div>
  </div>
</ng-template>

<ng-template #assetmarginoption let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <h4 class="modal-title">Margin</h4>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <div class="row form-group">
      <div class="col-4">Amount available:</div>
      <div class="col">
        <input type="number" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="amount" [(ngModel)]="amount" readonly />
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
    <div class="row">
      <div class="col-4">Send amount:</div>
      <div class="col">
        <input type="number" appIsnegative class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="send_amount" [(ngModel)]="send_amount" min="0" (keyup)="data.handleNumberFieldValidation($event)" (change)="data.handleNumberFieldValidation($event)"/>
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
  </div>
  <div class="modal-footer" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <button class="btn btn-secondary" (click)="modal.close(); reset()">Close</button>
    <button
      type="button"
      class="btn btn-primary"
      data-dismiss="modal"
      *ngIf="send_amount && send_amount <= amount "
      (click)="lendingPriceForOptions(); modal.close(); reset()"
    >
      Send
    </button>
  </div>
</ng-template>

<ng-template #assetfundingOption let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <h4 class="modal-title">Funding</h4>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
    <div class="row form-group">
      <div class="col-4">Amount available:</div>
      <div class="col">
        <input type="text" class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="amount" [(ngModel)]="amount" readonly />
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
    <div class="row form-group" *ngIf="showDropDownForContract">
      <div class="col-4">Asset Pair:</div>
      <div class="col">
        <select class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="send_amount" [(ngModel)]="assetPairForFunding">
          <option value="">Select Asset Pair</option>
          <option *ngFor="let i of assetPairList" value="{{ i.assetPair }}">
            {{ i.assetPair }}
          </option>
        </select>
      </div>
    </div>
    <div class="row form-group">
      <div class="col-4">Send amount:</div>
      <div class="col">
        <input type="number" appIsnegative class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" name="send_amount" [(ngModel)]="send_amount" min="0" (keyup)="data.handleNumberFieldValidation($event)" (change)="data.handleNumberFieldValidation($event)"/>
      </div>
      <div class="col-2">
        <span class="curc">{{ cryptoCurrency | uppercase }}</span>
      </div>
    </div>
    <div class="row form-group">
      <div class="col-4">Return Date:</div>
      <div class="col">
        <div class="input-group" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
          <input class="form-control" [ngClass]="Themecolor == 'Dark' ? '' : 'form-control-light'" placeholder="yyyy-mm-dd" [minDate]="minDate" name="dp" [(ngModel)]="model" ngbDatepicker #d="ngbDatepicker" />
          <!-- [minDate]="{year: year, month: month, day: day}"> -->
          <div class="input-group-append">
            <button name="toggleButton" class="btn btn-info" (click)="d.toggle()" type="button">
              <i class="fa fa-calendar" aria-hidden="true"></i>
            </button>
          </div>
        </div>
      </div>
      <div class="col-2">
        <!-- <span class="dtc"></span> -->
      </div>
    </div>
    <div class="modal-footer" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'" >
      <button class="btn btn-secondary" (click)="modal.close(); reset()">Close</button>
      <button
        type="button"
        class="btn btn-success"
        data-dismiss="modal"
        (click)="fundBuyForOptions(); modal.close(); reset()"
        *ngIf="send_amount && send_amount <= amount "
      >
        Submit
      </button>
    </div>
  </div>
</ng-template>

<ng-template #fiathmodalForOption let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Customer Funding Details View</h4>
  </div>
  <div class="modal-body">
    <div class="row form-group">
      <table class="table table-striped" *ngIf="fdata.length > 0">
        <thead>
          <tr>
            <th scope="col">currencyName</th>
            <th scope="col">lendingDate</th>
            <th scope="col">returnDate</th>
            <th scope="col">amount</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let objfund of fdata; index as i">
            <td>{{ objfund.currencyName }}</td>
            <td>{{ objfund.lendingDate }}</td>
            <td>{{ objfund.returnDate }}</td>
            <td>{{ objfund.amount }}</td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="fdata.length == 0" class="no_data_alert">
        <ngb-alert [dismissible]="false">
          <strong>No Data Found </strong>
        </ngb-alert>
      </div>

      <div *ngIf="fdata == -1" class="no_data_alert">
        <ngb-alert [dismissible]="false">
          <strong>Please fill up all the field </strong>
        </ngb-alert>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" (click)="modal.close(); reset()">Close</button>
    </div>
  </div>
</ng-template>

<ng-template #buyofferForOption let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <h4 class="modal-title" id="modal-basic-title">Buy Offer</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightThemeModalBody'">
    <p class="text-center">Are you sure you want to place this position?</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modal.close()">No</button>
    <button type="button" class="btn btn-warning" (click)="modal.close(); portfolioholdingBuyForOptions()">Yes</button>
  </div>
</ng-template>

<ng-template #sellofferForOption let-modal>
  <div class="modal-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <h4 class="modal-title" id="modal-basic-title">Sell Offer</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightThemeModalBody'">
    <p class="text-center">Are you sure you want to place this position?</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modal.close()">No</button>
    <button type="button" class="btn btn-warning" (click)="modal.close(); portfolioholdingSellForOptions()">Yes</button>
  </div>
</ng-template>
<ng-template #twoFactorAuth let-modal>
  <div  class="modal-header test proper-alighnment-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <h4 class="modal-title" id="modal-basic-title" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">Security Authentication</h4>
    
    <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightThemeModalBody'">
       <!--  <p class="text-left" style="color: rgb(248, 240, 240);">Input otp from your google authenticator</p> -->
        <!-- <p class="text-left" style="margin-top: -21px; color: black;">{{hiddenEmail}}</p> -->
  
        
        <form>
          <div class="form-group">
            <p class="text-left" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">Input otp from your registered email address</p>
            <div class="row">
              <div class="col-md-8">
                <input class="form-control " [ngClass]="Themecolor == 'Dark' ? 'form-control' : 'form-control-light'" numbersOnly name="emailVerificationCode" id="emailOtp" type="password" [(ngModel)]="emailOtp" placeholder="OTP" autofocus >
                
              </div>
              <button (click)="getCodeFromEmail()" class="btn getbtn btn-primary" [disabled]="isGetCodeButtonDisabled">Get Code</button>
            </div> 
            
          </div>
          <div class="form-group">
            <span id="messageotp">{{messageotp}}</span>
          </div>
          <div class="form-group">
            <p class="text-left" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">Input otp from your registered phone number</p>
            <div class="row">
              <div class="col-md-8">
                <input class="form-control " [ngClass]="Themecolor == 'Dark' ? 'form-control' : 'form-control-light'" numbersOnly name="emailVerificationCode" id="smsOtp" type="password" [(ngModel)]="smsOtp" placeholder="OTP" autofocus >
                
              </div>
              <button (click)="getCodeFromSmsForExternalWallet()" class="btn getbtn btn-primary" [disabled]="isGetCodeButtonForSmsDisabled">Get Code</button>
            </div> 
            
          </div>
          <div class="form-group">
            <span id="messageotp">{{messageotpforsms}}</span>
          </div>
          <div class="form-group">
            <input class="form-control" [ngClass]="Themecolor == 'Dark' ? 'form-control' : 'form-control-light'" name="emailVerificationCode" id="twoFactorOtp" type="password" [(ngModel)]="twoFactorOtp" placeholder="Two-Factor Authenticator code" autofocus >
            
  
          </div>
          </form>
        <p class="text-left">
          
        </p>
  
        <button type="submit" *ngIf="!isSendToOtherErc && isOpenModal" class="btn btn-primary btn-block" [disabled]="twoFactorOtp == '' || twoFactorOtp == undefined"  (click)="transactionSendForOthers(openmodal);modal.dismiss();" style="margin-top: 28px;">
          Confirm
          </button>
        <button type="submit" *ngIf="!isSendToOtherErc && !isOpenModal" class="btn btn-primary btn-block" [disabled]="twoFactorOtp == '' || twoFactorOtp == undefined"  (click)="transactionSendForOthers();modal.dismiss();" style="margin-top: 28px;">
          Confirm
          </button>
        <button type="submit" *ngIf="isSendToOtherErc && isOpenModal" class="btn btn-primary btn-block" [disabled]="twoFactorOtp == '' || twoFactorOtp == undefined"  (click)="transactionSendForOthersErc(openmodal);modal.dismiss();" style="margin-top: 28px;">
          Confirm
          </button>
        <button type="submit" *ngIf="isSendToOtherErc && !isOpenModal" class="btn btn-primary btn-block" [disabled]="twoFactorOtp == '' || twoFactorOtp == undefined"  (click)="transactionSendForOthersErc();modal.dismiss();" style="margin-top: 28px;">
          Confirm
          </button>
  
          <!-- <p [hidden]="!error" class="text-danger text-center my-3">{{errormessage}}</p>
                    <div id="unverifiesusermsgd" style="display: none;">
                        <div style='display: flex;justify-content: space-between;align-items: center;'>
                            Resend device verification mail &nbsp; &nbsp; <button id='verifyuser' class='btn btn-success'>RESEND</button>
                        </div>
                    </div>
                    <div id="countermsg" style="display: none;"></div> -->
      
      
    </div>
  </div>
  </ng-template>
<ng-template #twoFactorAuthOnly let-modal>
  <div  class="modal-header test proper-alighnment-header" [ngClass]="Themecolor == 'Dark' ? '' : 'lightTheme'">
    <h4 class="modal-title" id="modal-basic-title" [ngClass]="Themecolor == 'Dark' ? 'text-white' : 'text-black'">Security Authentication</h4>
    
    <div class="modal-body" [ngClass]="Themecolor == 'Dark' ? '' : 'lightThemeModalBody'">
       <!--  <p class="text-left" style="color: rgb(248, 240, 240);">Input otp from your google authenticator</p> -->
        <!-- <p class="text-left" style="margin-top: -21px; color: black;">{{hiddenEmail}}</p> -->
  
        
        <form>
          
          <div class="form-group">
            <span id="messageotp">{{messageotp}}</span>
          </div>
          <div class="form-group">
            <input class="form-control" [ngClass]="Themecolor == 'Dark' ? 'form-control' : 'form-control-light'" name="emailVerificationCode" id="twoFactorOtp" type="password" [(ngModel)]="twoFactorOtpOnly" placeholder="Two-Factor Authenticator code" autofocus >
            
  
          </div>
          </form>
        <p class="text-left">
          
        </p>
  
        <button type="submit"  class="btn btn-primary btn-block" [disabled]="twoFactorOtpOnly == '' || twoFactorOtpOnly == undefined"  (click)="transactionSendWithinPaybito();modal.dismiss();" style="margin-top: 28px;">
          Confirm
          </button>
         <!-- <p [hidden]="!error" class="text-danger text-center my-3">{{errormessage}}</p>
                    <div id="unverifiesusermsgd" style="display: none;">
                        <div style='display: flex;justify-content: space-between;align-items: center;'>
                            Resend device verification mail &nbsp; &nbsp; <button id='verifyuser' class='btn btn-success'>RESEND</button>
                        </div>
                    </div>
                    <div id="countermsg" style="display: none;"></div> -->
      
      
    </div>
  </div>
  </ng-template>
