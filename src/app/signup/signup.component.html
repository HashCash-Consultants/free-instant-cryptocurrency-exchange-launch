<!-- <app-loader></app-loader> -->


<div class="bitrump-body paybito-bitrump">
    
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top extraPadding">
      <div class="container-fluid">
        <a class="navbar-brand1" href="#">
         </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          
        </div>
      </div>
    </nav>
    <section class="testimonial" id="testimonial" style="padding-top: 16px;">
      <div class="container">
        <div class="card card-login mx-auto mt-5">
          <!-- <div class="card-header text-center text-blue bg-pbgreen bitrump-logo"><img [src]="data.brokerlogo" alt="">
           </div> -->
            <div class="card-header text-center text-blue p-0">
               <h5 class="text-white" style="color: black!important;">Register</h5>
           </div>
          <div class="card-body p-3 card-login-body" style="color: black;background-color: white;">
          <p class="text-dark">Ready to create your account? We're glad to hear it! We just need a few pieces of information to get you started. Fields marked with * are required.</p>

            <form name="form" #f="ngForm" (ngSubmit)="f.valid && signupData(true)">

              <div class="form-group">
                <div class="form-row">
                  <div class="col">
                    <input type="text" class="form-control validate" 
                    pattern="[A-Za-zÀ-ÿ\s -\uFFFF\x0A\x0D\x09]{1,40}" name="firstName" 
                    [(ngModel)]="signupObj.firstName" required 
                    placeholder="First name *"
                    #firstName="ngModel" [class.is-invalid]="firstName.dirty&&firstName.invalid"
                    >
                  <span class="text-danger" *ngIf="(firstName.dirty&&firstName.invalid)">Enter a valid first name</span>

                  </div>
                  <div class="col">
                    <input type="text" class="form-control validate" 
                    
                    name="middleName" 
                    [(ngModel)]="signupObj.middleName"  
                    placeholder="Middle Name"
                    #middleName="ngModel"
                    appAlphabetOnly>
                  </div>
                  <div class="col">
                    <input type="text"
                     class="form-control validate" 
                    pattern="[A-Za-zÀ-ÿ\s -\uFFFF\x0A\x0D\x09]{3,40}" 
                    name="lastName"
                     [(ngModel)]="signupObj.lastName" required 
                     placeholder="Last name *"
                    #lastName="ngModel" [class.is-invalid]="lastName.dirty&&lastName.invalid"
                    >
                  <span class="text-danger" *ngIf="(lastName.dirty&&lastName.invalid)">Enter a valid last name</span>

                  </div>

                </div>
              </div>
              
              

              <div class="form-group">
              <input class="form-control validate" [class.is-invalid]="email.dirty && email.invalid" name="email"
                  id="signupInputEmail" [(ngModel)]="signupObj.email" placeholder="Enter Email *"
                  (blur)="checkEmail()" appForbiddenName="bob" required #email="ngModel"
                  pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$">
              <span class="text-danger" *ngIf="email.dirty && email.invalid">Enter a valid email</span>
              </div>

              
              <div class="form-group">
                  <div class="row" style="margin-left: 0px;margin-right: -3px;">
                  <input type="text" class="form-control validate" name="dial_code"
                  required
                  pattern="[0-9]{8,15}" #phone="ngModel" [class.is-invalid]="phone.dirty&&phone.invalid"
                  minlength="8" maxlength="15"
                  [(ngModel)]="signupObj.phone" (blur)="checkPhone()" 
                  (ng2TelOutput)="getNumber($event)"
                  (intlTelInputObject)="telInputObject($event)"
                  (countryChange)="onCountryChange($event)"
                  (focus)="handleShowPhoneDisclaimer(true)" 
                  (focusout)="handleShowPhoneDisclaimer(false)" 
                  (click)="handleShowPhoneDisclaimer(true);"
                  ng2TelInput 
                  style="padding-left: 53px;" placeholder="Enter Phone *"/>

                  </div>
                  <span class="text-danger phoneError" *ngIf="phone.dirty&&phone.invalid">Enter a valid phone number</span>

                  <small class="text-black" *ngIf="showPhoneDisclaimer">
                    Messages and data rates may apply. If you choose to receive MFA passwords as text messages, we will send you one text message per login attempt. To stop receiving messages, reply STOP to the message. Alternatively, you can go to the Settings menu, once you login and deactivate phone authentication. Please review the Terms of use and Privacy policy on this page.
                  </small>

                  </div>
                  <div class="form-group">
                    <input class="form-control validate" [class.is-invalid]="brokerId.dirty && brokerId.invalid" name="brokerId"
                        id="signupInputBroker" [(ngModel)]="signupObj.brokerId" placeholder="Enter membership ID / Broker ID*"
                         required #brokerId="ngModel" autocomplete="off" (change)="handleBrokerIdCheck()">
                    <span class="text-danger" *ngIf="brokerId.dirty && brokerId.invalid">Enter a valid membership ID / Broker ID</span>
                    </div>
                    <div class="form-group">
                      <!-- <label for="signupInputPassword">Password</label><span class="required">*</span> -->
                      <input class="form-control validate" name="password" id="signupInputPassword" name='password'
                        [(ngModel)]="signupObj.password" type="password" placeholder="Enter Password *" (blur)="checkPassword()"
                        (change)="confirmPassword($event)" (keyup)="confirmPassword($event)" required
                        pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$!@.])[a-zA-Z0-9$!.@]{8,35}$" #password="ngModel"
                        [class.is-invalid]="password.invalid&&password.dirty">
                      <span toggle="#signupInputPassword" (click)="showHide()"
                        class="fa fa-fw fa-eye-slash field-icon showHide-password"></span>
                      <span class="text-danger" *ngIf="password.dirty&&password.invalid">
                        The password should be of minimum 8, maximum 35 characters and must contain at least one uppercase, one lowercase, a number and a special character (only $ @  . ! are allowed in special characters).
                      </span>
                    </div>
                    <div class="form-group">
                      <!-- <label for="signupInputRetypePassword">Retype Password</label><span class="required">*</span> -->
                      <input class="form-control validate" name="repassword1" id="signupInputRetypePassword" type="password"
                        placeholder="Retype Password *" [(ngModel)]="signupObj.repassword1" (keyup)="confirmPassword($event)"
                        (change)="confirmPassword($event)" required
                        pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$!@.])[a-zA-Z0-9$!.@]{8,35}$" #repassword1="ngModel"
                        [class.is-invalid]="repassword1.invalid&&repassword1.dirty">
                      <span class="confirm_password_text"></span>
                    </div>

              <div *ngIf="franchiseCode!=null ; else referralcodeuser" class="form-group referral-code">
              </div>
              <ng-template #referralcodeuser>
                  <div class="form-group referral-code">
                      <input class="form-control validate" [class.is-invalid]="referralCode.dirty && referralCode.invalid" name="referralCode"
                          id="signupInputReferralCode" [(ngModel)]="signupObj1.referralCode" placeholder="Referral Code (Optional)"
                          (mouseout)="checkReferralCode()" appForbiddenName="bob" #referralCode="ngModel">
                      <span class="text-danger" *ngIf="referralCode.dirty && referralCode.invalid">Enter a valid Referral Code </span>
                 </div>
              </ng-template>

              <div class="form-group row">
                <div class="col-md-1">

                </div>
                <div class="col-md-4 mb-2" style="margin-left: 8px;">
                  <re-captcha id="recaptcha" name="recaptcha" #recaptcha="ngModel" (resolved)="resolved($event)" [(ngModel)]="captcha" required ></re-captcha>
                  <div class="invalid-feedback">
                    <div>This field is required.</div>
                  </div>
                </div>
                <div class="col-md-2">

                </div>
              </div>

              <div class="form-group">
              </div>
              <button class="btn btn-primary btn-block text-black" id="submit_btn"
              [disabled]="f.form.invalid || !passwordMatch || !captchaNextButton">Submit</button>

              <small class="text-black text-center" >When you click the Submit Button, we'll send you MFA passwords to verify your phone number and email.</small>
          </form>

          <div class="row mt-2 forgot-pswd">
            <div class="col-12 text-center"><a routerLink="/login">Already a member?</a></div>
        </div>
      
          </div>
          
        </div>
      </div>
    </section>


    <ng-template #versionModal let-modal>
      <div  class=" lightTheme modal-header test proper-alighnment-header">
        <h4 class="modal-title" id="modal-basic-title" style="color: black;">Version Checking</h4>
        
        <div class="modal-body">
            <!-- <p class="text-left" style="color: black;">Version Checking</p> -->
           
          
      <span class="text-center">You are using version {{data.appVersion}} . New version 2.2 available for <a href="http://54.215.68.252/desktop-app/BrokerApp-v2.1.exe" download>download</a>.</span>
          
        </div>
      </div>
      </ng-template>

</div>


